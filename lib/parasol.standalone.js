!function(e,t,n,r){(n=e.createElement(t)).async=1,n.src="//"+(location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",(r=e.getElementsByTagName(t)[0]).parentNode.insertBefore(n,r)}(document,"script"),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Parasol=t()}(this,(function(){"use strict";function ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function bisector(e){return 1===e.length&&(e=ascendingComparator(e)),{left:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)<0?r=i+1:o=i}return r},right:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)>0?o=i:r=i+1}return r}}}function ascendingComparator(e){return function(t,n){return ascending(e(t),n)}}var ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;function extent(e,t){var n,r,o,i=e.length,a=-1;if(null==t){for(;++a<i;)if(null!=(n=e[a])&&n>=n)for(r=o=n;++a<i;)null!=(n=e[a])&&(r>n&&(r=n),o<n&&(o=n))}else for(;++a<i;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=o=n;++a<i;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),o<n&&(o=n));return[r,o]}function sequence(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(o);++r<o;)i[r]=e+r*n;return i}var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function ticks(e,t,n){var r,o,i,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(a=tickIncrement(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),i=new Array(o=Math.ceil(t-e+1));++s<o;)i[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),i=new Array(o=Math.ceil(e-t+1));++s<o;)i[s]=(e-s)/a;return r&&i.reverse(),i}function tickIncrement(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=e10?10:i>=e5?5:i>=e2?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=e10?10:i>=e5?5:i>=e2?2:1)}function tickStep(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=e10?o*=10:i>=e5?o*=5:i>=e2&&(o*=2),t<e?-o:o}function min(e,t){var n,r,o=e.length,i=-1;if(null==t){for(;++i<o;)if(null!=(n=e[i])&&n>=n)for(r=n;++i<o;)null!=(n=e[i])&&r>n&&(r=n)}else for(;++i<o;)if(null!=(n=t(e[i],i,e))&&n>=n)for(r=n;++i<o;)null!=(n=t(e[i],i,e))&&r>n&&(r=n);return r}var slice$1=Array.prototype.slice;function identity$1(e){return e}var top=1,right=2,bottom=3,left=4,epsilon=1e-6;function translateX(e){return"translate("+(e+.5)+",0)"}function translateY(e){return"translate(0,"+(e+.5)+")"}function number$1(e){return function(t){return+e(t)}}function center(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function entering(){return!this.__axis}function axis(e,t){var n=[],r=null,o=null,i=6,a=6,s=3,l=e===top||e===left?-1:1,c=e===left||e===right?"x":"y",u=e===top||e===bottom?translateX:translateY;function d(d){var f=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,h=null==o?t.tickFormat?t.tickFormat.apply(t,n):identity$1:o,p=Math.max(i,0)+s,g=t.range(),m=+g[0]+.5,v=+g[g.length-1]+.5,y=(t.bandwidth?center:number$1)(t.copy()),b=d.selection?d.selection():d,w=b.selectAll(".domain").data([null]),C=b.selectAll(".tick").data(f,t).order(),x=C.exit(),_=C.enter().append("g").attr("class","tick"),R=C.select("line"),$=C.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),C=C.merge(_),R=R.merge(_.append("line").attr("stroke","#000").attr(c+"2",l*i)),$=$.merge(_.append("text").attr("fill","#000").attr(c,l*p).attr("dy",e===top?"0em":e===bottom?"0.71em":"0.32em")),d!==b&&(w=w.transition(d),C=C.transition(d),R=R.transition(d),$=$.transition(d),x=x.transition(d).attr("opacity",epsilon).attr("transform",(function(e){return isFinite(e=y(e))?u(e):this.getAttribute("transform")})),_.attr("opacity",epsilon).attr("transform",(function(e){var t=this.parentNode.__axis;return u(t&&isFinite(t=t(e))?t:y(e))}))),x.remove(),w.attr("d",e===left||e==right?"M"+l*a+","+m+"H0.5V"+v+"H"+l*a:"M"+m+","+l*a+"V0.5H"+v+"V"+l*a),C.attr("opacity",1).attr("transform",(function(e){return u(y(e))})),R.attr(c+"2",l*i),$.attr(c,l*p).text(h),b.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===right?"start":e===left?"end":"middle"),b.each((function(){this.__axis=y}))}return d.scale=function(e){return arguments.length?(t=e,d):t},d.ticks=function(){return n=slice$1.call(arguments),d},d.tickArguments=function(e){return arguments.length?(n=null==e?[]:slice$1.call(e),d):n.slice()},d.tickValues=function(e){return arguments.length?(r=null==e?null:slice$1.call(e),d):r&&r.slice()},d.tickFormat=function(e){return arguments.length?(o=e,d):o},d.tickSize=function(e){return arguments.length?(i=a=+e,d):i},d.tickSizeInner=function(e){return arguments.length?(i=+e,d):i},d.tickSizeOuter=function(e){return arguments.length?(a=+e,d):a},d.tickPadding=function(e){return arguments.length?(s=+e,d):s},d}function axisTop(e){return axis(top,e)}function axisRight(e){return axis(right,e)}function axisBottom(e){return axis(bottom,e)}function axisLeft(e){return axis(left,e)}var noop={value:function(){}};function dispatch(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new Dispatch(r)}function Dispatch(e){this._=e}function parseTypenames(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function get(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function set(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=noop,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(e,t){var n,r=this._,o=parseTypenames(e+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=set(r[n],e.name,t);else if(null==t)for(n in r)r[n]=set(r[n],e.name,null);return this}for(;++i<a;)if((n=(e=o[i]).type)&&(n=get(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Dispatch(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml:xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),namespaces.hasOwnProperty(t)?{space:namespaces[t],local:e}:e}function creatorInherit(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===xhtml&&t.documentElement.namespaceURI===xhtml?t.createElement(e):t.createElementNS(n,e)}}function creatorFixed(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function creator(e){var t=namespace(e);return(t.local?creatorFixed:creatorInherit)(t)}function none(){}function selector(e){return null==e?none:function(){return this.querySelector(e)}}function selection_select(e){"function"!=typeof e&&(e=selector(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=t[o],l=s.length,c=r[o]=new Array(l),u=0;u<l;++u)(i=s[u])&&(a=e.call(i,i.__data__,u,s))&&("__data__"in i&&(a.__data__=i.__data__),c[u]=a);return new Selection(r,this._parents)}function empty(){return[]}function selectorAll(e){return null==e?empty:function(){return this.querySelectorAll(e)}}function selection_selectAll(e){"function"!=typeof e&&(e=selectorAll(e));for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,s=t[i],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(e.call(a,a.__data__,c,s)),o.push(a));return new Selection(r,o)}var matcher=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var element=document.documentElement;if(!element.matches){var vendorMatches=element.webkitMatchesSelector||element.msMatchesSelector||element.mozMatchesSelector||element.oMatchesSelector;matcher=function(e){return function(){return vendorMatches.call(this,e)}}}}var matcher$1=matcher;function selection_filter(e){"function"!=typeof e&&(e=matcher$1(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&l.push(i);return new Selection(r,this._parents)}function sparse(e){return new Array(e.length)}function selection_enter(){return new Selection(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function constant$1(e){return function(){return e}}EnterNode.prototype={constructor:EnterNode,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var keyPrefix="$";function bindIndex(e,t,n,r,o,i){for(var a,s=0,l=t.length,c=i.length;s<c;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new EnterNode(e,i[s]);for(;s<l;++s)(a=t[s])&&(o[s]=a)}function bindKey(e,t,n,r,o,i,a){var s,l,c,u={},d=t.length,f=i.length,h=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(h[s]=c=keyPrefix+a.call(l,l.__data__,s,t),c in u?o[s]=l:u[c]=l);for(s=0;s<f;++s)(l=u[c=keyPrefix+a.call(e,i[s],s,i)])?(r[s]=l,l.__data__=i[s],u[c]=null):n[s]=new EnterNode(e,i[s]);for(s=0;s<d;++s)(l=t[s])&&u[h[s]]===l&&(o[s]=l)}function selection_data(e,t){if(!e)return h=new Array(this.size()),c=-1,this.each((function(e){h[++c]=e})),h;var n=t?bindKey:bindIndex,r=this._parents,o=this._groups;"function"!=typeof e&&(e=constant$1(e));for(var i=o.length,a=new Array(i),s=new Array(i),l=new Array(i),c=0;c<i;++c){var u=r[c],d=o[c],f=d.length,h=e.call(u,u&&u.__data__,c,r),p=h.length,g=s[c]=new Array(p),m=a[c]=new Array(p);n(u,d,g,m,l[c]=new Array(f),h,t);for(var v,y,b=0,w=0;b<p;++b)if(v=g[b]){for(b>=w&&(w=b+1);!(y=m[w])&&++w<p;);v._next=y||null}}return(a=new Selection(a,r))._enter=s,a._exit=l,a}function selection_exit(){return new Selection(this._exit||this._groups.map(sparse),this._parents)}function selection_merge(e){for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l,c=t[s],u=n[s],d=c.length,f=a[s]=new Array(d),h=0;h<d;++h)(l=c[h]||u[h])&&(f[h]=l);for(;s<r;++s)a[s]=t[s];return new Selection(a,this._parents)}function selection_order(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this}function selection_sort(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=ascending$1);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],l=s.length,c=o[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new Selection(o,this._parents).order()}function ascending$1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function selection_call(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function selection_nodes(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e}function selection_node(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null}function selection_size(){var e=0;return this.each((function(){++e})),e}function selection_empty(){return!this.node()}function selection_each(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this}function attrRemove(e){return function(){this.removeAttribute(e)}}function attrRemoveNS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant(e,t){return function(){this.setAttribute(e,t)}}function attrConstantNS(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function attrFunction(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function attrFunctionNS(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function selection_attr(e,t){var n=namespace(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?attrRemoveNS:attrRemove:"function"==typeof t?n.local?attrFunctionNS:attrFunction:n.local?attrConstantNS:attrConstant)(n,t))}function defaultView(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function styleRemove(e){return function(){this.style.removeProperty(e)}}function styleConstant(e,t,n){return function(){this.style.setProperty(e,t,n)}}function styleFunction(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function selection_style(e,t,n){return arguments.length>1?this.each((null==t?styleRemove:"function"==typeof t?styleFunction:styleConstant)(e,t,null==n?"":n)):styleValue(this.node(),e)}function styleValue(e,t){return e.style.getPropertyValue(t)||defaultView(e).getComputedStyle(e,null).getPropertyValue(t)}function propertyRemove(e){return function(){delete this[e]}}function propertyConstant(e,t){return function(){this[e]=t}}function propertyFunction(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function selection_property(e,t){return arguments.length>1?this.each((null==t?propertyRemove:"function"==typeof t?propertyFunction:propertyConstant)(e,t)):this.node()[e]}function classArray(e){return e.trim().split(/^|\s+/)}function classList(e){return e.classList||new ClassList(e)}function ClassList(e){this._node=e,this._names=classArray(e.getAttribute("class")||"")}function classedAdd(e,t){for(var n=classList(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function classedRemove(e,t){for(var n=classList(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function classedTrue(e){return function(){classedAdd(this,e)}}function classedFalse(e){return function(){classedRemove(this,e)}}function classedFunction(e,t){return function(){(t.apply(this,arguments)?classedAdd:classedRemove)(this,e)}}function selection_classed(e,t){var n=classArray(e+"");if(arguments.length<2){for(var r=classList(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?classedFunction:t?classedTrue:classedFalse)(n,t))}function textRemove(){this.textContent=""}function textConstant(e){return function(){this.textContent=e}}function textFunction(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function selection_text(e){return arguments.length?this.each(null==e?textRemove:("function"==typeof e?textFunction:textConstant)(e)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(e){return function(){this.innerHTML=e}}function htmlFunction(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function selection_html(e){return arguments.length?this.each(null==e?htmlRemove:("function"==typeof e?htmlFunction:htmlConstant)(e)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(e){var t="function"==typeof e?e:creator(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))}function constantNull(){return null}function selection_insert(e,t){var n="function"==typeof e?e:creator(e),r=null==t?constantNull:"function"==typeof t?t:selector(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))}function remove(){var e=this.parentNode;e&&e.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function selection_cloneDeep(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function selection_clone(e){return this.select(e?selection_cloneDeep:selection_cloneShallow)}function selection_datum(e){return arguments.length?this.property("__data__",e):this.node().__data__}ClassList.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var filterEvents={},event=null;if("undefined"!=typeof document){var element$1=document.documentElement;"onmouseenter"in element$1||(filterEvents={mouseenter:"mouseover",mouseleave:"mouseout"})}function filterContextListener(e,t,n){return e=contextListener(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function contextListener(e,t,n){return function(r){var o=event;event=r;try{e.call(this,this.__data__,t,n)}finally{event=o}}}function parseTypenames$1(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function onRemove(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?t.length=o:delete this.__on}}}function onAdd(e,t,n){var r=filterEvents.hasOwnProperty(e.type)?filterContextListener:contextListener;return function(o,i,a){var s,l=this.__on,c=r(t,i,a);if(l)for(var u=0,d=l.length;u<d;++u)if((s=l[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=t);this.addEventListener(e.type,c,n),s={type:e.type,name:e.name,value:t,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function selection_on(e,t,n){var r,o,i=parseTypenames$1(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?onAdd:onRemove,null==n&&(n=!1),r=0;r<a;++r)this.each(s(i[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value}function customEvent(e,t,n,r){var o=event;e.sourceEvent=event,event=e;try{return t.apply(n,r)}finally{event=o}}function dispatchEvent(e,t,n){var r=defaultView(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function dispatchConstant(e,t){return function(){return dispatchEvent(this,e,t)}}function dispatchFunction(e,t){return function(){return dispatchEvent(this,e,t.apply(this,arguments))}}function selection_dispatch(e,t){return this.each(("function"==typeof t?dispatchFunction:dispatchConstant)(e,t))}var root=[null];function Selection(e,t){this._groups=e,this._parents=t}function selection(){return new Selection([[document.documentElement]],root)}function select(e){return"string"==typeof e?new Selection([[document.querySelector(e)]],[document.documentElement]):new Selection([[e]],root)}function sourceEvent(){for(var e,t=event;e=t.sourceEvent;)t=e;return t}function point(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}function mouse(e){var t=sourceEvent();return t.changedTouches&&(t=t.changedTouches[0]),point(e,t)}function selectAll(e){return"string"==typeof e?new Selection([document.querySelectorAll(e)],[document.documentElement]):new Selection([null==e?[]:e],root)}function touch(e,t,n){arguments.length<3&&(n=t,t=sourceEvent().changedTouches);for(var r,o=0,i=t?t.length:0;o<i;++o)if((r=t[o]).identifier===n)return point(e,r);return null}function nopropagation(){event.stopImmediatePropagation()}function noevent(){event.preventDefault(),event.stopImmediatePropagation()}function dragDisable(e){var t=e.document.documentElement,n=select(e).on("dragstart.drag",noevent,!0);"onselectstart"in t?n.on("selectstart.drag",noevent,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function yesdrag(e,t){var n=e.document.documentElement,r=select(e).on("dragstart.drag",null);t&&(r.on("click.drag",noevent,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function constant$2(e){return function(){return e}}function DragEvent(e,t,n,r,o,i,a,s,l,c){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=o,this.x=i,this.y=a,this.dx=s,this.dy=l,this._=c}function defaultFilter(){return!event.button}function defaultContainer(){return this.parentNode}function defaultSubject(e){return null==e?{x:event.x,y:event.y}:e}function defaultTouchable(){return"ontouchstart"in this}function drag(){var e,t,n,r,o=defaultFilter,i=defaultContainer,a=defaultSubject,s=defaultTouchable,l={},c=dispatch("start","drag","end"),u=0,d=0;function f(e){e.on("mousedown.drag",h).filter(s).on("touchstart.drag",m).on("touchmove.drag",v).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(){if(!r&&o.apply(this,arguments)){var a=b("mouse",i.apply(this,arguments),mouse,this,arguments);a&&(select(event.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),dragDisable(event.view),nopropagation(),n=!1,e=event.clientX,t=event.clientY,a("start"))}}function p(){if(noevent(),!n){var r=event.clientX-e,o=event.clientY-t;n=r*r+o*o>d}l.mouse("drag")}function g(){select(event.view).on("mousemove.drag mouseup.drag",null),yesdrag(event.view,n),noevent(),l.mouse("end")}function m(){if(o.apply(this,arguments)){var e,t,n=event.changedTouches,r=i.apply(this,arguments),a=n.length;for(e=0;e<a;++e)(t=b(n[e].identifier,r,touch,this,arguments))&&(nopropagation(),t("start"))}}function v(){var e,t,n=event.changedTouches,r=n.length;for(e=0;e<r;++e)(t=l[n[e].identifier])&&(noevent(),t("drag"))}function y(){var e,t,n=event.changedTouches,o=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<o;++e)(t=l[n[e].identifier])&&(nopropagation(),t("end"))}function b(e,t,n,r,o){var i,s,d,h=n(t,e),p=c.copy();if(customEvent(new DragEvent(f,"beforestart",i,e,u,h[0],h[1],0,0,p),(function(){return null!=(event.subject=i=a.apply(r,o))&&(s=i.x-h[0]||0,d=i.y-h[1]||0,!0)})))return function a(c){var g,m=h;switch(c){case"start":l[e]=a,g=u++;break;case"end":delete l[e],--u;case"drag":h=n(t,e),g=u}customEvent(new DragEvent(f,c,i,e,g,h[0]+s,h[1]+d,h[0]-m[0],h[1]-m[1],p),p.apply,p,[c,r,o])}}return f.filter=function(e){return arguments.length?(o="function"==typeof e?e:constant$2(!!e),f):o},f.container=function(e){return arguments.length?(i="function"==typeof e?e:constant$2(e),f):i},f.subject=function(e){return arguments.length?(a="function"==typeof e?e:constant$2(e),f):a},f.touchable=function(e){return arguments.length?(s="function"==typeof e?e:constant$2(!!e),f):s},f.on=function(){var e=c.on.apply(c,arguments);return e===c?f:e},f.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,f):Math.sqrt(d)},f}function define$1(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function extend(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Color(){}Selection.prototype=selection.prototype={constructor:Selection,select:selection_select,selectAll:selection_selectAll,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,merge:selection_merge,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch},DragEvent.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex3=/^#([0-9a-f]{3})$/,reHex6=/^#([0-9a-f]{6})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color(e){var t;return e=(e+"").trim().toLowerCase(),(t=reHex3.exec(e))?new Rgb((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=reHex6.exec(e))?rgbn(parseInt(t[1],16)):(t=reRgbInteger.exec(e))?new Rgb(t[1],t[2],t[3],1):(t=reRgbPercent.exec(e))?new Rgb(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=reRgbaInteger.exec(e))?rgba(t[1],t[2],t[3],t[4]):(t=reRgbaPercent.exec(e))?rgba(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=reHslPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,1):(t=reHslaPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,t[4]):named.hasOwnProperty(e)?rgbn(named[e]):"transparent"===e?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,255&e,1)}function rgba(e,t,n,r){return r<=0&&(e=t=n=NaN),new Rgb(e,t,n,r)}function rgbConvert(e){return e instanceof Color||(e=color(e)),e?new Rgb((e=e.rgb()).r,e.g,e.b,e.opacity):new Rgb}function rgb(e,t,n,r){return 1===arguments.length?rgbConvert(e):new Rgb(e,t,n,null==r?1:r)}function Rgb(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function hex(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function hsla(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl(e,t,n,r)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,l=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new Hsl(a,s,l,e.opacity)}function hsl(e,t,n,r){return 1===arguments.length?hslConvert(e):new Hsl(e,t,n,null==r?1:r)}function Hsl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function hsl2rgb(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}define$1(Color,color,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),define$1(Rgb,rgb,extend(Color,{brighter:function(e){return e=null==e?brighter:Math.pow(brighter,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?darker:Math.pow(darker,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),define$1(Hsl,hsl,extend(Color,{brighter:function(e){return e=null==e?brighter:Math.pow(brighter,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?darker:Math.pow(darker,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Rgb(hsl2rgb(e>=240?e-240:e+120,o,r),hsl2rgb(e,o,r),hsl2rgb(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var deg2rad=Math.PI/180,rad2deg=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;function labConvert(e){if(e instanceof Lab)return new Lab(e.l,e.a,e.b,e.opacity);if(e instanceof Hcl){if(isNaN(e.h))return new Lab(e.l,0,0,e.opacity);var t=e.h*deg2rad;return new Lab(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof Rgb||(e=rgbConvert(e));var n,r,o=rgb2lrgb(e.r),i=rgb2lrgb(e.g),a=rgb2lrgb(e.b),s=xyz2lab((.2225045*o+.7168786*i+.0606169*a)/Yn);return o===i&&i===a?n=r=s:(n=xyz2lab((.4360747*o+.3850649*i+.1430804*a)/Xn),r=xyz2lab((.0139322*o+.0971045*i+.7141733*a)/Zn)),new Lab(116*s-16,500*(n-s),200*(s-r),e.opacity)}function lab(e,t,n,r){return 1===arguments.length?labConvert(e):new Lab(e,t,n,null==r?1:r)}function Lab(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function xyz2lab(e){return e>t3?Math.pow(e,1/3):e/t2+t0}function lab2xyz(e){return e>t1?e*e*e:t2*(e-t0)}function lrgb2rgb(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function rgb2lrgb(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function hclConvert(e){if(e instanceof Hcl)return new Hcl(e.h,e.c,e.l,e.opacity);if(e instanceof Lab||(e=labConvert(e)),0===e.a&&0===e.b)return new Hcl(NaN,0,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*rad2deg;return new Hcl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function hcl(e,t,n,r){return 1===arguments.length?hclConvert(e):new Hcl(e,t,n,null==r?1:r)}function Hcl(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}define$1(Lab,lab,extend(Color,{brighter:function(e){return new Lab(this.l+K*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Lab(this.l-K*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new Rgb(lrgb2rgb(3.1338561*(t=Xn*lab2xyz(t))-1.6168667*(e=Yn*lab2xyz(e))-.4906146*(n=Zn*lab2xyz(n))),lrgb2rgb(-.9787684*t+1.9161415*e+.033454*n),lrgb2rgb(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),define$1(Hcl,hcl,extend(Color,{brighter:function(e){return new Hcl(this.h,this.c,this.l+K*(null==e?1:e),this.opacity)},darker:function(e){return new Hcl(this.h,this.c,this.l-K*(null==e?1:e),this.opacity)},rgb:function(){return labConvert(this).rgb()}}));var A=-.14861,B=1.78277,C=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A;function cubehelixConvert(e){if(e instanceof Cubehelix)return new Cubehelix(e.h,e.s,e.l,e.opacity);e instanceof Rgb||(e=rgbConvert(e));var t=e.r/255,n=e.g/255,r=e.b/255,o=(BC_DA*r+ED*t-EB*n)/(BC_DA+ED-EB),i=r-o,a=(E*(n-o)-C*i)/D,s=Math.sqrt(a*a+i*i)/(E*o*(1-o)),l=s?Math.atan2(a,i)*rad2deg-120:NaN;return new Cubehelix(l<0?l+360:l,s,o,e.opacity)}function cubehelix(e,t,n,r){return 1===arguments.length?cubehelixConvert(e):new Cubehelix(e,t,n,null==r?1:r)}function Cubehelix(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function basis(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}function basis$1(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,s=r<t-1?e[r+2]:2*i-o;return basis((n-r/t)*t,a,o,i,s)}}function constant$3(e){return function(){return e}}function linear(e,t){return function(n){return e+n*t}}function exponential(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function hue(e,t){var n=t-e;return n?linear(e,n>180||n<-180?n-360*Math.round(n/360):n):constant$3(isNaN(e)?t:e)}function gamma(e){return 1==(e=+e)?nogamma:function(t,n){return n-t?exponential(t,n,e):constant$3(isNaN(t)?n:t)}}function nogamma(e,t){var n=t-e;return n?linear(e,n):constant$3(isNaN(e)?t:e)}define$1(Cubehelix,cubehelix,extend(Color,{brighter:function(e){return e=null==e?brighter:Math.pow(brighter,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?darker:Math.pow(darker,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*deg2rad,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),o=Math.sin(e);return new Rgb(255*(t+n*(A*r+B*o)),255*(t+n*(C*r+D*o)),255*(t+n*(E*r)),this.opacity)}}));var interpolateRgb=function e(t){var n=gamma(t);function r(e,t){var r=n((e=rgb(e)).r,(t=rgb(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=nogamma(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function rgbSpline(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=rgb(t[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=e(i),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=s(e),r+""}}}var rgbBasis=rgbSpline(basis$1);function array$1(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=interpolateValue(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}function date(e,t){var n=new Date;return t-=e=+e,function(r){return n.setTime(e+t*r),n}}function interpolateNumber(e,t){return t-=e=+e,function(n){return e+t*n}}function object(e,t){var n,r={},o={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=interpolateValue(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(e){return function(){return e}}function one(e){return function(t){return e(t)+""}}function interpolateString(e,t){var n,r,o,i=reA.lastIndex=reB.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=reA.exec(e))&&(r=reB.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:interpolateNumber(n,r)})),i=reB.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?one(l[0].x):zero(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function interpolateValue(e,t){var n,r=typeof t;return null==t||"boolean"===r?constant$3(t):("number"===r?interpolateNumber:"string"===r?(n=color(t))?(t=n,interpolateRgb):interpolateString:t instanceof color?interpolateRgb:t instanceof Date?date:Array.isArray(t)?array$1:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?object:interpolateNumber)(e,t)}function interpolateRound(e,t){return t-=e=+e,function(n){return Math.round(e+t*n)}}var degrees=180/Math.PI,identity$2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},cssNode,cssRoot,cssView,svgNode;function decompose(e,t,n,r,o,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*degrees,skewX:Math.atan(l)*degrees,scaleX:a,scaleY:s}}function parseCss(e){return"none"===e?identity$2:(cssNode||(cssNode=document.createElement("DIV"),cssRoot=document.documentElement,cssView=document.defaultView),cssNode.style.transform=e,e=cssView.getComputedStyle(cssRoot.appendChild(cssNode),null).getPropertyValue("transform"),cssRoot.removeChild(cssNode),decompose(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function parseSvg(e){return null==e?identity$2:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",e),(e=svgNode.transform.baseVal.consolidate())?decompose((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):identity$2)}function interpolateTransform(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],l=[];return i=e(i),a=e(a),function(e,r,o,i,a,s){if(e!==o||r!==i){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:interpolateNumber(e,o)},{i:l-2,x:interpolateNumber(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,l),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:interpolateNumber(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,s,l),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:interpolateNumber(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,s,l),function(e,t,n,r,i,a){if(e!==n||t!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:interpolateNumber(e,n)},{i:s-2,x:interpolateNumber(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,l),i=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),rho=Math.SQRT2;function cubehelix$1(e){return function t(n){function r(t,r){var o=e((t=cubehelix(t)).h,(r=cubehelix(r)).h),i=nogamma(t.s,r.s),a=nogamma(t.l,r.l),s=nogamma(t.opacity,r.opacity);return function(e){return t.h=o(e),t.s=i(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}cubehelix$1(hue);var cubehelixLong=cubehelix$1(nogamma),frame=0,timeout=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(e,t,n){var r=new Timer;return r.restart(e,t,n),r}function timerFlush(){now(),++frame;for(var e,t=taskHead;t;)(e=clockNow-t._time)>=0&&t._call.call(null,e),t=t._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var e=clock.now(),t=e-clockLast;t>pokeDelay&&(clockSkew-=t,clockLast=e)}function nap(){for(var e,t,n=taskHead,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:taskHead=t);taskTail=e,sleep(r)}function sleep(e){frame||(timeout&&(timeout=clearTimeout(timeout)),e-clockNow>24?(e<1/0&&(timeout=setTimeout(wake,e-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake)))}function timeout$1(e,t,n){var r=new Timer;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r}Timer.prototype=timer.prototype={constructor:Timer,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?now():+n)+(null==t?0:+t),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=e,this._time=n,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var emptyOn=dispatch("start","end","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};create$1(e,n,{name:t,index:r,group:o,on:emptyOn,tween:emptyTween,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:CREATED})}function init(e,t){var n=get$1(e,t);if(n.state>CREATED)throw new Error("too late; already scheduled");return n}function set$1(e,t){var n=get$1(e,t);if(n.state>STARTING)throw new Error("too late; already started");return n}function get$1(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function create$1(e,t,n){var r,o=e.__transition;function i(l){var c,u,d,f;if(n.state!==SCHEDULED)return s();for(c in o)if((f=o[c]).name===n.name){if(f.state===STARTED)return timeout$1(i);f.state===RUNNING?(f.state=ENDED,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete o[c]):+c<t&&(f.state=ENDED,f.timer.stop(),delete o[c])}if(timeout$1((function(){n.state===STARTED&&(n.state=RUNNING,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=STARTING,n.on.call("start",e,e.__data__,n.index,n.group),n.state===STARTING){for(n.state=STARTED,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=f);r.length=u+1}}function a(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=ENDING,1),i=-1,a=r.length;++i<a;)r[i].call(null,o);n.state===ENDING&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=ENDED,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=timer((function(e){n.state=SCHEDULED,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)}),0,n.time)}function interrupt(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>STARTING&&n.state<ENDING,n.state=ENDED,n.timer.stop(),r&&n.on.call("interrupt",e,e.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete e.__transition}}function selection_interrupt(e){return this.each((function(){interrupt(this,e)}))}function tweenRemove(e,t){var n,r;return function(){var o=set$1(this,e),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}function tweenFunction(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=set$1(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=s;break}l===c&&o.push(s)}i.tween=o}}function transition_tween(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=get$1(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?tweenRemove:tweenFunction)(n,e,t))}function tweenValue(e,t,n){var r=e._id;return e.each((function(){var e=set$1(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return get$1(e,r).value[t]}}function interpolate(e,t){var n;return("number"==typeof t?interpolateNumber:t instanceof color?interpolateRgb:(n=color(t))?(t=n,interpolateRgb):interpolateString)(e,t)}function attrRemove$1(e){return function(){this.removeAttribute(e)}}function attrRemoveNS$1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant$1(e,t,n){var r,o;return function(){var i=this.getAttribute(e);return i===n?null:i===r?o:o=t(r=i,n)}}function attrConstantNS$1(e,t,n){var r,o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===n?null:i===r?o:o=t(r=i,n)}}function attrFunction$1(e,t,n){var r,o,i;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttribute(e))===s?null:a===r&&s===o?i:i=t(r=a,o=s);this.removeAttribute(e)}}function attrFunctionNS$1(e,t,n){var r,o,i;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttributeNS(e.space,e.local))===s?null:a===r&&s===o?i:i=t(r=a,o=s);this.removeAttributeNS(e.space,e.local)}}function transition_attr(e,t){var n=namespace(e),r="transform"===n?interpolateTransformSvg:interpolate;return this.attrTween(e,"function"==typeof t?(n.local?attrFunctionNS$1:attrFunction$1)(n,r,tweenValue(this,"attr."+e,t)):null==t?(n.local?attrRemoveNS$1:attrRemove$1)(n):(n.local?attrConstantNS$1:attrConstant$1)(n,r,t+""))}function attrTweenNS(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttributeNS(e.space,e.local,r(t))}}return n._value=t,n}function attrTween(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttribute(e,r(t))}}return n._value=t,n}function transition_attrTween(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=namespace(e);return this.tween(n,(r.local?attrTweenNS:attrTween)(r,t))}function delayFunction(e,t){return function(){init(this,e).delay=+t.apply(this,arguments)}}function delayConstant(e,t){return t=+t,function(){init(this,e).delay=t}}function transition_delay(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?delayFunction:delayConstant)(t,e)):get$1(this.node(),t).delay}function durationFunction(e,t){return function(){set$1(this,e).duration=+t.apply(this,arguments)}}function durationConstant(e,t){return t=+t,function(){set$1(this,e).duration=t}}function transition_duration(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?durationFunction:durationConstant)(t,e)):get$1(this.node(),t).duration}function easeConstant(e,t){if("function"!=typeof t)throw new Error;return function(){set$1(this,e).ease=t}}function transition_ease(e){var t=this._id;return arguments.length?this.each(easeConstant(t,e)):get$1(this.node(),t).ease}function transition_filter(e){"function"!=typeof e&&(e=matcher$1(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&l.push(i);return new Transition(r,this._parents,this._name,this._id)}function transition_merge(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l,c=t[s],u=n[s],d=c.length,f=a[s]=new Array(d),h=0;h<d;++h)(l=c[h]||u[h])&&(f[h]=l);for(;s<r;++s)a[s]=t[s];return new Transition(a,this._parents,this._name,this._id)}function start(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}function onFunction(e,t,n){var r,o,i=start(t)?init:set$1;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}function transition_on(e,t){var n=this._id;return arguments.length<2?get$1(this.node(),n).on.on(e):this.each(onFunction(n,e,t))}function removeFunction(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=selector(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,l,c=r[a],u=c.length,d=i[a]=new Array(u),f=0;f<u;++f)(s=c[f])&&(l=e.call(s,s.__data__,f,c))&&("__data__"in s&&(l.__data__=s.__data__),d[f]=l,schedule(d[f],t,n,f,d,get$1(s,n)));return new Transition(i,this._parents,t,n)}function transition_selectAll(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=selectorAll(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var l,c=r[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var f,h=e.call(l,l.__data__,d,c),p=get$1(l,n),g=0,m=h.length;g<m;++g)(f=h[g])&&schedule(f,t,n,g,h,p);i.push(h),a.push(l)}return new Transition(i,a,t,n)}var Selection$1=selection.prototype.constructor;function transition_selection(){return new Selection$1(this._groups,this._parents)}function styleRemove$1(e,t){var n,r,o;return function(){var i=styleValue(this,e),a=(this.style.removeProperty(e),styleValue(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}function styleRemoveEnd(e){return function(){this.style.removeProperty(e)}}function styleConstant$1(e,t,n){var r,o;return function(){var i=styleValue(this,e);return i===n?null:i===r?o:o=t(r=i,n)}}function styleFunction$1(e,t,n){var r,o,i;return function(){var a=styleValue(this,e),s=n(this);return null==s&&(this.style.removeProperty(e),s=styleValue(this,e)),a===s?null:a===r&&s===o?i:i=t(r=a,o=s)}}function transition_style(e,t,n){var r="transform"==(e+="")?interpolateTransformCss:interpolate;return null==t?this.styleTween(e,styleRemove$1(e,r)).on("end.style."+e,styleRemoveEnd(e)):this.styleTween(e,"function"==typeof t?styleFunction$1(e,r,tweenValue(this,"style."+e,t)):styleConstant$1(e,r,t+""),n)}function styleTween(e,t,n){function r(){var r=this,o=t.apply(r,arguments);return o&&function(t){r.style.setProperty(e,o(t),n)}}return r._value=t,r}function transition_styleTween(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,styleTween(e,t,null==n?"":n))}function textConstant$1(e){return function(){this.textContent=e}}function textFunction$1(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function transition_text(e){return this.tween("text","function"==typeof e?textFunction$1(tweenValue(this,"text",e)):textConstant$1(null==e?"":e+""))}function transition_transition(){for(var e=this._name,t=this._id,n=newId(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=get$1(a,t);schedule(a,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Transition(r,this._parents,e,n)}var id=0;function Transition(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function transition(e){return selection().transition(e)}function newId(){return++id}var selection_prototype=selection.prototype;function cubicInOut(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}Transition.prototype=transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease};var pi=Math.PI,tau=2*Math.PI,defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return defaultTiming.time=now(),defaultTiming;return n}function selection_transition(e){var t,n;e instanceof Transition?(t=e._id,e=e._name):(t=newId(),(n=defaultTiming).time=now(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,c=0;c<l;++c)(a=s[c])&&schedule(a,e,t,c,s,n||inherit(a,t));return new Transition(r,this._parents,e,t)}function constant$4(e){return function(){return e}}function BrushEvent(e,t,n){this.target=e,this.type=t,this.selection=n}function nopropagation$1(){event.stopImmediatePropagation()}function noevent$1(){event.preventDefault(),event.stopImmediatePropagation()}selection.prototype.interrupt=selection_interrupt,selection.prototype.transition=selection_transition;var MODE_DRAG={name:"drag"},MODE_SPACE={name:"space"},MODE_HANDLE={name:"handle"},MODE_CENTER={name:"center"},X={name:"x",handles:["e","w"].map(type),input:function(e,t){return e&&[[e[0],t[0][1]],[e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Y={name:"y",handles:["n","s"].map(type),input:function(e,t){return e&&[[t[0][0],e[0]],[t[1][0],e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},cursors={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},flipX={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},flipY={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},signsX={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},signsY={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function type(e){return{type:e}}function defaultFilter$1(){return!event.button}function defaultExtent(){var e=this.ownerSVGElement||this;return[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function local$1(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function empty$1(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function brushSelection(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function brushY(){return brush$1(Y)}function brush$1(e){var t,n=defaultExtent,r=defaultFilter$1,o=dispatch(a,"start","brush","end"),i=6;function a(t){var n=t.property("__brush",d).selectAll(".overlay").data([type("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",cursors.overlay).merge(n).each((function(){var e=local$1(this).extent;select(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])})),t.selectAll(".selection").data([type("selection")]).enter().append("rect").attr("class","selection").attr("cursor",cursors.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,(function(e){return e.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(e){return"handle handle--"+e.type})).attr("cursor",(function(e){return cursors[e.type]})),t.each(s).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",u)}function s(){var e=select(this),t=local$1(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",(function(e){return"e"===e.type[e.type.length-1]?t[1][0]-i/2:t[0][0]-i/2})).attr("y",(function(e){return"s"===e.type[0]?t[1][1]-i/2:t[0][1]-i/2})).attr("width",(function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+i:i})).attr("height",(function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+i:i}))):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(e,t){return e.__brush.emitter||new c(e,t)}function c(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function u(){if(event.touches){if(event.changedTouches.length<event.touches.length)return noevent$1()}else if(t)return;if(r.apply(this,arguments)){var n,o,i,a,c,u,d,f,h,p,g,m,v,y=this,b=event.target.__data__.type,w="selection"===(event.metaKey?b="overlay":b)?MODE_DRAG:event.altKey?MODE_CENTER:MODE_HANDLE,C=e===Y?null:signsX[b],x=e===X?null:signsY[b],_=local$1(y),R=_.extent,$=_.selection,A=R[0][0],S=R[0][1],E=R[1][0],T=R[1][1],k=C&&x&&event.shiftKey,M=mouse(y),P=M,L=l(y,arguments).beforestart();"overlay"===b?_.selection=$=[[n=e===Y?A:M[0],i=e===X?S:M[1]],[c=e===Y?E:n,d=e===X?T:i]]:(n=$[0][0],i=$[0][1],c=$[1][0],d=$[1][1]),o=n,a=i,u=c,f=d;var D=select(y).attr("pointer-events","none"),I=D.selectAll(".overlay").attr("cursor",cursors[b]);if(event.touches)D.on("touchmove.brush",F,!0).on("touchend.brush touchcancel.brush",j,!0);else{var N=select(event.view).on("keydown.brush",(function(){switch(event.keyCode){case 16:k=C&&x;break;case 18:w===MODE_HANDLE&&(C&&(c=u-h*C,n=o+h*C),x&&(d=f-p*x,i=a+p*x),w=MODE_CENTER,O());break;case 32:w!==MODE_HANDLE&&w!==MODE_CENTER||(C<0?c=u-h:C>0&&(n=o-h),x<0?d=f-p:x>0&&(i=a-p),w=MODE_SPACE,I.attr("cursor",cursors.selection),O());break;default:return}noevent$1()}),!0).on("keyup.brush",(function(){switch(event.keyCode){case 16:k&&(m=v=k=!1,O());break;case 18:w===MODE_CENTER&&(C<0?c=u:C>0&&(n=o),x<0?d=f:x>0&&(i=a),w=MODE_HANDLE,O());break;case 32:w===MODE_SPACE&&(event.altKey?(C&&(c=u-h*C,n=o+h*C),x&&(d=f-p*x,i=a+p*x),w=MODE_CENTER):(C<0?c=u:C>0&&(n=o),x<0?d=f:x>0&&(i=a),w=MODE_HANDLE),I.attr("cursor",cursors[b]),O());break;default:return}noevent$1()}),!0).on("mousemove.brush",F,!0).on("mouseup.brush",j,!0);dragDisable(event.view)}nopropagation$1(),interrupt(y),s.call(y),L.start()}function F(){var e=mouse(y);!k||m||v||(Math.abs(e[0]-P[0])>Math.abs(e[1]-P[1])?v=!0:m=!0),P=e,g=!0,noevent$1(),O()}function O(){var e;switch(h=P[0]-M[0],p=P[1]-M[1],w){case MODE_SPACE:case MODE_DRAG:C&&(h=Math.max(A-n,Math.min(E-c,h)),o=n+h,u=c+h),x&&(p=Math.max(S-i,Math.min(T-d,p)),a=i+p,f=d+p);break;case MODE_HANDLE:C<0?(h=Math.max(A-n,Math.min(E-n,h)),o=n+h,u=c):C>0&&(h=Math.max(A-c,Math.min(E-c,h)),o=n,u=c+h),x<0?(p=Math.max(S-i,Math.min(T-i,p)),a=i+p,f=d):x>0&&(p=Math.max(S-d,Math.min(T-d,p)),a=i,f=d+p);break;case MODE_CENTER:C&&(o=Math.max(A,Math.min(E,n-h*C)),u=Math.max(A,Math.min(E,c+h*C))),x&&(a=Math.max(S,Math.min(T,i-p*x)),f=Math.max(S,Math.min(T,d+p*x)))}u<o&&(C*=-1,e=n,n=c,c=e,e=o,o=u,u=e,b in flipX&&I.attr("cursor",cursors[b=flipX[b]])),f<a&&(x*=-1,e=i,i=d,d=e,e=a,a=f,f=e,b in flipY&&I.attr("cursor",cursors[b=flipY[b]])),_.selection&&($=_.selection),m&&(o=$[0][0],u=$[1][0]),v&&(a=$[0][1],f=$[1][1]),$[0][0]===o&&$[0][1]===a&&$[1][0]===u&&$[1][1]===f||(_.selection=[[o,a],[u,f]],s.call(y),L.brush())}function j(){if(nopropagation$1(),event.touches){if(event.touches.length)return;t&&clearTimeout(t),t=setTimeout((function(){t=null}),500),D.on("touchmove.brush touchend.brush touchcancel.brush",null)}else yesdrag(event.view,g),N.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);D.attr("pointer-events","all"),I.attr("cursor",cursors.overlay),_.selection&&($=_.selection),empty$1($)&&(_.selection=null,s.call(y)),L.end()}}function d(){var t=this.__brush||{selection:null};return t.extent=n.apply(this,arguments),t.dim=e,t}return a.move=function(t,n){t.selection?t.on("start.brush",(function(){l(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){l(this,arguments).end()})).tween("brush",(function(){var t=this,r=t.__brush,o=l(t,arguments),i=r.selection,a=e.input("function"==typeof n?n.apply(this,arguments):n,r.extent),c=interpolateValue(i,a);function u(e){r.selection=1===e&&empty$1(a)?null:c(e),s.call(t),o.brush()}return i&&a?u:u(1)})):t.each((function(){var t=this,r=arguments,o=t.__brush,i=e.input("function"==typeof n?n.apply(t,r):n,o.extent),a=l(t,r).beforestart();interrupt(t),o.selection=null==i||empty$1(i)?null:i,s.call(t),a.start().brush().end()}))},c.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){customEvent(new BrushEvent(a,t,e.output(this.state.selection)),o.apply,o,[t,this.that,this.args])}},a.extent=function(e){return arguments.length?(n="function"==typeof e?e:constant$4([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),a):n},a.filter=function(e){return arguments.length?(r="function"==typeof e?e:constant$4(!!e),a):r},a.handleSize=function(e){return arguments.length?(i=+e,a):i},a.on=function(){var e=o.on.apply(o,arguments);return e===o?a:e},a}var pi$1=Math.PI,pi$2=Math.PI,tau$2=2*pi$2,epsilon$1=1e-6,tauEpsilon=tau$2-epsilon$1;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}Path.prototype=path.prototype={constructor:Path,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(e,t,n,r,o){e=+e,t=+t,n=+n,r=+r,o=+o;var i=this._x1,a=this._y1,s=n-e,l=r-t,c=i-e,u=a-t,d=c*c+u*u;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>epsilon$1)if(Math.abs(u*s-l*c)>epsilon$1&&o){var f=n-i,h=r-a,p=s*s+l*l,g=f*f+h*h,m=Math.sqrt(p),v=Math.sqrt(d),y=o*Math.tan((pi$2-Math.acos((p+d-g)/(2*m*v)))/2),b=y/v,w=y/m;Math.abs(b-1)>epsilon$1&&(this._+="L"+(e+b*c)+","+(t+b*u)),this._+="A"+o+","+o+",0,0,"+ +(u*f>c*h)+","+(this._x1=e+w*s)+","+(this._y1=t+w*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,o,i){e=+e,t=+t;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,u=1^i,d=i?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>epsilon$1||Math.abs(this._y1-c)>epsilon$1)&&(this._+="L"+l+","+c),n&&(d<0&&(d=d%tau$2+tau$2),d>tauEpsilon?this._+="A"+n+","+n+",0,1,"+u+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):d>epsilon$1&&(this._+="A"+n+","+n+",0,"+ +(d>=pi$2)+","+u+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var prefix="$";function Map$1(){}function map$1(e,t){var n=new Map$1;if(e instanceof Map$1)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,o=-1,i=e.length;if(null==t)for(;++o<i;)n.set(o,e[o]);else for(;++o<i;)n.set(t(r=e[o],o,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}function Set(){}Map$1.prototype=map$1.prototype={constructor:Map$1,has:function(e){return prefix+e in this},get:function(e){return this[prefix+e]},set:function(e,t){return this[prefix+e]=t,this},remove:function(e){var t=prefix+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===prefix&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===prefix&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===prefix&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===prefix&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===prefix&&++e;return e},empty:function(){for(var e in this)if(e[0]===prefix)return!1;return!0},each:function(e){for(var t in this)t[0]===prefix&&e(this[t],t.slice(1),this)}};var proto=map$1.prototype;function set$2(e,t){var n=new Set;if(e instanceof Set)e.each((function(e){n.add(e)}));else if(e){var r=-1,o=e.length;if(null==t)for(;++r<o;)n.add(e[r]);else for(;++r<o;)n.add(t(e[r],r,e))}return n}function keys(e){var t=[];for(var n in e)t.push(n);return t}function entries(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t}Set.prototype=set$2.prototype={constructor:Set,has:proto.has,add:function(e){return this[prefix+(e+="")]=e,this},remove:proto.remove,clear:proto.clear,values:proto.keys,size:proto.size,empty:proto.empty,each:proto.each};var EOL={},EOF={},QUOTE=34,NEWLINE=10,RETURN=13;function objectConverter(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}")}function customConverter(e,t){var n=objectConverter(e);return function(r,o){return t(n(r),o,e)}}function inferColumns(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function dsvFormat(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,o=[],i=e.length,a=0,s=0,l=i<=0,c=!1;function u(){if(l)return EOF;if(c)return c=!1,EOL;var t,r,o=a;if(e.charCodeAt(o)===QUOTE){for(;a++<i&&e.charCodeAt(a)!==QUOTE||e.charCodeAt(++a)===QUOTE;);return(t=a)>=i?l=!0:(r=e.charCodeAt(a++))===NEWLINE?c=!0:r===RETURN&&(c=!0,e.charCodeAt(a)===NEWLINE&&++a),e.slice(o+1,t-1).replace(/""/g,'"')}for(;a<i;){if((r=e.charCodeAt(t=a++))===NEWLINE)c=!0;else if(r===RETURN)c=!0,e.charCodeAt(a)===NEWLINE&&++a;else if(r!==n)continue;return e.slice(o,t)}return l=!0,e.slice(o,i)}for(e.charCodeAt(i-1)===NEWLINE&&--i,e.charCodeAt(i-1)===RETURN&&--i;(r=u())!==EOF;){for(var d=[];r!==EOL&&r!==EOF;)d.push(r),r=u();t&&null==(d=t(d,s++))||o.push(d)}return o}function o(t){return t.map(i).join(e)}function i(e){return null==e?"":t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,o,i=r(e,(function(e,r){if(n)return n(e,r-1);o=e,n=t?customConverter(e,t):objectConverter(e)}));return i.columns=o||[],i},parseRows:r,format:function(t,n){return null==n&&(n=inferColumns(t)),[n.map(i).join(e)].concat(t.map((function(t){return n.map((function(e){return i(t[e])})).join(e)}))).join("\n")},formatRows:function(e){return e.map(o).join("\n")}}}var csv=dsvFormat(","),csvParse=csv.parse,csvFormat=csv.format,tsv=dsvFormat("\t");function tree_add(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return add(this.cover(t,n),t,n,e)}function add(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i,a,s,l,c,u,d,f,h=e._root,p={data:r},g=e._x0,m=e._y0,v=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((c=t>=(i=(g+v)/2))?g=i:v=i,(u=n>=(a=(m+y)/2))?m=a:y=a,o=h,!(h=h[d=u<<1|c]))return o[d]=p,e;if(s=+e._x.call(null,h.data),l=+e._y.call(null,h.data),t===s&&n===l)return p.next=h,o?o[d]=p:e._root=p,e;do{o=o?o[d]=new Array(4):e._root=new Array(4),(c=t>=(i=(g+v)/2))?g=i:v=i,(u=n>=(a=(m+y)/2))?m=a:y=a}while((d=u<<1|c)==(f=(l>=a)<<1|s>=i));return o[f]=h,o[d]=p,e}function addAll(e){var t,n,r,o,i=e.length,a=new Array(i),s=new Array(i),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=r,s[n]=o,r<l&&(l=r),r>u&&(u=r),o<c&&(c=o),o>d&&(d=o));for(u<l&&(l=this._x0,u=this._x1),d<c&&(c=this._y0,d=this._y1),this.cover(l,c).cover(u,d),n=0;n<i;++n)add(this,a[n],s[n],e[n]);return this}function tree_cover(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{if(!(n>e||e>o||r>t||t>i))return this;var a,s,l=o-n,c=this._root;switch(s=(t<(r+i)/2)<<1|e<(n+o)/2){case 0:do{(a=new Array(4))[s]=c,c=a}while(i=r+(l*=2),e>(o=n+l)||t>i);break;case 1:do{(a=new Array(4))[s]=c,c=a}while(i=r+(l*=2),(n=o-l)>e||t>i);break;case 2:do{(a=new Array(4))[s]=c,c=a}while(r=i-(l*=2),e>(o=n+l)||r>t);break;case 3:do{(a=new Array(4))[s]=c,c=a}while(r=i-(l*=2),(n=o-l)>e||r>t)}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this}function tree_data(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e}function tree_extent(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Quad(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function tree_find(e,t,n){var r,o,i,a,s,l,c,u=this._x0,d=this._y0,f=this._x1,h=this._y1,p=[],g=this._root;for(g&&p.push(new Quad(g,u,d,f,h)),null==n?n=1/0:(u=e-n,d=t-n,f=e+n,h=t+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(o=l.x0)>f||(i=l.y0)>h||(a=l.x1)<u||(s=l.y1)<d))if(g.length){var m=(o+a)/2,v=(i+s)/2;p.push(new Quad(g[3],m,v,a,s),new Quad(g[2],o,v,m,s),new Quad(g[1],m,i,a,v),new Quad(g[0],o,i,m,v)),(c=(t>=v)<<1|e>=m)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var y=e-+this._x.call(null,g.data),b=t-+this._y.call(null,g.data),w=y*y+b*b;if(w<n){var C=Math.sqrt(n=w);u=e-C,d=t-C,f=e+C,h=t+C,r=g.data}}return r}function tree_remove(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,o,i,a,s,l,c,u,d,f,h=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!h)return this;if(h.length)for(;;){if((c=i>=(s=(p+m)/2))?p=s:m=s,(u=a>=(l=(g+v)/2))?g=l:v=l,t=h,!(h=h[d=u<<1|c]))return this;if(!h.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,f=d)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(o=h.next)&&delete h.next,r?(o?r.next=o:delete r.next,this):t?(o?t[d]=o:delete t[d],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[f]=h:this._root=h),this):(this._root=o,this)}function removeAll(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function tree_root(){return this._root}function tree_size(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e}function tree_visit(e){var t,n,r,o,i,a,s=[],l=this._root;for(l&&s.push(new Quad(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,r=t.x0,o=t.y0,i=t.x1,a=t.y1)&&l.length){var c=(r+i)/2,u=(o+a)/2;(n=l[3])&&s.push(new Quad(n,c,u,i,a)),(n=l[2])&&s.push(new Quad(n,r,u,c,a)),(n=l[1])&&s.push(new Quad(n,c,o,i,u)),(n=l[0])&&s.push(new Quad(n,r,o,c,u))}return this}function tree_visitAfter(e){var t,n=[],r=[];for(this._root&&n.push(new Quad(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o=t.node;if(o.length){var i,a=t.x0,s=t.y0,l=t.x1,c=t.y1,u=(a+l)/2,d=(s+c)/2;(i=o[0])&&n.push(new Quad(i,a,s,u,d)),(i=o[1])&&n.push(new Quad(i,u,s,l,d)),(i=o[2])&&n.push(new Quad(i,a,d,u,c)),(i=o[3])&&n.push(new Quad(i,u,d,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this}function defaultX$1(e){return e[0]}function tree_x(e){return arguments.length?(this._x=e,this):this._x}function defaultY$1(e){return e[1]}function tree_y(e){return arguments.length?(this._y=e,this):this._y}function quadtree(e,t,n){var r=new Quadtree(null==t?defaultX$1:t,null==n?defaultY$1:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function Quadtree(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function leaf_copy(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var treeProto=quadtree.prototype=Quadtree.prototype;treeProto.copy=function(){var e,t,n=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=leaf_copy(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(4)}):r.target[o]=leaf_copy(t));return n},treeProto.add=tree_add,treeProto.addAll=addAll,treeProto.cover=tree_cover,treeProto.data=tree_data,treeProto.extent=tree_extent,treeProto.find=tree_find,treeProto.remove=tree_remove,treeProto.removeAll=removeAll,treeProto.root=tree_root,treeProto.size=tree_size,treeProto.visit=tree_visit,treeProto.visitAfter=tree_visitAfter,treeProto.x=tree_x,treeProto.y=tree_y;var initialAngle=Math.PI*(3-Math.sqrt(5));function formatDecimal(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function exponent$1(e){return(e=formatDecimal(Math.abs(e)))?e[1]:NaN}function formatGroup(e,t){return function(n,r){for(var o=n.length,i=[],a=0,s=e[0],l=0;o>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(o-=s,o+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return i.reverse().join(t)}}function formatNumerals(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}var re=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,prefixExponent;function formatSpecifier(e){return new FormatSpecifier(e)}function FormatSpecifier(e){if(!(t=re.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}function formatTrim(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(o>0){if(!+e[r])break e;o=0}}return o>0?e.slice(0,o)+e.slice(t+1):e}function formatPrefixAuto(e,t){var n=formatDecimal(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+formatDecimal(e,Math.max(0,t+i-1))[0]}function formatRounded(e,t){var n=formatDecimal(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var formatTypes={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return formatRounded(100*e,t)},r:formatRounded,s:formatPrefixAuto,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function identity$3(e){return e}var prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],locale,format,formatPrefix;function formatLocale(e){var t=e.grouping&&e.thousands?formatGroup(e.grouping,e.thousands):identity$3,n=e.currency,r=e.decimal,o=e.numerals?formatNumerals(e.numerals):identity$3,i=e.percent||"%";function a(e){var a=(e=formatSpecifier(e)).fill,s=e.align,l=e.sign,c=e.symbol,u=e.zero,d=e.width,f=e.comma,h=e.precision,p=e.trim,g=e.type;"n"===g?(f=!0,g="g"):formatTypes[g]||(null==h&&(h=12),p=!0,g="g"),(u||"0"===a&&"="===s)&&(u=!0,a="0",s="=");var m="$"===c?n[0]:"#"===c&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",v="$"===c?n[1]:/[%p]/.test(g)?i:"",y=formatTypes[g],b=/[defgprs%]/.test(g);function w(e){var n,i,c,w=m,C=v;if("c"===g)C=y(e)+C,e="";else{var x=(e=+e)<0;if(e=y(Math.abs(e),h),p&&(e=formatTrim(e)),x&&0==+e&&(x=!1),w=(x?"("===l?l:"-":"-"===l||"("===l?"":l)+w,C=("s"===g?prefixes[8+prefixExponent/3]:"")+C+(x&&"("===l?")":""),b)for(n=-1,i=e.length;++n<i;)if(48>(c=e.charCodeAt(n))||c>57){C=(46===c?r+e.slice(n+1):e.slice(n))+C,e=e.slice(0,n);break}}f&&!u&&(e=t(e,1/0));var _=w.length+e.length+C.length,R=_<d?new Array(d-_+1).join(a):"";switch(f&&u&&(e=t(R+e,R.length?d-C.length:1/0),R=""),s){case"<":e=w+e+C+R;break;case"=":e=w+R+e+C;break;case"^":e=R.slice(0,_=R.length>>1)+w+e+C+R.slice(_);break;default:e=R+w+e+C}return o(e)}return h=null==h?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),w.toString=function(){return e+""},w}return{format:a,formatPrefix:function(e,t){var n=a(((e=formatSpecifier(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(exponent$1(t)/3))),o=Math.pow(10,-r),i=prefixes[8+r/3];return function(e){return n(o*e)+i}}}}function defaultLocale(e){return locale=formatLocale(e),format=locale.format,formatPrefix=locale.formatPrefix,locale}function precisionFixed(e){return Math.max(0,-exponent$1(Math.abs(e)))}function precisionPrefix(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent$1(t)/3)))-exponent$1(Math.abs(e)))}function precisionRound(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,exponent$1(t)-exponent$1(e))+1}function adder(){return new Adder}function Adder(){this.reset()}defaultLocale({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(e){add$1(temp,e,this.t),add$1(this,temp.s,this.s),this.s?this.t+=temp.t:this.s=temp.t},valueOf:function(){return this.s}};var temp=new Adder;function add$1(e,t,n){var r=e.s=t+n,o=r-t,i=r-o;e.t=t-i+(n-o)}var pi$3=Math.PI,areaRingSum=adder(),areaSum=adder(),deltaSum=adder(),sum$1=adder(),lengthSum=adder(),areaSum$1=adder(),areaRingSum$1=adder(),lengthSum$1=adder(),array$3=Array.prototype,map$2=array$3.map,slice$6=array$3.slice,implicit={name:"implicit"};function ordinal(e){var t=map$1(),n=[],r=implicit;function o(o){var i=o+"",a=t.get(i);if(!a){if(r!==implicit)return r;t.set(i,a=n.push(o))}return e[(a-1)%e.length]}return e=null==e?[]:slice$6.call(e),o.domain=function(e){if(!arguments.length)return n.slice();n=[],t=map$1();for(var r,i,a=-1,s=e.length;++a<s;)t.has(i=(r=e[a])+"")||t.set(i,n.push(r));return o},o.range=function(t){return arguments.length?(e=slice$6.call(t),o):e.slice()},o.unknown=function(e){return arguments.length?(r=e,o):r},o.copy=function(){return ordinal().domain(n).range(e).unknown(r)},o}function band(){var e,t,n=ordinal().unknown(void 0),r=n.domain,o=n.range,i=[0,1],a=!1,s=0,l=0,c=.5;function u(){var n=r().length,u=i[1]<i[0],d=i[u-0],f=i[1-u];e=(f-d)/Math.max(1,n-s+2*l),a&&(e=Math.floor(e)),d+=(f-d-e*(n-s))*c,t=e*(1-s),a&&(d=Math.round(d),t=Math.round(t));var h=sequence(n).map((function(t){return d+e*t}));return o(u?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),u()):r()},n.range=function(e){return arguments.length?(i=[+e[0],+e[1]],u()):i.slice()},n.rangeRound=function(e){return i=[+e[0],+e[1]],a=!0,u()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,u()):a},n.padding=function(e){return arguments.length?(s=l=Math.max(0,Math.min(1,e)),u()):s},n.paddingInner=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),u()):s},n.paddingOuter=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),u()):l},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),u()):c},n.copy=function(){return band().domain(r()).range(i).round(a).paddingInner(s).paddingOuter(l).align(c)},u()}function pointish(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pointish(t())},e}function point$1(){return pointish(band().paddingInner(1))}function constant$a(e){return function(){return e}}function number$2(e){return+e}var unit=[0,1];function deinterpolateLinear(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:constant$a(t)}function deinterpolateClamp(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}function reinterpolateClamp(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}function bimap(e,t,n,r){var o=e[0],i=e[1],a=t[0],s=t[1];return i<o?(o=n(i,o),a=r(s,a)):(o=n(o,i),a=r(a,s)),function(e){return a(o(e))}}function polymap(e,t,n,r){var o=Math.min(e.length,t.length)-1,i=new Array(o),a=new Array(o),s=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<o;)i[s]=n(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var n=bisectRight(e,t,1,o)-1;return a[n](i[n](t))}}function copy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function continuous(e,t){var n,r,o,i=unit,a=unit,s=interpolateValue,l=!1;function c(){return n=Math.min(i.length,a.length)>2?polymap:bimap,r=o=null,u}function u(t){return(r||(r=n(i,a,l?deinterpolateClamp(e):e,s)))(+t)}return u.invert=function(e){return(o||(o=n(a,i,deinterpolateLinear,l?reinterpolateClamp(t):t)))(+e)},u.domain=function(e){return arguments.length?(i=map$2.call(e,number$2),c()):i.slice()},u.range=function(e){return arguments.length?(a=slice$6.call(e),c()):a.slice()},u.rangeRound=function(e){return a=slice$6.call(e),s=interpolateRound,c()},u.clamp=function(e){return arguments.length?(l=!!e,c()):l},u.interpolate=function(e){return arguments.length?(s=e,c()):s},c()}function tickFormat(e,t,n){var r,o=e[0],i=e[e.length-1],a=tickStep(o,i,null==t?10:t);switch((n=formatSpecifier(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(o),Math.abs(i));return null!=n.precision||isNaN(r=precisionPrefix(a,s))||(n.precision=r),formatPrefix(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=precisionRound(a,Math.max(Math.abs(o),Math.abs(i))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=precisionFixed(a))||(n.precision=r-2*("%"===n.type))}return format(n)}function linearish(e){var t=e.domain;return e.ticks=function(e){var n=t();return ticks(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return tickFormat(t(),e,n)},e.nice=function(n){null==n&&(n=10);var r,o=t(),i=0,a=o.length-1,s=o[i],l=o[a];return l<s&&(r=s,s=l,l=r,r=i,i=a,a=r),(r=tickIncrement(s,l,n))>0?r=tickIncrement(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=tickIncrement(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(o[i]=Math.floor(s/r)*r,o[a]=Math.ceil(l/r)*r,t(o)):r<0&&(o[i]=Math.ceil(s*r)/r,o[a]=Math.floor(l*r)/r,t(o)),e},e}function linear$2(){var e=continuous(deinterpolateLinear,interpolateNumber);return e.copy=function(){return copy(e,linear$2())},linearish(e)}function nice(e,t){var n,r=0,o=(e=e.slice()).length-1,i=e[r],a=e[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),e[r]=t.floor(i),e[o]=t.ceil(a),e}var t0$1=new Date,t1$1=new Date;function newInterval(e,t,n,r){function o(t){return e(t=new Date(+t)),t}return o.floor=o,o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,r,i){var a,s=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return s;do{s.push(a=new Date(+n)),t(n,i),e(n)}while(a<n&&n<r);return s},o.filter=function(n){return newInterval((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(o.count=function(t,r){return t0$1.setTime(+t),t1$1.setTime(+r),e(t0$1),e(t1$1),Math.floor(n(t0$1,t1$1))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?function(t){return r(t)%e==0}:function(t){return o.count(0,t)%e==0}):o:null}),o}var millisecond=newInterval((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));millisecond.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?newInterval((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):millisecond:null};var durationSecond=1e3,durationMinute=6e4,durationHour=36e5,durationDay=864e5,durationWeek=6048e5,second=newInterval((function(e){e.setTime(Math.floor(e/durationSecond)*durationSecond)}),(function(e,t){e.setTime(+e+t*durationSecond)}),(function(e,t){return(t-e)/durationSecond}),(function(e){return e.getUTCSeconds()})),minute=newInterval((function(e){e.setTime(Math.floor(e/durationMinute)*durationMinute)}),(function(e,t){e.setTime(+e+t*durationMinute)}),(function(e,t){return(t-e)/durationMinute}),(function(e){return e.getMinutes()})),hour=newInterval((function(e){var t=e.getTimezoneOffset()*durationMinute%durationHour;t<0&&(t+=durationHour),e.setTime(Math.floor((+e-t)/durationHour)*durationHour+t)}),(function(e,t){e.setTime(+e+t*durationHour)}),(function(e,t){return(t-e)/durationHour}),(function(e){return e.getHours()})),day=newInterval((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute)/durationDay}),(function(e){return e.getDate()-1}));function weekday(e){return newInterval((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute)/durationWeek}))}var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6),sundays=sunday.range,mondays=monday.range,thursdays=thursday.range,month=newInterval((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),year=newInterval((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));year.every=function(e){return isFinite(e=Math.floor(e))&&e>0?newInterval((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var utcMinute=newInterval((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*durationMinute)}),(function(e,t){return(t-e)/durationMinute}),(function(e){return e.getUTCMinutes()})),utcHour=newInterval((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*durationHour)}),(function(e,t){return(t-e)/durationHour}),(function(e){return e.getUTCHours()})),utcDay=newInterval((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/durationDay}),(function(e){return e.getUTCDate()-1}));function utcWeekday(e){return newInterval((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/durationWeek}))}var utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6),utcSundays=utcSunday.range,utcMondays=utcMonday.range,utcThursdays=utcThursday.range,utcMonth=newInterval((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),utcYear=newInterval((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));function localDate(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function utcDate(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function newYear(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function formatLocale$1(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=formatRe(o),u=formatLookup(o),d=formatRe(i),f=formatLookup(i),h=formatRe(a),p=formatLookup(a),g=formatRe(s),m=formatLookup(s),v=formatRe(l),y=formatLookup(l),b={a:function(e){return a[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(e){return o[+(e.getHours()>=12)]},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(e){return o[+(e.getUTCHours()>=12)]},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},C={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return R(e,t,n,r)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u[r[0].toLowerCase()],n+r[0].length):-1},Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function(e,t,r){return R(e,n,t,r)},X:function(e,t,n){return R(e,r,t,n)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function x(e,t){return function(n){var r,o,i,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(o=pads[r=e.charAt(++s)])?r=e.charAt(++s):o="e"===r?" ":"0",(i=t[r])&&(r=i(n,o)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function _(e,t){return function(n){var r,o,i=newYear(1900);if(R(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("p"in i&&(i.H=i.H%12+12*i.p),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=utcDate(newYear(i.y))).getUTCDay(),r=o>4||0===o?utcMonday.ceil(r):utcMonday(r),r=utcDay.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=t(newYear(i.y))).getDay(),r=o>4||0===o?monday.ceil(r):monday(r),r=day.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?utcDate(newYear(i.y)).getUTCDay():t(newYear(i.y)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,utcDate(i)):t(i)}}function R(e,t,n,r){for(var o,i,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(o=t.charCodeAt(a++))){if(o=t.charAt(a++),!(i=C[o in pads?t.charAt(a++):o])||(r=i(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return b.x=x(n,b),b.X=x(r,b),b.c=x(t,b),w.x=x(n,w),w.X=x(r,w),w.c=x(t,w),{format:function(e){var t=x(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=_(e+="",localDate);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=_(e,utcDate);return t.toString=function(){return e},t}}}utcYear.every=function(e){return isFinite(e=Math.floor(e))&&e>0?newInterval((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g,locale$1,timeFormat,timeParse,utcFormat,utcParse;function pad(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function requote(e){return e.replace(requoteRe,"\\$&")}function formatRe(e){return new RegExp("^(?:"+e.map(requote).join("|")+")","i")}function formatLookup(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function parseWeekdayNumberSunday(e,t,n){var r=numberRe.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function parseWeekdayNumberMonday(e,t,n){var r=numberRe.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function parseWeekNumberSunday(e,t,n){var r=numberRe.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function parseWeekNumberISO(e,t,n){var r=numberRe.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function parseWeekNumberMonday(e,t,n){var r=numberRe.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function parseFullYear(e,t,n){var r=numberRe.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function parseYear(e,t,n){var r=numberRe.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function parseZone(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function parseMonthNumber(e,t,n){var r=numberRe.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function parseDayOfMonth(e,t,n){var r=numberRe.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function parseDayOfYear(e,t,n){var r=numberRe.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function parseHour24(e,t,n){var r=numberRe.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function parseMinutes(e,t,n){var r=numberRe.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function parseSeconds(e,t,n){var r=numberRe.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function parseMilliseconds(e,t,n){var r=numberRe.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function parseMicroseconds(e,t,n){var r=numberRe.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function parseLiteralPercent(e,t,n){var r=percentRe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function parseUnixTimestamp(e,t,n){var r=numberRe.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function parseUnixTimestampSeconds(e,t,n){var r=numberRe.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function formatDayOfMonth(e,t){return pad(e.getDate(),t,2)}function formatHour24(e,t){return pad(e.getHours(),t,2)}function formatHour12(e,t){return pad(e.getHours()%12||12,t,2)}function formatDayOfYear(e,t){return pad(1+day.count(year(e),e),t,3)}function formatMilliseconds(e,t){return pad(e.getMilliseconds(),t,3)}function formatMicroseconds(e,t){return formatMilliseconds(e,t)+"000"}function formatMonthNumber(e,t){return pad(e.getMonth()+1,t,2)}function formatMinutes(e,t){return pad(e.getMinutes(),t,2)}function formatSeconds(e,t){return pad(e.getSeconds(),t,2)}function formatWeekdayNumberMonday(e){var t=e.getDay();return 0===t?7:t}function formatWeekNumberSunday(e,t){return pad(sunday.count(year(e),e),t,2)}function formatWeekNumberISO(e,t){var n=e.getDay();return e=n>=4||0===n?thursday(e):thursday.ceil(e),pad(thursday.count(year(e),e)+(4===year(e).getDay()),t,2)}function formatWeekdayNumberSunday(e){return e.getDay()}function formatWeekNumberMonday(e,t){return pad(monday.count(year(e),e),t,2)}function formatYear(e,t){return pad(e.getFullYear()%100,t,2)}function formatFullYear(e,t){return pad(e.getFullYear()%1e4,t,4)}function formatZone(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pad(t/60|0,"0",2)+pad(t%60,"0",2)}function formatUTCDayOfMonth(e,t){return pad(e.getUTCDate(),t,2)}function formatUTCHour24(e,t){return pad(e.getUTCHours(),t,2)}function formatUTCHour12(e,t){return pad(e.getUTCHours()%12||12,t,2)}function formatUTCDayOfYear(e,t){return pad(1+utcDay.count(utcYear(e),e),t,3)}function formatUTCMilliseconds(e,t){return pad(e.getUTCMilliseconds(),t,3)}function formatUTCMicroseconds(e,t){return formatUTCMilliseconds(e,t)+"000"}function formatUTCMonthNumber(e,t){return pad(e.getUTCMonth()+1,t,2)}function formatUTCMinutes(e,t){return pad(e.getUTCMinutes(),t,2)}function formatUTCSeconds(e,t){return pad(e.getUTCSeconds(),t,2)}function formatUTCWeekdayNumberMonday(e){var t=e.getUTCDay();return 0===t?7:t}function formatUTCWeekNumberSunday(e,t){return pad(utcSunday.count(utcYear(e),e),t,2)}function formatUTCWeekNumberISO(e,t){var n=e.getUTCDay();return e=n>=4||0===n?utcThursday(e):utcThursday.ceil(e),pad(utcThursday.count(utcYear(e),e)+(4===utcYear(e).getUTCDay()),t,2)}function formatUTCWeekdayNumberSunday(e){return e.getUTCDay()}function formatUTCWeekNumberMonday(e,t){return pad(utcMonday.count(utcYear(e),e),t,2)}function formatUTCYear(e,t){return pad(e.getUTCFullYear()%100,t,2)}function formatUTCFullYear(e,t){return pad(e.getUTCFullYear()%1e4,t,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(e){return+e}function formatUnixTimestampSeconds(e){return Math.floor(+e/1e3)}function defaultLocale$1(e){return locale$1=formatLocale$1(e),timeFormat=locale$1.format,timeParse=locale$1.parse,utcFormat=locale$1.utcFormat,utcParse=locale$1.utcParse,locale$1}defaultLocale$1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var isoSpecifier="%Y-%m-%dT%H:%M:%S.%LZ";function formatIsoNative(e){return e.toISOString()}var formatIso=Date.prototype.toISOString?formatIsoNative:utcFormat(isoSpecifier);function parseIsoNative(e){var t=new Date(e);return isNaN(t)?null:t}var parseIso=+new Date("2000-01-01T00:00:00.000Z")?parseIsoNative:utcParse(isoSpecifier),durationSecond$1=1e3,durationMinute$1=60*durationSecond$1,durationHour$1=60*durationMinute$1,durationDay$1=24*durationHour$1,durationWeek$1=7*durationDay$1,durationMonth=30*durationDay$1,durationYear=365*durationDay$1;function date$1(e){return new Date(e)}function number$3(e){return e instanceof Date?+e:+new Date(+e)}function calendar(e,t,n,r,o,i,a,s,l){var c=continuous(deinterpolateLinear,interpolateNumber),u=c.invert,d=c.domain,f=l(".%L"),h=l(":%S"),p=l("%I:%M"),g=l("%I %p"),m=l("%a %d"),v=l("%b %d"),y=l("%B"),b=l("%Y"),w=[[a,1,durationSecond$1],[a,5,5*durationSecond$1],[a,15,15*durationSecond$1],[a,30,30*durationSecond$1],[i,1,durationMinute$1],[i,5,5*durationMinute$1],[i,15,15*durationMinute$1],[i,30,30*durationMinute$1],[o,1,durationHour$1],[o,3,3*durationHour$1],[o,6,6*durationHour$1],[o,12,12*durationHour$1],[r,1,durationDay$1],[r,2,2*durationDay$1],[n,1,durationWeek$1],[t,1,durationMonth],[t,3,3*durationMonth],[e,1,durationYear]];function C(s){return(a(s)<s?f:i(s)<s?h:o(s)<s?p:r(s)<s?g:t(s)<s?n(s)<s?m:v:e(s)<s?y:b)(s)}function x(t,n,r,o){if(null==t&&(t=10),"number"==typeof t){var i=Math.abs(r-n)/t,a=bisector((function(e){return e[2]})).right(w,i);a===w.length?(o=tickStep(n/durationYear,r/durationYear,t),t=e):a?(o=(a=w[i/w[a-1][2]<w[a][2]/i?a-1:a])[1],t=a[0]):(o=Math.max(tickStep(n,r,t),1),t=s)}return null==o?t:t.every(o)}return c.invert=function(e){return new Date(u(e))},c.domain=function(e){return arguments.length?d(map$2.call(e,number$3)):d().map(date$1)},c.ticks=function(e,t){var n,r=d(),o=r[0],i=r[r.length-1],a=i<o;return a&&(n=o,o=i,i=n),n=(n=x(e,o,i,t))?n.range(o,i+1):[],a?n.reverse():n},c.tickFormat=function(e,t){return null==t?C:l(t)},c.nice=function(e,t){var n=d();return(e=x(e,n[0],n[n.length-1],t))?d(nice(n,e)):c},c.copy=function(){return copy(c,calendar(e,t,n,r,o,i,a,s,l))},c}function scaleTime(){return calendar(year,month,sunday,day,hour,minute,second,millisecond,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}function colors(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}var schemeCategory10=colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function ramp(e){return rgbBasis(e[e.length-1])}colors("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),colors("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),colors("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),colors("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),colors("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),colors("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),colors("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),colors("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var scheme=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(colors);ramp(scheme);var scheme$1=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(colors);ramp(scheme$1);var scheme$2=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(colors);ramp(scheme$2);var scheme$3=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(colors);ramp(scheme$3);var scheme$4=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(colors);ramp(scheme$4);var scheme$5=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(colors);ramp(scheme$5);var scheme$6=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(colors);ramp(scheme$6);var scheme$7=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(colors);ramp(scheme$7);var scheme$8=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(colors);ramp(scheme$8);var scheme$9=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(colors);ramp(scheme$9);var scheme$a=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(colors);ramp(scheme$a);var scheme$b=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(colors);ramp(scheme$b);var scheme$c=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(colors);ramp(scheme$c);var scheme$d=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(colors);ramp(scheme$d);var scheme$e=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(colors);ramp(scheme$e);var scheme$f=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(colors);ramp(scheme$f);var scheme$g=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(colors);ramp(scheme$g);var scheme$h=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(colors);ramp(scheme$h);var scheme$i=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(colors);ramp(scheme$i);var scheme$j=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(colors);ramp(scheme$j);var scheme$k=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(colors);ramp(scheme$k);var scheme$l=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(colors);ramp(scheme$l);var scheme$m=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(colors);ramp(scheme$m);var scheme$n=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(colors);ramp(scheme$n);var scheme$o=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(colors);ramp(scheme$o);var scheme$p=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(colors);ramp(scheme$p);var scheme$q=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(colors);ramp(scheme$q),cubehelixLong(cubehelix(300,.5,0),cubehelix(-240,.5,1));var warm=cubehelixLong(cubehelix(-100,.75,.35),cubehelix(80,1.5,.8)),cool=cubehelixLong(cubehelix(260,.75,.35),cubehelix(80,1.5,.8)),c=cubehelix(),c$1=rgb(),pi_1_3=Math.PI/3,pi_2_3=2*Math.PI/3;function ramp$1(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}ramp$1(colors("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var magma=ramp$1(colors("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),inferno=ramp$1(colors("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),plasma=ramp$1(colors("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function constant$b(e){return function(){return e}}var abs$1=Math.abs,atan2$1=Math.atan2,cos$2=Math.cos,max$2=Math.max,min$1=Math.min,sin$2=Math.sin,sqrt$2=Math.sqrt,epsilon$3=1e-12,pi$4=Math.PI,halfPi$3=pi$4/2,tau$4=2*pi$4;function acos$1(e){return e>1?0:e<-1?pi$4:Math.acos(e)}function asin$1(e){return e>=1?halfPi$3:e<=-1?-halfPi$3:Math.asin(e)}function arcInnerRadius(e){return e.innerRadius}function arcOuterRadius(e){return e.outerRadius}function arcStartAngle(e){return e.startAngle}function arcEndAngle(e){return e.endAngle}function arcPadAngle(e){return e&&e.padAngle}function intersect(e,t,n,r,o,i,a,s){var l=n-e,c=r-t,u=a-o,d=s-i,f=(u*(t-i)-d*(e-o))/(d*l-u*c);return[e+f*l,t+f*c]}function cornerTangents(e,t,n,r,o,i,a){var s=e-n,l=t-r,c=(a?i:-i)/sqrt$2(s*s+l*l),u=c*l,d=-c*s,f=e+u,h=t+d,p=n+u,g=r+d,m=(f+p)/2,v=(h+g)/2,y=p-f,b=g-h,w=y*y+b*b,C=o-i,x=f*g-p*h,_=(b<0?-1:1)*sqrt$2(max$2(0,C*C*w-x*x)),R=(x*b-y*_)/w,$=(-x*y-b*_)/w,A=(x*b+y*_)/w,S=(-x*y+b*_)/w,E=R-m,T=$-v,k=A-m,M=S-v;return E*E+T*T>k*k+M*M&&(R=A,$=S),{cx:R,cy:$,x01:-u,y01:-d,x11:R*(o/C-1),y11:$*(o/C-1)}}function arc(){var e=arcInnerRadius,t=arcOuterRadius,n=constant$b(0),r=null,o=arcStartAngle,i=arcEndAngle,a=arcPadAngle,s=null;function l(){var l,c,u=+e.apply(this,arguments),d=+t.apply(this,arguments),f=o.apply(this,arguments)-halfPi$3,h=i.apply(this,arguments)-halfPi$3,p=abs$1(h-f),g=h>f;if(s||(s=l=path()),d<u&&(c=d,d=u,u=c),d>epsilon$3)if(p>tau$4-epsilon$3)s.moveTo(d*cos$2(f),d*sin$2(f)),s.arc(0,0,d,f,h,!g),u>epsilon$3&&(s.moveTo(u*cos$2(h),u*sin$2(h)),s.arc(0,0,u,h,f,g));else{var m,v,y=f,b=h,w=f,C=h,x=p,_=p,R=a.apply(this,arguments)/2,$=R>epsilon$3&&(r?+r.apply(this,arguments):sqrt$2(u*u+d*d)),A=min$1(abs$1(d-u)/2,+n.apply(this,arguments)),S=A,E=A;if($>epsilon$3){var T=asin$1($/u*sin$2(R)),k=asin$1($/d*sin$2(R));(x-=2*T)>epsilon$3?(w+=T*=g?1:-1,C-=T):(x=0,w=C=(f+h)/2),(_-=2*k)>epsilon$3?(y+=k*=g?1:-1,b-=k):(_=0,y=b=(f+h)/2)}var M=d*cos$2(y),P=d*sin$2(y),L=u*cos$2(C),D=u*sin$2(C);if(A>epsilon$3){var I=d*cos$2(b),N=d*sin$2(b),F=u*cos$2(w),O=u*sin$2(w);if(p<pi$4){var j=x>epsilon$3?intersect(M,P,F,O,I,N,L,D):[L,D],z=M-j[0],W=P-j[1],H=I-j[0],B=N-j[1],q=1/sin$2(acos$1((z*H+W*B)/(sqrt$2(z*z+W*W)*sqrt$2(H*H+B*B)))/2),V=sqrt$2(j[0]*j[0]+j[1]*j[1]);S=min$1(A,(u-V)/(q-1)),E=min$1(A,(d-V)/(q+1))}}_>epsilon$3?E>epsilon$3?(m=cornerTangents(F,O,M,P,d,E,g),v=cornerTangents(I,N,L,D,d,E,g),s.moveTo(m.cx+m.x01,m.cy+m.y01),E<A?s.arc(m.cx,m.cy,E,atan2$1(m.y01,m.x01),atan2$1(v.y01,v.x01),!g):(s.arc(m.cx,m.cy,E,atan2$1(m.y01,m.x01),atan2$1(m.y11,m.x11),!g),s.arc(0,0,d,atan2$1(m.cy+m.y11,m.cx+m.x11),atan2$1(v.cy+v.y11,v.cx+v.x11),!g),s.arc(v.cx,v.cy,E,atan2$1(v.y11,v.x11),atan2$1(v.y01,v.x01),!g))):(s.moveTo(M,P),s.arc(0,0,d,y,b,!g)):s.moveTo(M,P),u>epsilon$3&&x>epsilon$3?S>epsilon$3?(m=cornerTangents(L,D,I,N,u,-S,g),v=cornerTangents(M,P,F,O,u,-S,g),s.lineTo(m.cx+m.x01,m.cy+m.y01),S<A?s.arc(m.cx,m.cy,S,atan2$1(m.y01,m.x01),atan2$1(v.y01,v.x01),!g):(s.arc(m.cx,m.cy,S,atan2$1(m.y01,m.x01),atan2$1(m.y11,m.x11),!g),s.arc(0,0,u,atan2$1(m.cy+m.y11,m.cx+m.x11),atan2$1(v.cy+v.y11,v.cx+v.x11),g),s.arc(v.cx,v.cy,S,atan2$1(v.y11,v.x11),atan2$1(v.y01,v.x01),!g))):s.arc(0,0,u,C,w,g):s.lineTo(L,D)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +i.apply(this,arguments))/2-pi$4/2;return[cos$2(r)*n,sin$2(r)*n]},l.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:constant$b(+t),l):e},l.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:constant$b(+e),l):t},l.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:constant$b(+e),l):n},l.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:constant$b(+e),l):r},l.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:constant$b(+e),l):o},l.endAngle=function(e){return arguments.length?(i="function"==typeof e?e:constant$b(+e),l):i},l.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:constant$b(+e),l):a},l.context=function(e){return arguments.length?(s=null==e?null:e,l):s},l}function sign$1(e){return e<0?-1:1}function slope3(e,t,n){var r=e._x1-e._x0,o=t-e._x1,i=(e._y1-e._y0)/(r||o<0&&-0),a=(n-e._y1)/(o||r<0&&-0),s=(i*o+a*r)/(r+o);return(sign$1(i)+sign$1(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(s))||0}function slope2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function point$5(e,t,n){var r=e._x0,o=e._y0,i=e._x1,a=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,o+s*t,i-s,a-s*n,i,a)}function MonotoneX(e){this._context=e}function MonotoneY(e){this._context=new ReflectContext(e)}function ReflectContext(e){this._context=e}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$5(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,point$5(this,slope2(this,n=slope3(this,e,t)),n);break;default:point$5(this,this._t0,n=slope3(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(e,t){MonotoneX.prototype.point.call(this,t,e)},ReflectContext.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,i){this._context.bezierCurveTo(t,e,r,n,i,o)}},function(e){!function(){if(!e.requestAnimationFrame){if(e.webkitRequestAnimationFrame)return e.requestAnimationFrame=e.webkitRequestAnimationFrame,void(e.cancelAnimationFrame=e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame);var t=0;e.requestAnimationFrame=function(n){var r=(new Date).getTime(),o=Math.max(0,16-(r-t)),i=e.setTimeout((function(){n(r+o)}),o);return t=r+o,i},e.cancelAnimationFrame=function(e){clearTimeout(e)}}}(),"function"==typeof define&&define((function(){return e.requestAnimationFrame}))}(window);var renderQueue=function(e){var t=[],n=1e3,r=function(){},o=function(){},i=function e(t){t&&e.data(t),r(),o(),e.render()};return i.render=function(){var o=!0;r=i.invalidate=function(){o=!1},function r(){if(!o)return!0;t.splice(0,n).map(e),requestAnimationFrame(r)}()},i.data=function(e){return r(),t=e.slice(0),i},i.add=function(e){t=t.concat(e)},i.rate=function(e){return arguments.length?(n=e,i):n},i.remaining=function(){return t.length},i.clear=function(e){return arguments.length?(o=e,i):(o(),i)},i.invalidate=r,i},w=function(e){return e.width-e.margin.right-e.margin.left},invertCategorical=function(e,t){if(0===e.length)return[];var n=t.domain(),r=t.range(),o=[];return r.forEach((function(t,r){t>=e[0]&&t<=e[1]&&o.push(n[r])})),o},invertByScale=function(e,t){return null===t?[]:void 0===t.invert?invertCategorical(e,t):e.map((function(e){return t.invert(e)}))},brushExtents=function(e,t,n){return function(r){var o=e.brushes,i=e.brushNodes;if(void 0===r)return Object.keys(t.dimensions).reduce((function(e,n){var r=o[n];if(void 0!==r&&null!==brushSelection(i[n])){var a=brushSelection(i[n]),s=t.dimensions[n].yscale,l=invertByScale(a,s);e[n]={extent:r.extent(),selection:{raw:a,scaled:l}}}return e}),{});var a={};return n.g().selectAll(".brush").each((function(e){a[e]=select(this)})),Object.keys(t.dimensions).forEach((function(e){if(void 0!==r[e]){var n=o[e];if(void 0!==n){var i=t.dimensions[e],s=r[e].map(i.yscale);a[e].call(n).call(n.move,s.reverse())}}})),n.renderBrushed(),n}},_this=void 0,brushReset=function(e,t,n){return function(r){var o=e.brushes;return void 0===r?(t.brushed=!1,void 0!==n.g()&&null!==n.g()&&(n.g().selectAll(".brush").each((function(e){void 0!==o[e]&&select(this).call(o[e].move,null)})),n.renderBrushed())):(t.brushed=!1,void 0!==n.g()&&null!==n.g()&&(n.g().selectAll(".brush").each((function(e){e===r&&(select(this).call(o[e].move,null),"function"==typeof o[e].type&&o[e].event(select(this)))})),n.renderBrushed())),_this}},selected=function(e,t,n){return function(){var r=e.brushNodes,o=Object.keys(t.dimensions).filter((function(e){return r[e]&&null!==brushSelection(r[e])})),i=o.map((function(e){var n=brushSelection(r[e]);return"function"==typeof t.dimensions[e].yscale.invert?[t.dimensions[e].yscale.invert(n[1]),t.dimensions[e].yscale.invert(n[0])]:n}));if(0===o.length)return t.data;var a={date:function(e,n,r){return"function"==typeof t.dimensions[n].yscale.bandwidth?i[r][0]<=t.dimensions[n].yscale(e[n])&&t.dimensions[n].yscale(e[n])<=i[r][1]:i[r][0]<=e[n]&&e[n]<=i[r][1]},number:function(e,n,r){return"function"==typeof t.dimensions[n].yscale.bandwidth?i[r][0]<=t.dimensions[n].yscale(e[n])&&t.dimensions[n].yscale(e[n])<=i[r][1]:i[r][0]<=e[n]&&e[n]<=i[r][1]},string:function(e,n,r){return i[r][0]<=t.dimensions[n].yscale(e[n])&&t.dimensions[n].yscale(e[n])<=i[r][1]}};return t.data.filter((function(e){switch(n.predicate){case"AND":return o.every((function(n,r){return a[t.dimensions[n].type](e,n,r)}));case"OR":return o.some((function(n,r){return a[t.dimensions[n].type](e,n,r)}));default:throw new Error("Unknown brush predicate "+t.brushPredicate)}}))}},brushUpdated=function(e,t,n,r){return function(o){e.brushed=o,n.call("brush",t,e.brushed,r),t.renderBrushed()}},brushFor=function(e,t,n,r,o){return function(i,a){if(!t.dimensions.hasOwnProperty(i))return function(){};var s="string"===t.dimensions[i].type?t.dimensions[i].yscale.range()[t.dimensions[i].yscale.range().length-1]:t.dimensions[i].yscale.range()[0],l=brushY(a).extent([[-15,0],[15,s]]),c=function(e){var n=Array.prototype.slice.call(e),r=n[0],o=brushSelection(n[2][0])||[],i=null;t.dimensions.hasOwnProperty(r)&&(i=t.dimensions[r].yscale);var a=invertByScale(o,i);return{axis:n[0],node:n[2][0],selection:{raw:o,scaled:a}}};return l.on("start",(function(){null!==event.sourceEvent&&(r.call("brushstart",n,t.brushed,c(arguments)),"function"==typeof event.sourceEvent.stopPropagation&&event.sourceEvent.stopPropagation())})).on("brush",(function(){brushUpdated(t,n,r,c(arguments))(selected(e,t,o)())})).on("end",(function(){brushUpdated(t,n,r)(selected(e,t,o)()),r.call("brushend",n,t.brushed,c(arguments))})),e.brushes[i]=l,e.brushNodes[i]=a.node(),l}},install=function(e,t,n,r,o){return function(){n.g()||n.createAxes();var i=n.g().append("svg:g").attr("class","brush").each((function(i){select(this).call(brushFor(e,t,n,r,o)(i,select(this)))}));return i.selectAll("rect").style("visibility",null).attr("x",-15).attr("width",30),i.selectAll("rect.background").style("fill","transparent"),i.selectAll("rect.extent").style("fill","rgba(255,255,255,0.25)").style("stroke","rgba(0,0,0,0.6)"),i.selectAll(".resize rect").style("fill","rgba(0,0,0,0.1)"),n.brushExtents=brushExtents(e,t,n),n.brushReset=brushReset(e,t,n),n}},uninstall=function(e,t){return function(){void 0!==t.g()&&null!==t.g()&&t.g().selectAll(".brush").remove(),e.brushes={},delete t.brushExtents,delete t.brushReset}},install1DAxes=function(e,t,n,r){var o={brushes:{},brushNodes:{}};e.modes["1D-axes"]={install:install(o,t,n,r,e),uninstall:uninstall(o,n),selected:selected(o,t,e),brushState:brushExtents(o,t,n)}},drawBrushes=function(e,t,n,r,o){var i=o.selectAll(".brush").data(e,(function(e){return e.id}));i.enter().insert("g",".brush").attr("class","brush").attr("dimension",r).attr("id",(function(e){return"brush-"+Object.keys(t.dimensions).indexOf(r)+"-"+e.id})).each((function(e){e.brush(select(this))})),i.each((function(t){select(this).attr("class","brush").selectAll(".overlay").style("pointer-events",(function(){var n=t.brush;return t.id===e.length-1&&void 0!==n?"all":"none"}))})),i.exit().remove()},selected$1=function(e,t,n,r,o){var i=e.brushes,a=Object.keys(t.dimensions).filter((function(e,t){for(var n=i[e],r=0;r<n.length;r++){var o=document.getElementById("brush-"+t+"-"+r);if(o&&null!==brushSelection(o))return!0}return!1})),s=a.map((function(e){return i[e].filter((function(e){return!n.hideAxis().includes(e)})).map((function(n,r){return brushSelection(document.getElementById("brush-"+Object.keys(t.dimensions).indexOf(e)+"-"+r))})).map((function(n,r){return null==n?null:"function"==typeof t.dimensions[e].yscale.invert?[t.dimensions[e].yscale.invert(n[1]),t.dimensions[e].yscale.invert(n[0])]:n}))}));if(0===a.length)return t.data;var l={date:function(e,n,r){var o=s[r];if("function"==typeof t.dimensions[n].yscale.bandwidth){var i=!0,a=!1,l=void 0;try{for(var c,u=o[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value;if(null!=d&&(d[0]<=t.dimensions[n].yscale(e[n])&&t.dimensions[n].yscale(e[n])<=d[1]))return!0}}catch(e){a=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(a)throw l}}return!1}var f=!0,h=!1,p=void 0;try{for(var g,m=o[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var v=g.value;if(null!=v&&(v[0]<=e[n]&&e[n]<=v[1]))return!0}}catch(e){h=!0,p=e}finally{try{!f&&m.return&&m.return()}finally{if(h)throw p}}return!1},number:function(e,n,r){var o=s[r];if("function"==typeof t.dimensions[n].yscale.bandwidth){var i=!0,a=!1,l=void 0;try{for(var c,u=o[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value;if(null!=d&&(d[0]<=t.dimensions[n].yscale(e[n])&&t.dimensions[n].yscale(e[n])<=d[1]))return!0}}catch(e){a=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(a)throw l}}return!1}var f=!0,h=!1,p=void 0;try{for(var g,m=o[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var v=g.value;if(null!=v&&(v[0]<=e[n]&&e[n]<=v[1]))return!0}}catch(e){h=!0,p=e}finally{try{!f&&m.return&&m.return()}finally{if(h)throw p}}return!1},string:function(e,n,r){var o=s[r],i=!0,a=!1,l=void 0;try{for(var c,u=o[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value;if(null!=d&&(d[0]<=t.dimensions[n].yscale(e[n])&&t.dimensions[n].yscale(e[n])<=d[1]))return!0}}catch(e){a=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(a)throw l}}return!1}};return t.data.filter((function(e){switch(o.predicate){case"AND":return a.every((function(n,r){return l[t.dimensions[n].type](e,n,r)}));case"OR":return a.some((function(n,r){return l[t.dimensions[n].type](e,n,r)}));default:throw new Error("Unknown brush predicate "+t.brushPredicate)}}))},brushUpdated$1=function(e,t,n){return function(r){e.brushed=r,n.call("brush",t,e.brushed),t.renderBrushed()}},newBrush=function e(t,n,r,o,i){return function(a,s){var l=t.brushes,c=t.brushNodes,u="string"===n.dimensions[a].type?n.dimensions[a].yscale.range()[n.dimensions[a].yscale.range().length-1]:n.dimensions[a].yscale.range()[0],d=brushY().extent([[-15,0],[15,u]]),f=l[a]?l[a].length:0,h="brush-"+Object.keys(n.dimensions).indexOf(a)+"-"+f;return l[a]?l[a].push({id:f,brush:d,node:h}):l[a]=[{id:f,brush:d,node:h}],c[a]?c[a].push({id:f,node:h}):c[a]=[{id:f,node:h}],d.on("start",(function(){null!==event.sourceEvent&&(o.call("brushstart",r,n.brushed),"function"==typeof event.sourceEvent.stopPropagation&&event.sourceEvent.stopPropagation())})).on("brush",(function(e){brushUpdated$1(n,r,o)(selected$1(t,n,r,o,i))})).on("end",(function(){var c=l[a][l[a].length-1].id,u=brushSelection(document.getElementById("brush-"+Object.keys(n.dimensions).indexOf(a)+"-"+c));null!=u&&u[0]!==u[1]?(e(t,n,r,o,i)(a,s),drawBrushes(l[a],n,r,a,s),brushUpdated$1(n,r,o)(selected$1(t,n,r,o,i))):event.sourceEvent&&"[object MouseEvent]"===event.sourceEvent.toString()&&null===event.selection&&r.brushReset(a),o.call("brushend",r,n.brushed)})),d}},brushExtents$1=function(e,t,n,r,o){return function(i){var a=e.brushes,s=n.hideAxis();return void 0===i?Object.keys(t.dimensions).filter((function(e){return!s.includes(e)})).reduce((function(e,n,r){var o=a[n];return e[n]=null==o?[]:o.reduce((function(e,o,i){var a=brushSelection(document.getElementById("brush-"+r+"-"+i));if(a){var s=t.dimensions[n].yscale,l=invertByScale(a,s);e.push({extent:o.brush.extent(),selection:{raw:a,scaled:l}})}return e}),[]),e}),{}):(Object.keys(t.dimensions).forEach((function(s,l){if(void 0!==i[s]&&null!==i[s]){var c=t.dimensions[s],u=i[s].map((function(e){return e.map(c.yscale)})).map((function(i,a){var c=newBrush(e,t,n,r,o)(s,select("#brush-group-"+l));return c.extent([[-15,i[1]],[15,i[0]]]),{id:a,brush:c,ext:i}}));a[s]=u,drawBrushes(u,t,n,s,select("#brush-group-"+l)),u.forEach((function(e,t){select("#brush-"+l+"-"+t).call(e.brush).call(e.brush.move,e.ext.reverse())}))}})),n.renderBrushed(),n)}},_this$1=void 0,brushReset$1=function(e,t,n){return function(r){var o=e.brushes;if(void 0===r)void 0!==n.g()&&null!==n.g()&&(Object.keys(t.dimensions).forEach((function(e,t){var r=o[e];r&&r.forEach((function(e,r){var o=document.getElementById("brush-"+t+"-"+r);o&&null!==brushSelection(o)&&n.g().select("#brush-"+t+"-"+r).call(e.brush.move,null)}))})),n.renderBrushed());else if(void 0!==n.g()&&null!==n.g()){var i=o[r],a=Object.keys(t.dimensions).indexOf(r);i&&i.forEach((function(e,t){null!==brushSelection(document.getElementById("brush-"+a+"-"+t))&&(n.g().select("#brush-"+a+"-"+t).call(e.brush.move,null),"function"==typeof e.event&&e.event(select("#brush-"+a+"-"+t)))})),n.renderBrushed()}return _this$1}},brushFor$1=function(e,t,n,r,o){return function(i,a){var s=e.brushes;newBrush(e,t,n,r,o)(i,a),drawBrushes(s[i],t,n,i,a)}},install$1=function(e,t,n,r,o){return function(){n.g()||n.createAxes();var i=n.hideAxis();return n.g().append("svg:g").attr("id",(function(e,t){return"brush-group-"+t})).attr("class","brush-group").attr("dimension",(function(e){return e})).each((function(a){i.includes(a)||brushFor$1(e,t,n,r,o)(a,select(this))})),n.brushExtents=brushExtents$1(e,t,n,r,o),n.brushReset=brushReset$1(e,t,n),n}},uninstall$1=function(e,t){return function(){void 0!==t.g()&&null!==t.g()&&t.g().selectAll(".brush-group").remove(),e.brushes={},delete t.brushExtents,delete t.brushReset}},install1DMultiAxes=function(e,t,n,r){var o={brushes:{},brushNodes:{}};e.modes["1D-axes-multi"]={install:install$1(o,t,n,r,e),uninstall:uninstall$1(o,n),selected:selected$1(o,t,e),brushState:brushExtents$1(o,t,n)}},uninstall$2=function(e,t){return function(){t.selection.select("svg").select("g#strums").remove(),t.selection.select("svg").select("rect#strum-events").remove(),t.on("axesreorder.strums",void 0),delete t.brushReset,e.strumRect=void 0}},containmentTest=function(e,t){return function(n){var r=[e.p1[0]-e.minX,e.p1[1]-e.minX],o=[e.p2[0]-e.minX,e.p2[1]-e.minX],i=1-t/r[0],a=r[1]*(1-i),s=1-t/o[0],l=o[1]*(1-s),c=n[0],u=n[1],d=i*c+a,f=s*c+l;return u>Math.min(d,f)&&u<Math.max(d,f)}},crossesStrum=function(e,t){return function(n,r){var o=e.strums[r],i=containmentTest(o,e.strums.width(r)),a=o.dims.left,s=o.dims.right,l=t.dimensions[a].yscale,c=t.dimensions[s].yscale;return i([l(n[a])-o.minX,c(n[s])-o.minX])}},selected$2=function(e,t,n){var r=Object.getOwnPropertyNames(t.strums).filter((function(e){return!isNaN(e)})),o=n.data;if(0===r.length)return o;var i=crossesStrum(t,n);return o.filter((function(t){switch(e.predicate){case"AND":return r.every((function(e){return i(t,e)}));case"OR":return r.some((function(e){return i(t,e)}));default:throw new Error("Unknown brush predicate "+n.brushPredicate)}}))},removeStrum=function(e,t){var n=e.strums[e.strums.active],r=t.selection.select("svg").select("g#strums");delete e.strums[e.strums.active],r.selectAll("line#strum-"+n.dims.i).remove(),r.selectAll("circle#strum-"+n.dims.i).remove()},onDragEnd=function(e,t,n,r,o){return function(){var i=t.strums[t.strums.active];i&&i.p1[0]===i.p2[0]&&i.p1[1]===i.p2[1]&&removeStrum(t,r);var a=selected$2(e,t,n);t.strums.active=void 0,n.brushed=a,r.renderBrushed(),o.call("brushend",r,n.brushed)}},drawStrum=function e(t,n,r,o,i,a,s){var l=o.selection.select("svg").select("g#strums"),c=a.dims.i,u=[a.p1,a.p2],d=l.selectAll("line#strum-"+c).data([a]),f=l.selectAll("circle#strum-"+c).data(u),h=drag();d.enter().append("line").attr("id","strum-"+c).attr("class","strum"),d.attr("x1",(function(e){return e.p1[0]})).attr("y1",(function(e){return e.p1[1]})).attr("x2",(function(e){return e.p2[0]})).attr("y2",(function(e){return e.p2[1]})).attr("stroke","black").attr("stroke-width",2),h.on("drag",(function(s,l){var c=event;a["p"+(l+=1)][0]=Math.min(Math.max(a.minX+1,c.x),a.maxX),a["p"+l][1]=Math.min(Math.max(a.minY,c.y),a.maxY),e(t,n,r,o,i,a,l-1)})).on("end",onDragEnd(t,n,r,o,i)),f.enter().append("circle").attr("id","strum-"+c).attr("class","strum"),f.attr("cx",(function(e){return e[0]})).attr("cy",(function(e){return e[1]})).attr("r",5).style("opacity",(function(e,t){return void 0!==s&&t===s?.8:0})).on("mouseover",(function(){select(this).style("opacity",.8)})).on("mouseout",(function(){select(this).style("opacity",0)})).call(h)},onDrag=function(e,t,n,r,o){return function(){var i=event,a=t.strums[t.strums.active];a.p2[0]=Math.min(Math.max(a.minX+1,i.x-n.margin.left),a.maxX),a.p2[1]=Math.min(Math.max(a.minY,i.y-n.margin.top),a.maxY),drawStrum(e,t,n,r,o,a,1)}},h=function(e){return e.height-e.margin.top-e.margin.bottom},dimensionsForPoint=function(e,t,n,r){var o={i:-1,left:void 0,right:void 0};return Object.keys(e.dimensions).some((function(i,a){return!(n(i)<r[0])||(o.i=a,o.left=i,o.right=Object.keys(e.dimensions)[t.getOrderedDimensionKeys().indexOf(i)+1],!1)})),void 0===o.left?(o.i=0,o.left=t.getOrderedDimensionKeys()[0],o.right=t.getOrderedDimensionKeys()[1]):void 0===o.right&&(o.i=Object.keys(e.dimensions).length-1,o.right=o.left,o.left=t.getOrderedDimensionKeys()[Object.keys(e.dimensions).length-2]),o},onDragStart=function(e,t,n,r){return function(){var o=mouse(e.strumRect.node());o[0]=o[0]-t.margin.left,o[1]=o[1]-t.margin.top;var i=dimensionsForPoint(t,n,r,o),a={p1:o,dims:i,minX:r(i.left),maxX:r(i.right),minY:0,maxY:h(t)};a.p1[0]=Math.min(Math.max(a.minX,o[0]),a.maxX),a.p2=a.p1.slice(),e.strums[i.i]=a,e.strums.active=i.i}},brushReset$2=function(e,t,n,r,o){return function(){Object.getOwnPropertyNames(t.strums).filter((function(e){return!isNaN(e)})).forEach((function(e){t.strums.active=e,removeStrum(t,r)})),onDragEnd(e,t,n,r,o)()}},consecutive=function(e){return function(t,n){var r=Object.keys(e);return r.some((function(o,i){return o===t&&(i+i<r.length&&e[i+1]===n)}))}},install$2=function(e,t,n,r,o,i){return function(){void 0!==r.g()&&null!==r.g()||r.createAxes();var a=drag();t.strums.active=void 0,t.strums.width=function(e){return void 0===t.strums[e]?void 0:t.strums[e].maxX-t.strums[e].minX},r.on("axesreorder.strums",(function(){var i=Object.getOwnPropertyNames(t.strums).filter((function(e){return!isNaN(e)}));i.length>0&&(i.forEach((function(e){var o=t.strums[e].dims;t.strums.active=e,consecutive(n.dimensions)(o.left,o.right)||removeStrum(t,r)})),onDragEnd(e,t,n,r,o)())})),r.selection.select("svg").append("g").attr("id","strums").attr("transform","translate("+n.margin.left+","+n.margin.top+")"),r.brushReset=brushReset$2(e,t,n,r,o),a.on("start",onDragStart(t,n,r,i)).on("drag",onDrag(e,t,n,r,o)).on("end",onDragEnd(e,t,n,r,o)),t.strumRect=r.selection.select("svg").insert("rect","g#strums").attr("id","strum-events").attr("x",n.margin.left).attr("y",n.margin.top).attr("width",w(n)).attr("height",h(n)+2).style("opacity",0).call(a)}},install2DStrums=function(e,t,n,r,o){var i={strums:{},strumRect:{}};e.modes["2D-strums"]={install:install$2(e,i,t,n,r,o),uninstall:uninstall$2(i,n),selected:selected$2(e,i,t),brushState:function(){return i.strums}}},uninstall$3=function(e,t){return function(){t.selection.select("svg").select("g#arcs").remove(),t.selection.select("svg").select("rect#arc-events").remove(),t.on("axesreorder.arcs",void 0),delete t.brushReset,e.strumRect=void 0}},hypothenuse=function(e,t){return Math.sqrt(e*e+t*t)},signedAngle=function(e){return e>Math.PI?1.5*Math.PI-e:.5*Math.PI-e},containmentTest$1=function(e){return function(t){var n=signedAngle(e.startAngle),r=signedAngle(e.endAngle);if(n>r){var o=n;n=r,r=o}return t>=n&&t<=r}},crossesStrum$1=function(e,t){return function(n,r){var o=e.arcs[r],i=containmentTest$1(o),a=o.dims.left,s=o.dims.right,l=t.dimensions[a].yscale,c=t.dimensions[s].yscale,u=e.arcs.width(r),d=l(n[a])-c(n[s]),f=hypothenuse(u,d);return i(Math.asin(d/f))}},selected$3=function(e,t,n){var r=Object.getOwnPropertyNames(t.arcs).filter((function(e){return!isNaN(e)})),o=n.data;if(0===r.length)return o;var i=crossesStrum$1(t,n);return o.filter((function(t){switch(e.predicate){case"AND":return r.every((function(e){return i(t,e)}));case"OR":return r.some((function(e){return i(t,e)}));default:throw new Error("Unknown brush predicate "+n.brushPredicate)}}))},removeStrum$1=function(e,t){var n=e.arcs[e.arcs.active],r=t.selection.select("svg").select("g#arcs");delete e.arcs[e.arcs.active],e.arcs.active=void 0,r.selectAll("line#arc-"+n.dims.i).remove(),r.selectAll("circle#arc-"+n.dims.i).remove(),r.selectAll("path#arc-"+n.dims.i).remove()},onDragEnd$1=function(e,t,n,r,o){return function(){var i=t.arcs[t.arcs.active];if(i&&i.p1[0]===i.p2[0]&&i.p1[1]===i.p2[1]&&removeStrum$1(t,r),i){var a=t.arcs.startAngle(t.arcs.active);i.startAngle=a,i.endAngle=a,i.arc.outerRadius(t.arcs.length(t.arcs.active)).startAngle(a).endAngle(a)}t.arcs.active=void 0,n.brushed=selected$3(e,t,n),r.renderBrushed(),o.call("brushend",r,n.brushed)}},drawStrum$1=function e(t,n,r,o,i,a,s){var l=o.selection.select("svg").select("g#arcs"),c=a.dims.i,u=[a.p2,a.p3],d=l.selectAll("line#arc-"+c).data([{p1:a.p1,p2:a.p2},{p1:a.p1,p2:a.p3}]),f=l.selectAll("circle#arc-"+c).data(u),h=drag(),p=l.selectAll("path#arc-"+c).data([a]);p.enter().append("path").attr("id","arc-"+c).attr("class","arc").style("fill","orange").style("opacity",.5),p.attr("d",a.arc).attr("transform","translate("+a.p1[0]+","+a.p1[1]+")"),d.enter().append("line").attr("id","arc-"+c).attr("class","arc"),d.attr("x1",(function(e){return e.p1[0]})).attr("y1",(function(e){return e.p1[1]})).attr("x2",(function(e){return e.p2[0]})).attr("y2",(function(e){return e.p2[1]})).attr("stroke","black").attr("stroke-width",2),h.on("drag",(function(s,l){var u=event;a["p"+(l+=2)][0]=Math.min(Math.max(a.minX+1,u.x),a.maxX),a["p"+l][1]=Math.min(Math.max(a.minY,u.y),a.maxY);var d=3===l?n.arcs.startAngle(c):n.arcs.endAngle(c);(a.startAngle<Math.PI&&a.endAngle<Math.PI&&d<Math.PI||a.startAngle>=Math.PI&&a.endAngle>=Math.PI&&d>=Math.PI)&&(2===l?(a.endAngle=d,a.arc.endAngle(d)):3===l&&(a.startAngle=d,a.arc.startAngle(d))),e(t,n,r,o,i,a,l-2)})).on("end",onDragEnd$1(t,n,r,o,i)),f.enter().append("circle").attr("id","arc-"+c).attr("class","arc"),f.attr("cx",(function(e){return e[0]})).attr("cy",(function(e){return e[1]})).attr("r",5).style("opacity",(function(e,t){return void 0!==s&&t===s?.8:0})).on("mouseover",(function(){select(this).style("opacity",.8)})).on("mouseout",(function(){select(this).style("opacity",0)})).call(h)},onDrag$1=function(e,t,n,r,o){return function(){var i=event,a=t.arcs[t.arcs.active];a.p2[0]=Math.min(Math.max(a.minX+1,i.x-n.margin.left),a.maxX),a.p2[1]=Math.min(Math.max(a.minY,i.y-n.margin.top),a.maxY),a.p3=a.p2.slice(),drawStrum$1(e,t,n,r,o,a,1)}},onDragStart$1=function(e,t,n,r){return function(){var o=mouse(e.strumRect.node());o[0]=o[0]-t.margin.left,o[1]=o[1]-t.margin.top;var i=dimensionsForPoint(t,n,r,o),a={p1:o,dims:i,minX:r(i.left),maxX:r(i.right),minY:0,maxY:h(t),startAngle:void 0,endAngle:void 0,arc:arc().innerRadius(0)};a.p1[0]=Math.min(Math.max(a.minX,o[0]),a.maxX),a.p2=a.p1.slice(),a.p3=a.p1.slice(),e.arcs[i.i]=a,e.arcs.active=i.i}},brushReset$3=function(e,t,n,r,o){return function(){Object.getOwnPropertyNames(t.arcs).filter((function(e){return!isNaN(e)})).forEach((function(e){t.arcs.active=e,removeStrum$1(t,r)})),onDragEnd$1(e,t,n,r,o)()}},angle$1=function(e,t){var n=e[0]-t[0],r=e[1]-t[1],o=hypothenuse(n,r);return Math.asin(r/o)},endAngle=function(e){return function(t){var n=e.arcs[t];if(void 0!==n){var r=-angle$1(n.p1,n.p2)+Math.PI/2;return n.p1[0]>n.p2[0]&&(r=2*Math.PI-r),r}}},startAngle=function(e){return function(t){var n=e.arcs[t];if(void 0!==n){var r=-angle$1(n.p1,n.p3)+Math.PI/2;return n.p1[0]>n.p3[0]&&(r=2*Math.PI-r),r}}},length$3=function(e){return function(t){var n=e.arcs[t];if(void 0!==n){var r=n.p1[0]-n.p2[0],o=n.p1[1]-n.p2[1];return hypothenuse(r,o)}}},install$3=function(e,t,n,r,o,i){return function(){r.g()||r.createAxes();var a=drag();t.arcs.active=void 0,t.arcs.width=function(e){var n=t.arcs[e];return void 0===n?void 0:n.maxX-n.minX},t.arcs.endAngle=endAngle(t),t.arcs.startAngle=startAngle(t),t.arcs.length=length$3(t),r.on("axesreorder.arcs",(function(){var i=Object.getOwnPropertyNames(arcs).filter((function(e){return!isNaN(e)}));i.length>0&&(i.forEach((function(e){var n=arcs[e].dims;t.arcs.active=e,consecutive(n)(n.left,n.right)||removeStrum$1(t,r)})),onDragEnd$1(e,t,n,r,o)())})),r.selection.select("svg").append("g").attr("id","arcs").attr("transform","translate("+n.margin.left+","+n.margin.top+")"),r.brushReset=brushReset$3(e,t,n,r,o),a.on("start",onDragStart$1(t,n,r,i)).on("drag",onDrag$1(e,t,n,r,o)).on("end",onDragEnd$1(e,t,n,r,o)),t.strumRect=r.selection.select("svg").insert("rect","g#arcs").attr("id","arc-events").attr("x",n.margin.left).attr("y",n.margin.top).attr("width",w(n)).attr("height",h(n)+2).style("opacity",0).call(a)}},installAngularBrush=function(e,t,n,r,o){var i={arcs:{},strumRect:{}};e.modes.angular={install:install$3(e,i,t,n,r,o),uninstall:uninstall$3(i,n),selected:selected$3(e,i,t),brushState:function(){return i.arcs}}},intersection=function(e,t,n,r){return{x:((e.x*t.y-e.y*t.x)*(n.x-r.x)-(e.x-t.x)*(n.x*r.y-n.y*r.x))/((e.x-t.x)*(n.y-r.y)-(e.y-t.y)*(n.x-r.x)),y:((e.x*t.y-e.y*t.x)*(n.y-r.y)-(e.y-t.y)*(n.x*r.y-n.y*r.x))/((e.x-t.x)*(n.y-r.y)-(e.y-t.y)*(n.x-r.x))}},mergeParcoords=function(e){return function(t){var n=window.devicePixelRatio||1,r=document.createElement("canvas"),o=e.canvas.foreground,i=Number(o.style.marginLeft.replace("px","")),a=Number(o.style.marginTop.replace("px",""))+15,s=(o.clientWidth+i)*n,l=(o.clientHeight+a)*n;r.width=s+50,r.height=l+30,r.style.width=r.width/n+"px",r.style.height=r.height/n+"px";var c=r.getContext("2d");for(var u in c.fillStyle="#ffffff",c.fillRect(0,0,r.width,r.height),e.canvas)c.drawImage(e.canvas[u],i*n,a*n,s-i*n,l-a*n);window.URL||window.webkitURL||window;var d=new XMLSerializer,f=e.selection.select("svg").node().cloneNode(!0);f.setAttribute("transform","translate(0,15)"),f.setAttribute("height",f.getAttribute("height")+15),select(f).selectAll("text").attr("fill","black");var h=d.serializeToString(f),p="data:image/svg+xml;base64,"+window.btoa(h),g=new Image;g.onload=function(){c.drawImage(g,0,0,g.width*n,g.height*n),"function"==typeof t&&t(r)},g.src=p}},selected$4=function(e,t){return function(){var n=[],r=[],o={};if(0===e.brushes.length){for(var i=t.g().selectAll(".brush").nodes(),a=0;a<i.length;a++)if(null!==brushSelection(i[a])){n.push(i[a].__data__);var s=[],l=brushSelection(i[a]);if("number"==typeof e.dimensions[i[a].__data__].yscale.domain()[0]){for(var c=0;c<l.length;c++)n.includes(i[a].__data__)&&e.flipAxes.includes(i[a].__data__)?s.push(e.dimensions[i[a].__data__].yscale.invert(l[c])):1!==e.dimensions[i[a].__data__].yscale()&&s.unshift(e.dimensions[i[a].__data__].yscale.invert(l[c]));r.push(s);for(var u=0;u<r.length;u++)0===r[u].length&&(r[u]=[1,1])}else{o[i[a].__data__]=brushSelection(i[a]);for(var d=e.dimensions[i[a].__data__].yscale.range(),f=(e.dimensions[i[a].__data__].yscale.domain(),0);f<d.length;f++)d[f]>=l[0]&&d[f]<=l[1]&&n.includes(i[a].__data__)&&e.flipAxes.includes(i[a].__data__)?s.push(d[f]):d[f]>=l[0]&&d[f]<=l[1]&&s.unshift(d[f]);r.push(s);for(var h=0;h<r.length;h++)0===r[h].length&&(r[h]=[1,1])}}var p={date:function(t,n,r){var i=t[n],a=e.dimensions[n].yscale.domain().indexOf(i),s=e.dimensions[n].yscale.range()[a];return s>=o[n][0]&&s<=o[n][1]},number:function(e,t,n){return r[n][0]<=e[t]&&e[t]<=r[n][1]},string:function(t,n,r){var i=t[n],a=e.dimensions[n].yscale.domain().indexOf(i),s=e.dimensions[n].yscale.range()[a];return s>=o[n][0]&&s<=o[n][1]}};return e.data.filter((function(t){return n.every((function(n,r){return p[e.dimensions[n].type](t,n,r)}))}))}for(var g=[],m=function(t){var n=e.brushes[t],i=[],a=n.extent,s=[n.data];if("number"==typeof e.dimensions[n.data].yscale.domain()[0]){for(var l=0;l<a.length;l++)s.includes(n.data)&&e.flipAxes.includes(n.data)?i.push(e.dimensions[n.data].yscale.invert(a[l])):1!==e.dimensions[n.data].yscale()&&i.unshift(e.dimensions[n.data].yscale.invert(a[l]));r.push(i);for(var c=0;c<r.length;c++)0===r[c].length&&(r[c]=[1,1])}else{o[n.data]=n.extent;for(var u=e.dimensions[n.data].yscale.range(),d=(e.dimensions[n.data].yscale.domain(),0);d<u.length;d++)u[d]>=a[0]&&u[d]<=a[1]&&s.includes(n.data)&&e.flipAxes.includes(n.data)?i.push(u[d]):u[d]>=a[0]&&u[d]<=a[1]&&i.unshift(u[d]);r.push(i);for(var f=0;f<r.length;f++)0===r[f].length&&(r[f]=[1,1])}for(var h={date:function(t,n,r){var i=t[n],a=e.dimensions[n].yscale.domain().indexOf(i),s=e.dimensions[n].yscale.range()[a];return s>=o[n][0]&&s<=o[n][1]},number:function(e,n,o){return r[t][0]<=e[n]&&e[n]<=r[t][1]},string:function(t,n,r){var i=t[n],a=e.dimensions[n].yscale.domain().indexOf(i),s=e.dimensions[n].yscale.range()[a];return s>=o[n][0]&&s<=o[n][1]}},p=e.data.filter((function(t){return s.every((function(n,r){return h[e.dimensions[n].type](t,n,r)}))})),m=0;m<p.length;m++)g.push(p[m]);s=[],o={}},v=0;v<e.brushes.length;v++)m(v);return g}},brushPredicate=function(e,t,n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===r)return e.predicate;if("AND"!==(r=String(r).toUpperCase())&&"OR"!==r)throw new Error("Invalid predicate "+r);return e.predicate=r,t.brushed=e.currentMode().selected(),n.renderBrushed(),n}},brushMode=function(e,t,n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===r)return e.mode;if(-1===n.brushModes().indexOf(r))throw new Error("pc.brushmode: Unsupported brush mode: "+r);return r!==e.mode&&("None"!==e.mode&&n.brushReset(),e.modes[e.mode].uninstall(n),e.mode=r,e.modes[e.mode].install(),"None"===r?delete n.brushPredicate:n.brushPredicate=brushPredicate(e,t,n)),n}},dimensionLabels=function(e){return function(t){return e.dimensions[t].title?e.dimensions[t].title:t}},flipAxisAndUpdatePCP=function(e,t,n){return function(r){t.flip(r),t.brushReset(r),t.selection.select("svg").selectAll("g.axis").filter((function(e){return e===r})).transition().duration(e.animationTime).call(n.scale(e.dimensions[r].yscale)),t.render()}},rotateLabels=function(e,t){if(e.rotateLabels){var n=event.deltaY;n=(n=n<0?-5:n)>0?5:n,e.dimensionTitleRotation+=n,t.svg.selectAll("text.label").attr("transform","translate(0,-5) rotate("+e.dimensionTitleRotation+")"),event.preventDefault()}},_this$2=void 0,updateAxes=function(e,t,n,r,o){return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===i&&(i=e.animationTime);var a=t.svg.selectAll(".dimension").data(t.getOrderedDimensionKeys());if(a.enter().append("svg:g").attr("class","dimension").attr("transform",(function(e){return"translate("+n(e)+")"})).style("opacity",0).append("svg:g").attr("class","axis").attr("transform","translate(0,0)").each((function(n){var o=select(this).call(t.applyAxisConfig(r,e.dimensions[n]));o.selectAll("path").style("fill","none").style("stroke","#222").style("shape-rendering","crispEdges"),o.selectAll("line").style("fill","none").style("stroke","#222").style("shape-rendering","crispEdges")})).append("svg:text").attr("text-anchor","middle").attr("class","label").attr("x",0).attr("y",0).attr("transform","translate(0,-5) rotate("+e.dimensionTitleRotation+")").text(dimensionLabels(e)).on("dblclick",flipAxisAndUpdatePCP(e,t,r)).on("wheel",rotateLabels(e,t)),a.attr("opacity",0),a.select(".axis").transition().duration(i).each((function(n){select(this).call(t.applyAxisConfig(r,e.dimensions[n]))})),a.select(".label").transition().duration(i).text(dimensionLabels(e)).attr("transform","translate(0,-5) rotate("+e.dimensionTitleRotation+")"),a.exit().remove(),t.svg.selectAll(".dimension").transition().duration(i).attr("transform",(function(e){return"translate("+n(e)+")"})).style("opacity",1),t.svg.selectAll(".axis").transition().duration(i).each((function(n){select(this).call(t.applyAxisConfig(r,e.dimensions[n]))})),o.brushable&&t.brushable(),o.reorderable&&t.reorderable(),"None"!==t.brushMode()){var s=t.brushMode();t.brushMode("None"),t.brushMode(s)}return _this$2}},getRange=function(e){var t=e.height-e.margin.top-e.margin.bottom;return"bottom"==e.nullValueSeparator?[t+1-e.nullValueSeparatorPadding.bottom-e.nullValueSeparatorPadding.top,1]:"top"==e.nullValueSeparator?[t+1,1+e.nullValueSeparatorPadding.bottom+e.nullValueSeparatorPadding.top]:[t+1,1]},autoscale=function(e,t,n,r){return function(){var o={date:function(t){var n=extent(e.data,(function(e){return e[t]?e[t].getTime():null}));return n[0]===n[1]?point$1().domain(n).range(getRange(e)):(e.flipAxes.includes(t)&&(n=n.map((function(e){return tempDate.unshift(e)}))),scaleTime().domain(n).range(getRange(e)))},number:function(t){var n=extent(e.data,(function(e){return+e[t]}));return n[0]===n[1]?point$1().domain(n).range(getRange(e)):(e.flipAxes.includes(t)&&(n=n.map((function(e){return tempDate.unshift(e)}))),linear$2().domain(n).range(getRange(e)))},string:function(t){var n={},r=[];if(e.data.map((function(r){if(void 0===r[t]&&"undefined"!==e.nullValueSeparator)return null;void 0===n[r[t]]?n[r[t]]=1:n[r[t]]=n[r[t]]+1})),e.flipAxes.includes(t))r=Object.getOwnPropertyNames(n).sort();else for(var o=Object.getOwnPropertyNames(n).sort(),i=0;i<Object.getOwnPropertyNames(n).length;i++)r.push(o.pop());var a=[];1===r.length&&(r=[" ",r[0]," "]);for(var s=getRange(e)[0]/(r.length-1),l=0;l<r.length;l++)0!==a.length?a.push(a[l-1]+s):a.push(0);return ordinal().domain(r).range(a)}};Object.keys(e.dimensions).forEach((function(t){void 0!==e.dimensions[t].yscale&&null!==e.dimensions[t].yscale||(e.dimensions[t].yscale=o[e.dimensions[t].type](t))})),n.range([0,w(e)]).padding(.2);var i=window.devicePixelRatio||1;return t.selection.selectAll("canvas").style("margin-top",e.margin.top+"px").style("margin-left",e.margin.left+"px").style("width",w(e)+2+"px").style("height",h(e)+2+"px").attr("width",(w(e)+2)*i).attr("height",(h(e)+2)*i),r.foreground.strokeStyle=e.color,r.foreground.lineWidth=e.lineWidth,r.foreground.globalCompositeOperation=e.composite,r.foreground.globalAlpha=e.alpha,r.foreground.scale(i,i),r.brushed.strokeStyle=e.brushedColor,r.brushed.lineWidth=e.lineWidth,r.brushed.globalCompositeOperation=e.composite,r.brushed.globalAlpha=e.alpha,r.brushed.scale(i,i),r.highlight.lineWidth=e.highlightedLineWidth,r.highlight.scale(i,i),r.marked.lineWidth=e.markedLineWidth,r.marked.shadowColor=e.markedShadowColor,r.marked.shadowBlur=e.markedShadowBlur,r.marked.scale(i,i),this}},brushable=function(e,t,n){return function(){return t.g()||t.createAxes(),t.g().append("svg:g").attr("class","brush").each((function(n){void 0!==e.dimensions[n]&&(e.dimensions[n].brush=brushY(select(this)).extent([[-15,0],[15,e.dimensions[n].yscale.range()[0]]]),select(this).call(e.dimensions[n].brush.on("start",(function(){null===event.sourceEvent||event.sourceEvent.ctrlKey||t.brushReset()})).on("brush",(function(){event.sourceEvent.ctrlKey||t.brush()})).on("end",(function(){if(event.sourceEvent.ctrlKey){var r=select(this).select(".selection").nodes()[0].outerHTML;r=r.replace('class="selection"','class="selection dummy selection-'+e.brushes.length+'"');var o=select(this).nodes()[0].__data__,i={id:e.brushes.length,extent:brushSelection(this),html:r,data:o};e.brushes.push(i),select(select(this).nodes()[0].parentNode).select(".axis").nodes()[0].outerHTML+=r,t.brush(),e.dimensions[n].brush.move(select(this,null)),select(this).select(".selection").attr("style","display:none"),t.brushable()}else t.brush()}))),select(this).on("dblclick",(function(){t.brushReset(n)})))})),n.brushable=!0,this}},commonScale=function(e,t){return function(n,r){var o=r||"number";void 0===n&&(n=!0),Object.keys(e.dimensions).length||t.detectDimensions(),t.autoscale();var i=Object.keys(e.dimensions).filter((function(t){return e.dimensions[t].type==o}));if(n){var a=extent(i.map((function(t){return e.dimensions[t].yscale.domain()})).reduce((function(e,t){return e.concat(t)})));i.forEach((function(t){e.dimensions[t].yscale.domain(a)}))}else i.forEach((function(t){e.dimensions[t].yscale.domain(extent(e.data,(function(e){return+e[k]})))}));return null!==e.bundleDimension&&t.bundleDimension(e.bundleDimension),this}},computeRealCentroids=function(e,t){return function(n){return Object.keys(e.dimensions).map((function(r){return[t(r),e.dimensions[r].yscale(n[r])]}))}},classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},isValid=function(e){return null!=e},applyDimensionDefaults=function(e,t){return function(n){var r=t.detectDimensionTypes(e.data);return(n=n||Object.keys(r)).reduce((function(t,n,o){var i=e.dimensions[n]?e.dimensions[n]:{};return t[n]=_extends({},i,{orient:isValid(i.orient)?i.orient:"left",ticks:isValid(i.ticks)?i.ticks:5,innerTickSize:isValid(i.innerTickSize)?i.innerTickSize:6,outerTickSize:isValid(i.outerTickSize)?i.outerTickSize:0,tickPadding:isValid(i.tickPadding)?i.tickPadding:3,type:isValid(i.type)?i.type:r[n],index:isValid(i.index)?i.index:o}),t}),{})}},createAxes=function(e,t,n,r,o){return function(){return void 0!==t.g()&&t.removeAxes(),t._g=t.svg.selectAll(".dimension").data(t.getOrderedDimensionKeys(),(function(e){return e})).enter().append("svg:g").attr("class","dimension").attr("transform",(function(e){return"translate("+n(e)+")"})),t._g.append("svg:g").attr("class","axis").attr("transform","translate(0,0)").each((function(n){var r=select(this).call(t.applyAxisConfig(o,e.dimensions[n]));r.selectAll("path").style("fill","none").style("stroke","#222").style("shape-rendering","crispEdges"),r.selectAll("line").style("fill","none").style("stroke","#222").style("shape-rendering","crispEdges")})).append("svg:text").attr("text-anchor","middle").attr("y",0).attr("transform","translate(0,-5) rotate("+e.dimensionTitleRotation+")").attr("x",0).attr("class","label").text(dimensionLabels(e)).on("dblclick",flipAxisAndUpdatePCP(e,t,o)).on("wheel",rotateLabels(e,t)),"top"===e.nullValueSeparator?t.svg.append("line").attr("x1",0).attr("y1",1+e.nullValueSeparatorPadding.top).attr("x2",w(e)).attr("y2",1+e.nullValueSeparatorPadding.top).attr("stroke-width",1).attr("stroke","#777").attr("fill","none").attr("shape-rendering","crispEdges"):"bottom"===e.nullValueSeparator&&t.svg.append("line").attr("x1",0).attr("y1",h(e)+1-e.nullValueSeparatorPadding.bottom).attr("x2",w(e)).attr("y2",h(e)+1-e.nullValueSeparatorPadding.bottom).attr("stroke-width",1).attr("stroke","#777").attr("fill","none").attr("shape-rendering","crispEdges"),r.axes=!0,this}},_this$3=void 0,axisDots=function(e,t,n){return function(r){var o=r||.1,i=t.ctx.dots,a=2*Math.PI;return i.globalAlpha=min([1/Math.pow(e.data.length,.5),1]),e.data.forEach((function(t){entries(e.dimensions).forEach((function(r,s){i.beginPath(),i.arc(n(r),e.dimensions[r.key].yscale(t[r]),o,0,a),i.stroke(),i.fill()}))})),_this$3}},applyAxisConfig=function(e,t){var n=void 0;switch(t.orient){case"left":default:n=axisLeft(t.yscale);break;case"right":n=axisRight(t.yscale);break;case"top":n=axisTop(t.yscale);break;case"bottom":n=axisBottom(t.yscale)}return n.ticks(t.ticks).tickValues(t.tickValues).tickSizeInner(t.innerTickSize).tickSizeOuter(t.outerTickSize).tickPadding(t.tickPadding).tickFormat(t.tickFormat),n},reorderable=function(e,t,n,r,o,i){return function(){void 0===t.g()&&t.createAxes();var a=t.g();return a.style("cursor","move").call(drag().on("start",(function(e){o[e]=this.__origin__=n(e)})).on("drag",(function(i){o[i]=Math.min(w(e),Math.max(0,this.__origin__+=event.dx)),t.sortDimensions(),n.domain(t.getOrderedDimensionKeys()),t.render(),a.attr("transform",(function(e){return"translate("+r(e)+")"}))})).on("end",(function(e){delete this.__origin__,delete o[e],select(this).transition().attr("transform","translate("+n(e)+")"),t.render(),t.renderMarked()}))),i.reorderable=!0,this}},resize=function(e,t,n,r){return function(){return t.selection.select("svg").attr("width",e.width).attr("height",e.height),t.svg.attr("transform","translate("+e.margin.left+","+e.margin.top+")"),n.brushable&&t.brushReset(),t.autoscale(),t.g()&&t.createAxes(),n.brushable&&t.brushable(),n.reorderable&&t.reorderable(),r.call("resize",this,{width:e.width,height:e.height,margin:e.margin}),this}},reorder=function(e,t,n){return function(r){var o=t.getOrderedDimensionKeys()[0];if(t.sortDimensionsByRowData(r),o!==t.getOrderedDimensionKeys()[0]){n.domain(t.getOrderedDimensionKeys());var i=e.highlighted.slice(0);t.unhighlight();var a=e.marked.slice(0);t.unmark(),t.g().transition().duration(1500).attr("transform",(function(e){return"translate("+n(e)+")"})),t.render(),0!==i.length&&t.highlight(i),0!==a.length&&t.mark(a)}}},sortDimensions=function(e,t){return function(){var n=Object.assign({},e.dimensions),r=Object.keys(e.dimensions).sort((function(e,n){return t(e)-t(n)==0?1:t(e)-t(n)}));e.dimensions={},r.forEach((function(t,r){e.dimensions[t]=n[t],e.dimensions[t].index=r}))}},sortDimensionsByRowData=function(e){return function(t){var n=Object.assign({},e.dimensions),r=Object.keys(e.dimensions).sort((function(n,r){var o=e.dimensions[n].yscale(t[n])-e.dimensions[r].yscale(t[r]);return 0===o?n.localeCompare(r):o}));e.dimensions={},r.forEach((function(t,r){e.dimensions[t]=n[t],e.dimensions[t].index=r}))}},isBrushed=function(e,t){if(e.brushed&&e.brushed.length!==e.data.length)return!0;var n=t.currentMode().brushState();for(var r in n)if(n.hasOwnProperty(r))return!0;return!1},clear=function(e,t,n,r){return function(o){return n[o].clearRect(0,0,w(e)+2,h(e)+2),"brushed"===o&&isBrushed(e,r)&&(n.brushed.fillStyle=t.selection.style("background-color"),n.brushed.globalAlpha=1-e.alphaOnBrushed,n.brushed.fillRect(0,0,w(e)+2,h(e)+2),n.brushed.globalAlpha=e.alpha),this}},PRECISION=1e-6,Matrix=function(){function e(t){classCallCheck(this,e),this.setElements(t)}return createClass(e,[{key:"e",value:function(e,t){return e<1||e>this.elements.length||t<1||t>this.elements[0].length?null:this.elements[e-1][t-1]}},{key:"row",value:function(e){return e>this.elements.length?null:new Vector(this.elements[e-1])}},{key:"col",value:function(e){if(0===this.elements.length)return null;if(e>this.elements[0].length)return null;for(var t=[],n=this.elements.length,r=0;r<n;r++)t.push(this.elements[r][e-1]);return new Vector(t)}},{key:"dimensions",value:function(){var e=0===this.elements.length?0:this.elements[0].length;return{rows:this.elements.length,cols:e}}},{key:"rows",value:function(){return this.elements.length}},{key:"cols",value:function(){return 0===this.elements.length?0:this.elements[0].length}},{key:"eql",value:function(t){var n=t.elements||t;if(n[0]&&void 0!==n[0][0]||(n=new e(n).elements),0===this.elements.length||0===n.length)return this.elements.length===n.length;if(this.elements.length!==n.length)return!1;if(this.elements[0].length!==n[0].length)return!1;for(var r,o=this.elements.length,i=this.elements[0].length;o--;)for(r=i;r--;)if(Math.abs(this.elements[o][r]-n[o][r])>PRECISION)return!1;return!0}},{key:"dup",value:function(){return new e(this.elements)}},{key:"map",value:function(t,n){if(0===this.elements.length)return new e([]);for(var r,o=[],i=this.elements.length,a=this.elements[0].length;i--;)for(r=a,o[i]=[];r--;)o[i][r]=t.call(n,this.elements[i][r],i+1,r+1);return new e(o)}},{key:"isSameSizeAs",value:function(t){var n=t.elements||t;return void 0===n[0][0]&&(n=new e(n).elements),0===this.elements.length?0===n.length:this.elements.length===n.length&&this.elements[0].length===n[0].length}},{key:"add",value:function(t){if(0===this.elements.length)return this.map((function(e){return e}));var n=t.elements||t;return void 0===n[0][0]&&(n=new e(n).elements),this.isSameSizeAs(n)?this.map((function(e,t,r){return e+n[t-1][r-1]})):null}},{key:"subtract",value:function(t){if(0===this.elements.length)return this.map((function(e){return e}));var n=t.elements||t;return void 0===n[0][0]&&(n=new e(n).elements),this.isSameSizeAs(n)?this.map((function(e,t,r){return e-n[t-1][r-1]})):null}},{key:"canMultiplyFromLeft",value:function(t){if(0===this.elements.length)return!1;var n=t.elements||t;return void 0===n[0][0]&&(n=new e(n).elements),this.elements[0].length===n.length}},{key:"multiply",value:function(t){if(0===this.elements.length)return null;if(!t.elements)return this.map((function(e){return e*t}));var n=!!t.modulus;if(void 0===(u=t.elements||t)[0][0]&&(u=new e(u).elements),!this.canMultiplyFromLeft(u))return null;for(var r,o,i,a=this.elements.length,s=u[0].length,l=this.elements[0].length,c=[];a--;)for(r=s,c[a]=[];r--;){for(o=l,i=0;o--;)i+=this.elements[a][o]*u[o][r];c[a][r]=i}var u=new e(c);return n?u.col(1):u}},{key:"minor",value:function(t,n,r,o){if(0===this.elements.length)return null;for(var i,a,s,l=[],c=r,u=this.elements.length,d=this.elements[0].length;c--;)for(l[i=r-c-1]=[],a=o;a--;)s=o-a-1,l[i][s]=this.elements[(t+i-1)%u][(n+s-1)%d];return new e(l)}},{key:"transpose",value:function(){if(0===this.elements.length)return new e([]);for(var t,n=this.elements.length,r=[],o=this.elements[0].length;o--;)for(t=n,r[o]=[];t--;)r[o][t]=this.elements[t][o];return new e(r)}},{key:"isSquare",value:function(){var e=0===this.elements.length?0:this.elements[0].length;return this.elements.length===e}},{key:"max",value:function(){if(0===this.elements.length)return null;for(var e,t=0,n=this.elements.length,r=this.elements[0].length;n--;)for(e=r;e--;)Math.abs(this.elements[n][e])>Math.abs(t)&&(t=this.elements[n][e]);return t}},{key:"indexOf",value:function(e){if(0===this.elements.length)return null;var t,n,r=this.elements.length,o=this.elements[0].length;for(t=0;t<r;t++)for(n=0;n<o;n++)if(this.elements[t][n]===e)return{i:t+1,j:n+1};return null}},{key:"diagonal",value:function(){if(!this.isSquare)return null;for(var e=[],t=this.elements.length,n=0;n<t;n++)e.push(this.elements[n][n]);return new Vector(e)}},{key:"toRightTriangular",value:function(){if(0===this.elements.length)return new e([]);var t,n,r,o,i=this.dup(),a=this.elements.length,s=this.elements[0].length;for(n=0;n<a;n++){if(0===i.elements[n][n])for(r=n+1;r<a;r++)if(0!==i.elements[r][n]){for(t=[],o=0;o<s;o++)t.push(i.elements[n][o]+i.elements[r][o]);i.elements[n]=t;break}if(0!==i.elements[n][n])for(r=n+1;r<a;r++){var l=i.elements[r][n]/i.elements[n][n];for(t=[],o=0;o<s;o++)t.push(o<=n?0:i.elements[r][o]-i.elements[n][o]*l);i.elements[r]=t}}return i}},{key:"determinant",value:function(){if(0===this.elements.length)return 1;if(!this.isSquare())return null;for(var e=this.toRightTriangular(),t=e.elements[0][0],n=e.elements.length,r=1;r<n;r++)t*=e.elements[r][r];return t}},{key:"isSingular",value:function(){return this.isSquare()&&0===this.determinant()}},{key:"trace",value:function(){if(0===this.elements.length)return 0;if(!this.isSquare())return null;for(var e=this.elements[0][0],t=this.elements.length,n=1;n<t;n++)e+=this.elements[n][n];return e}},{key:"rank",value:function(){if(0===this.elements.length)return 0;for(var e,t=this.toRightTriangular(),n=0,r=this.elements.length,o=this.elements[0].length;r--;)for(e=o;e--;)if(Math.abs(t.elements[r][e])>PRECISION){n++;break}return n}},{key:"augment",value:function(t){if(0===this.elements.length)return this.dup();var n=t.elements||t;void 0===n[0][0]&&(n=new e(n).elements);var r,o=this.dup(),i=o.elements[0].length,a=o.elements.length,s=n[0].length;if(a!==n.length)return null;for(;a--;)for(r=s;r--;)o.elements[a][i+r]=n[a][r];return o}},{key:"inverse",value:function(){if(0===this.elements.length)return null;if(!this.isSquare()||this.isSingular())return null;for(var t,n,r,o,i,a=this.elements.length,s=a,l=this.augment(e.I(a)).toRightTriangular(),c=l.elements[0].length,u=[];s--;){for(r=[],u[s]=[],o=l.elements[s][s],n=0;n<c;n++)i=l.elements[s][n]/o,r.push(i),n>=a&&u[s].push(i);for(l.elements[s]=r,t=s;t--;){for(r=[],n=0;n<c;n++)r.push(l.elements[t][n]-l.elements[s][n]*l.elements[t][s]);l.elements[t]=r}}return new e(u)}},{key:"round",value:function(){return this.map((function(e){return Math.round(e)}))}},{key:"snapTo",value:function(e){return this.map((function(t){return Math.abs(t-e)<=PRECISION?e:t}))}},{key:"inspect",value:function(){var e=[],t=this.elements.length;if(0===t)return"[]";for(var n=0;n<t;n++)e.push(new Vector(this.elements[n]).inspect());return e.join("\n")}},{key:"setElements",value:function(e){var t,n,r=e.elements||e;if(r[0]&&void 0!==r[0][0]){for(t=r.length,this.elements=[];t--;)for(n=r[t].length,this.elements[t]=[];n--;)this.elements[t][n]=r[t][n];return this}var o=r.length;for(this.elements=[],t=0;t<o;t++)this.elements.push([r[t]]);return this}},{key:"flatten",value:function(){var e=[];if(0==this.elements.length)return[];for(var t=0;t<this.elements[0].length;t++)for(var n=0;n<this.elements.length;n++)e.push(this.elements[n][t]);return e}},{key:"ensure4x4",value:function(){if(4==this.elements.length&&4==this.elements[0].length)return this;if(this.elements.length>4||this.elements[0].length>4)return null;for(var e=0;e<this.elements.length;e++)for(var t=this.elements[e].length;t<4;t++)e==t?this.elements[e].push(1):this.elements[e].push(0);for(e=this.elements.length;e<4;e++)0==e?this.elements.push([1,0,0,0]):1==e?this.elements.push([0,1,0,0]):2==e?this.elements.push([0,0,1,0]):3==e&&this.elements.push([0,0,0,1]);return this}},{key:"make3x3",value:function(){return 4!=this.elements.length||4!=this.elements[0].length?null:new e([[this.elements[0][0],this.elements[0][1],this.elements[0][2]],[this.elements[1][0],this.elements[1][1],this.elements[1][2]],[this.elements[2][0],this.elements[2][1],this.elements[2][2]]])}}]),e}();Matrix.I=function(e){for(var t,n=[],r=e;r--;)for(t=e,n[r]=[];t--;)n[r][t]=r===t?1:0;return new Matrix(n)},Matrix.Diagonal=function(e){for(var t=e.length,n=Matrix.I(t);t--;)n.elements[t][t]=e[t];return n},Matrix.Rotation=function(e,t){if(!t)return new Matrix([[Math.cos(e),-Math.sin(e)],[Math.sin(e),Math.cos(e)]]);var n=t.dup();if(3!==n.elements.length)return null;var r=n.modulus(),o=n.elements[0]/r,i=n.elements[1]/r,a=n.elements[2]/r,s=Math.sin(e),l=Math.cos(e),c=1-l;return new Matrix([[c*o*o+l,c*o*i-s*a,c*o*a+s*i],[c*o*i+s*a,c*i*i+l,c*i*a-s*o],[c*o*a-s*i,c*i*a+s*o,c*a*a+l]])},Matrix.RotationX=function(e){var t=Math.cos(e),n=Math.sin(e);return new Matrix([[1,0,0],[0,t,-n],[0,n,t]])},Matrix.RotationY=function(e){var t=Math.cos(e),n=Math.sin(e);return new Matrix([[t,0,n],[0,1,0],[-n,0,t]])},Matrix.RotationZ=function(e){var t=Math.cos(e),n=Math.sin(e);return new Matrix([[t,-n,0],[n,t,0],[0,0,1]])},Matrix.Random=function(e,t){return Matrix.Zero(e,t).map((function(){return Math.random()}))},Matrix.Translation=function(e){var t;if(2==e.elements.length)return(t=Matrix.I(3)).elements[2][0]=e.elements[0],t.elements[2][1]=e.elements[1],t;if(3==e.elements.length)return(t=Matrix.I(4)).elements[0][3]=e.elements[0],t.elements[1][3]=e.elements[1],t.elements[2][3]=e.elements[2],t;throw"Invalid length for Translation"},Matrix.Zero=function(e,t){for(var n,r=[],o=e;o--;)for(n=t,r[o]=[];n--;)r[o][n]=0;return new Matrix(r)},Matrix.prototype.toUpperTriangular=Matrix.prototype.toRightTriangular,Matrix.prototype.det=Matrix.prototype.determinant,Matrix.prototype.tr=Matrix.prototype.trace,Matrix.prototype.rk=Matrix.prototype.rank,Matrix.prototype.inv=Matrix.prototype.inverse,Matrix.prototype.x=Matrix.prototype.multiply;var Vector=function(){function e(t){classCallCheck(this,e),this.setElements(t)}return createClass(e,[{key:"e",value:function(e){return e<1||e>this.elements.length?null:this.elements[e-1]}},{key:"dimensions",value:function(){return this.elements.length}},{key:"modulus",value:function(){return Math.sqrt(this.dot(this))}},{key:"eql",value:function(e){var t=this.elements.length,n=e.elements||e;if(t!==n.length)return!1;for(;t--;)if(Math.abs(this.elements[t]-n[t])>PRECISION)return!1;return!0}},{key:"dup",value:function(){return new e(this.elements)}},{key:"map",value:function(t,n){var r=[];return this.each((function(e,o){r.push(t.call(n,e,o))})),new e(r)}},{key:"forEach",value:function(e,t){for(var n=this.elements.length,r=0;r<n;r++)e.call(t,this.elements[r],r+1)}},{key:"toUnitVector",value:function(){var e=this.modulus();return 0===e?this.dup():this.map((function(t){return t/e}))}},{key:"angleFrom",value:function(e){var t=e.elements||e;if(this.elements.length!==t.length)return null;var n=0,r=0,o=0;if(this.each((function(e,i){n+=e*t[i-1],r+=e*e,o+=t[i-1]*t[i-1]})),r=Math.sqrt(r),o=Math.sqrt(o),r*o==0)return null;var i=n/(r*o);return i<-1&&(i=-1),i>1&&(i=1),Math.acos(i)}},{key:"isParallelTo",value:function(e){var t=this.angleFrom(e);return null===t?null:t<=PRECISION}},{key:"isAntiparallelTo",value:function(e){var t=this.angleFrom(e);return null===t?null:Math.abs(t-Math.PI)<=PRECISION}},{key:"isPerpendicularTo",value:function(e){var t=this.dot(e);return null===t?null:Math.abs(t)<=PRECISION}},{key:"add",value:function(e){var t=e.elements||e;return this.elements.length!==t.length?null:this.map((function(e,n){return e+t[n-1]}))}},{key:"subtract",value:function(e){var t=e.elements||e;return this.elements.length!==t.length?null:this.map((function(e,n){return e-t[n-1]}))}},{key:"multiply",value:function(e){return this.map((function(t){return t*e}))}},{key:"dot",value:function(e){var t=e.elements||e,n=0,r=this.elements.length;if(r!==t.length)return null;for(;r--;)n+=this.elements[r]*t[r];return n}},{key:"cross",value:function(t){var n=t.elements||t;if(3!==this.elements.length||3!==n.length)return null;var r=this.elements;return new e([r[1]*n[2]-r[2]*n[1],r[2]*n[0]-r[0]*n[2],r[0]*n[1]-r[1]*n[0]])}},{key:"max",value:function(){for(var e=0,t=this.elements.length;t--;)Math.abs(this.elements[t])>Math.abs(e)&&(e=this.elements[t]);return e}},{key:"indexOf",value:function(e){for(var t=null,n=this.elements.length,r=0;r<n;r++)null===t&&this.elements[r]===e&&(t=r+1);return t}},{key:"toDiagonalMatrix",value:function(){return Matrix.Diagonal(this.elements)}},{key:"round",value:function(){return this.map((function(e){return Math.round(e)}))}},{key:"snapTo",value:function(e){return this.map((function(t){return Math.abs(t-e)<=PRECISION?e:t}))}},{key:"distanceFrom",value:function(e){if(e.anchor||e.start&&e.end)return e.distanceFrom(this);var t=e.elements||e;if(t.length!==this.elements.length)return null;var n,r=0;return this.each((function(e,o){n=e-t[o-1],r+=n*n})),Math.sqrt(r)}},{key:"liesOn",value:function(e){return e.contains(this)}},{key:"liesIn",value:function(e){return e.contains(this)}},{key:"rotate",value:function(t,n){var r,o,i,a,s=null;switch(t.determinant&&(s=t.elements),this.elements.length){case 2:return 2!==(r=n.elements||n).length?null:(s||(s=Matrix.Rotation(t).elements),o=this.elements[0]-r[0],i=this.elements[1]-r[1],new e([r[0]+s[0][0]*o+s[0][1]*i,r[1]+s[1][0]*o+s[1][1]*i]));case 3:if(!n.direction)return null;var l=n.pointClosestTo(this).elements;return s||(s=Matrix.Rotation(t,n.direction).elements),o=this.elements[0]-l[0],i=this.elements[1]-l[1],a=this.elements[2]-l[2],new e([l[0]+s[0][0]*o+s[0][1]*i+s[0][2]*a,l[1]+s[1][0]*o+s[1][1]*i+s[1][2]*a,l[2]+s[2][0]*o+s[2][1]*i+s[2][2]*a]);default:return null}}},{key:"reflectionIn",value:function(t){if(t.anchor){var n=this.elements.slice(),r=t.pointClosestTo(n).elements;return new e([r[0]+(r[0]-n[0]),r[1]+(r[1]-n[1]),r[2]+(r[2]-(n[2]||0))])}var o=t.elements||t;return this.elements.length!==o.length?null:this.map((function(e,t){return o[t-1]+(o[t-1]-e)}))}},{key:"to3D",value:function(){var e=this.dup();switch(e.elements.length){case 3:break;case 2:e.elements.push(0);break;default:return null}return e}},{key:"inspect",value:function(){return"["+this.elements.join(", ")+"]"}},{key:"setElements",value:function(e){return this.elements=(e.elements||e).slice(),this}},{key:"flatten",value:function(){return this.elements}}]),e}();Vector.Random=function(e){for(var t=[];e--;)t.push(Math.random());return new Vector(t)},Vector.Zero=function(e){for(var t=[];e--;)t.push(0);return new Vector(t)},Vector.prototype.x=Vector.prototype.multiply,Vector.prototype.each=Vector.prototype.forEach,Vector.i=new Vector([1,0,0]),Vector.j=new Vector([0,1,0]),Vector.k=new Vector([0,0,1]);var computeCentroids=function(e,t,n){for(var r=[],o=Object.keys(e.dimensions),i=o.length,a=0;a<i;++a){var s=t(o[a]),l=e.dimensions[o[a]].yscale(n[o[a]]);if(r.push(new Vector([s,l])),a<i-1){var c=s+.5*(t(o[a+1])-s),u=l+.5*(e.dimensions[o[a+1]].yscale(n[o[a+1]])-l);if(null!==e.bundleDimension){var d=.5*(e.clusterCentroids.get(e.dimensions[e.bundleDimension].yscale(n[e.bundleDimension])).get(o[a])+e.clusterCentroids.get(e.dimensions[e.bundleDimension].yscale(n[e.bundleDimension])).get(o[a+1]));u=d+(1-e.bundlingStrength)*(u-d)}r.push(new Vector([c,u]))}}return r},computeControlPoints=function(e,t){var n=t.length,r=e,o=[];o.push(t[0]),o.push(new Vector([t[0].e(1)+2*r*(t[1].e(1)-t[0].e(1)),t[0].e(2)]));for(var i=1;i<n-1;++i){var a=t[i],s=t[i-1],l=t[i+1],c=s.subtract(l);o.push(a.add(c.x(r))),o.push(a),o.push(a.subtract(c.x(r)))}return o.push(new Vector([t[n-1].e(1)+2*r*(t[n-2].e(1)-t[n-1].e(1)),t[n-1].e(2)])),o.push(t[n-1]),o},singleCurve=function(e,t,n,r){var o=computeCentroids(e,t,n),i=computeControlPoints(e.smoothness,o);r.moveTo(i[0].e(1),i[0].e(2));for(var a=1;a<i.length;a+=3){if(e.showControlPoints)for(var s=0;s<3;s++)r.fillRect(i[a+s].e(1),i[a+s].e(2),2,2);r.bezierCurveTo(i[a].e(1),i[a].e(2),i[a+1].e(1),i[a+1].e(2),i[a+2].e(1),i[a+2].e(2))}},getNullPosition=function(e){return"bottom"===e.nullValueSeparator?h(e)+1:"top"===e.nullValueSeparator?1:(console.log("A value is NULL, but nullValueSeparator is not set; set it to 'bottom' or 'top'."),h(e)+1)},singlePath=function(e,t,n,r){Object.keys(e.dimensions).map((function(r){return[t(r),void 0===n[r]?getNullPosition(e):e.dimensions[r].yscale(n[r])]})).sort((function(e,t){return e[0]-t[0]})).forEach((function(e,t){0===t?r.moveTo(e[0],e[1]):r.lineTo(e[0],e[1])}))},colorPath=function(e,t,n,r){r.beginPath(),null!==e.bundleDimension&&e.bundlingStrength>0||e.smoothness>0?singleCurve(e,t,n,r):singlePath(e,t,n,r),r.stroke()},_functor=function(e){return"function"==typeof e?e:function(){return e}},pathMark=function(e,t,n){return function(r,o){return t.marked.strokeStyle=_functor(e.color)(r,o),colorPath(e,n,r,t.marked)}},renderMarkedDefault=function(e,t,n,r){return function(){t.clear("marked"),e.marked.length&&e.marked.forEach(pathMark(e,n,r))}},renderMarkedQueue=function(e,t){return function(){e.marked?t(e.marked):t([])}},renderMarked=function(e,t,n){return function(){return Object.keys(e.dimensions).length||t.detectDimensions(),t.renderMarked[e.mode](),n.call("render",this),this}},pathBrushed=function(e,t,n){return function(r,o){return null!==e.brushedColor?t.brushed.strokeStyle=_functor(e.brushedColor)(r,o):t.brushed.strokeStyle=_functor(e.color)(r,o),colorPath(e,n,r,t.brushed)}},renderBrushedDefault=function(e,t,n,r,o){return function(){r.clear("brushed"),isBrushed(e,o)&&!1!==e.brushed&&e.brushed.forEach(pathBrushed(e,t,n))}},renderBrushedQueue=function(e,t,n){return function(){isBrushed(e,t)?n(e.brushed):n([])}},renderBrushed=function(e,t,n){return function(){return Object.keys(e.dimensions).length||t.detectDimensions(),t.renderBrushed[e.mode](),n.call("render",this),this}},brushReset$4=function(e,t){return function(n){for(var r=[],o=0;o<e.brushes.length;o++)e.brushes[o].data!==n&&r.push(e.brushes[o]);if(e.brushes=r,e.brushed=!1,void 0!==t.g())for(var i=t.g().selectAll(".brush").nodes(),a=0;a<i.length;a++)i[a].__data__===n&&(select(select(i[a]).nodes()[0].parentNode).selectAll(".dummy").remove(),e.dimensions[n].brush.move(select(i[a],null)));return this}},toType=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},toString=function(e){return function(){return"Parallel Coordinates: "+Object.keys(e.dimensions).length+" dimensions ("+Object.keys(e.data[0]).length+" total) , "+e.data.length+" rows"}},adjacentPairs=function(e){for(var t=[],n=0;n<e.length-1;n++)t.push([e[n],e[n+1]]);return t},pathHighlight=function(e,t,n){return function(r,o){return t.highlight.strokeStyle=_functor(e.color)(r,o),colorPath(e,n,r,t.highlight)}},highlight=function(e,t,n,r,o,i){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===a?e.highlighted:(e.highlighted=a,t.clear("highlight"),selectAll([n.foreground,n.brushed]).classed("faded",!0),a.forEach(pathHighlight(e,o,i)),r.call("highlight",this,a),this)}},unhighlight=function(e,t,n){return function(){return e.highlighted=[],t.clear("highlight"),selectAll([n.foreground,n.brushed]).classed("faded",!1),this}},mark=function(e,t,n,r,o,i){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===t?e.marked:(e.marked=e.marked.concat(t),selectAll([n.foreground,n.brushed]).classed("dimmed",!0),t.forEach(pathMark(e,o,i)),r.call("mark",this,t),this)}},unmark=function(e,t,n){return function(){return e.marked=[],t.clear("marked"),selectAll([n.foreground,n.brushed]).classed("dimmed",!1),this}},removeAxes=function(e){return function(){return e._g.remove(),delete e._g,this}},render=function(e,t,n){return function(){return Object.keys(e.dimensions).length||t.detectDimensions(),t.autoscale(),t.render[e.mode](),n.call("render",this),this}},pathForeground=function(e,t,n){return function(r,o){return t.foreground.strokeStyle=_functor(e.color)(r,o),colorPath(e,n,r,t.foreground)}},renderDefault=function(e,t,n,r){return function(){t.clear("foreground"),t.clear("highlight"),t.renderBrushed.default(),t.renderMarked.default(),e.data.forEach(pathForeground(e,n,r))}},renderDefaultQueue=function(e,t,n){return function(){t.renderBrushed.queue(),t.renderMarked.queue(),n(e.data)}},toTypeCoerceNumbers=function(e){return parseFloat(e)==e&&null!==e?"number":toType(e)},detectDimensionTypes=function(e){return Object.keys(e[0]).reduce((function(t,n){return t[isNaN(Number(n))?n:parseInt(n)]=toTypeCoerceNumbers(e[0][n]),t}),{})},getOrderedDimensionKeys=function(e){return function(){return Object.keys(e.dimensions).sort((function(t,n){return ascending(e.dimensions[t].index,e.dimensions[n].index)}))}},interactive=function(e){return function(){return e.interactive=!0,this}},shadows=function(e,t){return function(){return e.shadows=!0,t.alphaOnBrushed(.1),t.render(),this}},init$1=function(e,t,n){return function r(o){return o=r.selection=select(o),e.width=o.node().clientWidth,e.height=o.node().clientHeight,["dots","foreground","brushed","marked","highlight"].forEach((function(e){t[e]=o.append("canvas").attr("class",e).node(),n[e]=t[e].getContext("2d")})),r.svg=o.append("svg").attr("width",e.width).attr("height",e.height).style("font","14px sans-serif").style("position","absolute").append("svg:g").attr("transform","translate("+e.margin.left+","+e.margin.top+")"),r}},flip=function(e){return function(t){return e.dimensions[t].yscale.domain(e.dimensions[t].yscale.domain().reverse()),this}},detectDimensions=function(e){return function(){return e.dimensions(e.applyDimensionDefaults()),this}},scale=function(e,t){return function(n,r){return e.dimensions[n].yscale.domain(r),t.render.default(),t.updateAxes(),this}},version$1="2.2.10",DefaultConfig={data:[],highlighted:[],marked:[],dimensions:{},dimensionTitleRotation:0,brushes:[],brushed:!1,brushedColor:null,alphaOnBrushed:0,lineWidth:1.4,highlightedLineWidth:3,mode:"default",markedLineWidth:3,markedShadowColor:"#ffffff",markedShadowBlur:10,rate:20,width:600,height:300,margin:{top:24,right:20,bottom:12,left:20},nullValueSeparator:"undefined",nullValueSeparatorPadding:{top:8,right:0,bottom:8,left:0},color:"#069",composite:"source-over",alpha:.7,bundlingStrength:.5,bundleDimension:null,smoothness:0,showControlPoints:!1,hideAxis:[],flipAxes:[],animationTime:1100,rotateLabels:!1},_this$4=void 0,initState=function(e){var t=Object.assign({},DefaultConfig,e);e&&e.dimensionTitles&&(console.warn("dimensionTitles passed in userConfig is deprecated. Add title to dimension object."),entries(e.dimensionTitles).forEach((function(e){t.dimensions[e.key]?t.dimensions[e.key].title=t.dimensions[e.key].title?t.dimensions[e.key].title:e.value:t.dimensions[e.key]={title:e.value}})));var n=["render","resize","highlight","mark","brush","brushend","brushstart","axesreorder"].concat(keys(t)),r=dispatch.apply(_this$4,n),o=point$1(),i=axisLeft().ticks(5);return{config:t,events:r,eventTypes:n,flags:{brushable:!1,reorderable:!1,axes:!1,interactive:!1,debug:!1},xscale:o,dragging:{},axis:i,ctx:{},canvas:{},brush:{modes:{None:{install:function(e){},uninstall:function(e){},selected:function(){return[]},brushState:function(){return{}}}},mode:"None",predicate:"AND",currentMode:function(){return this.modes[this.mode]}}}},computeClusterCentroids=function(e,t){var n=new Map,r=new Map;return e.data.forEach((function(n){var o=e.dimensions[t].yscale(n[t]);r.has(o)||r.set(o,0);var i=r.get(o);r.set(o,i+1)})),e.data.forEach((function(o){Object.keys(e.dimensions).map((function(i){var a=e.dimensions[t].yscale(o[t]);if(!n.has(a)){var s=new Map;n.set(a,s)}n.get(a).has(i)||n.get(a).set(i,0);var l=n.get(a).get(i);l+=e.dimensions[i].yscale(o[i])/r.get(a),n.get(a).set(i,l)}))})),n},_this$5=void 0,without=function(e,t){return t.forEach((function(t){delete e[t]})),e},sideEffects=function(e,t,n,r,o,i,a,s,l){return dispatch.apply(_this$5,Object.keys(e)).on("composite",(function(e){t.foreground.globalCompositeOperation=e.value,t.brushed.globalCompositeOperation=e.value})).on("alpha",(function(e){t.foreground.globalAlpha=e.value,t.brushed.globalAlpha=e.value})).on("brushedColor",(function(e){t.brushed.strokeStyle=e.value})).on("width",(function(e){return n.resize()})).on("height",(function(e){return n.resize()})).on("margin",(function(e){return n.resize()})).on("rate",(function(e){a.rate(e.value),s.rate(e.value),l.rate(e.value)})).on("dimensions",(function(t){e.dimensions=n.applyDimensionDefaults(Object.keys(t.value)),r.domain(n.getOrderedDimensionKeys()),n.sortDimensions(),i.interactive&&n.render().updateAxes()})).on("bundleDimension",(function(t){Object.keys(e.dimensions).length||n.detectDimensions(),n.autoscale(),"number"==typeof t.value?t.value<Object.keys(e.dimensions).length?e.bundleDimension=e.dimensions[t.value]:t.value<e.hideAxis.length&&(e.bundleDimension=e.hideAxis[t.value]):e.bundleDimension=t.value,e.clusterCentroids=computeClusterCentroids(e,e.bundleDimension),i.interactive&&n.render()})).on("hideAxis",(function(t){n.brushReset(),n.dimensions(n.applyDimensionDefaults()),n.dimensions(without(e.dimensions,t.value)),n.render()})).on("flipAxes",(function(t){t.value&&t.value.length&&(t.value.forEach((function(t){flipAxisAndUpdatePCP(e,n,o)(t)})),n.updateAxes(0))}))},getset=function(e,t,n,r){Object.keys(t).forEach((function(o){e[o]=function(i){if(!arguments.length)return t[o];"dimensions"===o&&"[object Array]"===Object.prototype.toString.call(i)&&(console.warn("pc.dimensions([]) is deprecated, use pc.dimensions({})"),i=e.applyDimensionDefaults(i));var a=t[o];return t[o]=i,r.call(o,e,{value:i,previous:a}),n.call(o,e,{value:i,previous:a}),e}}))},d3_rebind=function(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}},_rebind=function(e,t,n){return e[n]=d3_rebind(e,t,t[n]),e},bindEvents=function(e,t,n,r,o,i,a,s,l,c){var u=sideEffects(e,t,n,r,c,o,i,a,s);getset(n,e,l,u),_rebind(n,l,"on"),_rebind(n,c,"ticks","orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat")},ParCoords=function(e){var t=initState(e),n=t.config,r=t.events,o=t.flags,i=t.xscale,a=t.dragging,s=t.axis,l=t.ctx,c=t.canvas,u=t.brush,d=init$1(n,c,l),f=function(e){return 0===i.range().length&&i.range([0,w(n)],1),null==a[e]?i(e):a[e]},h=renderQueue(pathBrushed(n,l,f)).rate(50).clear((function(){return d.clear("brushed")})),p=renderQueue(pathMark(n,l,f)).rate(50).clear((function(){return d.clear("marked")})),g=renderQueue(pathForeground(n,l,f)).rate(50).clear((function(){d.clear("foreground"),d.clear("highlight")}));return bindEvents(n,l,d,i,o,h,p,g,r,s),d.state=n,d.flags=o,d.autoscale=autoscale(n,d,i,l),d.scale=scale(n,d),d.flip=flip(n),d.commonScale=commonScale(n,d),d.detectDimensions=detectDimensions(d),d.detectDimensionTypes=detectDimensionTypes,d.applyDimensionDefaults=applyDimensionDefaults(n,d),d.getOrderedDimensionKeys=getOrderedDimensionKeys(n),d.render=render(n,d,r),d.renderBrushed=renderBrushed(n,d,r),d.renderMarked=renderMarked(n,d,r),d.render.default=renderDefault(n,d,l,f),d.render.queue=renderDefaultQueue(n,d,g),d.renderBrushed.default=renderBrushedDefault(n,l,f,d,u),d.renderBrushed.queue=renderBrushedQueue(n,u,h),d.renderMarked.default=renderMarkedDefault(n,d,l,f),d.renderMarked.queue=renderMarkedQueue(n,p),d.compute_real_centroids=computeRealCentroids(n,f),d.shadows=shadows(o,d),d.axisDots=axisDots(n,d,f),d.clear=clear(n,d,l,u),d.createAxes=createAxes(n,d,i,o,s),d.removeAxes=removeAxes(d),d.updateAxes=updateAxes(n,d,f,s,o),d.applyAxisConfig=applyAxisConfig,d.brushable=brushable(n,d,o),d.brushReset=brushReset$4(n,d),d.selected=selected$4(n,d),d.reorderable=reorderable(n,d,i,f,a,o),d.reorder=reorder(n,d,i),d.sortDimensionsByRowData=sortDimensionsByRowData(n),d.sortDimensions=sortDimensions(n,f),d.adjacent_pairs=adjacentPairs,d.interactive=interactive(o),d.xscale=i,d.ctx=l,d.canvas=c,d.g=function(){return d._g},d.resize=resize(n,d,o,r),d.highlight=highlight(n,d,c,r,l,f),d.unhighlight=unhighlight(n,d,c),d.mark=mark(n,d,c,r,l,f),d.unmark=unmark(n,d,c),d.intersection=intersection,d.mergeParcoords=mergeParcoords(d),d.brushModes=function(){return Object.getOwnPropertyNames(u.modes)},d.brushMode=brushMode(u,n,d),install1DAxes(u,n,d,r),install2DStrums(u,n,d,r,i),installAngularBrush(u,n,d,r,i),install1DMultiAxes(u,n,d,r),d.version=version$1,d.toString=toString(n),d.toType=toType,d.toTypeCoerceNumbers=toTypeCoerceNumbers,d},init$2=function(e){return function t(n){return n=t.selection=selectAll(n),t.charts=[],n.each((function(n,r){t.charts[r]=ParCoords(e.chartOptions)(this).data(e.data).hideAxis(["id"]).alpha(.4).render().mode("queue").brushMode("1D-axes"),e.partition[r]=["id"]})),t}},commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var jquery=createCommonjsModule((function(e){
  /*!
       * jQuery JavaScript Library v3.3.1
       * https://jquery.com/
       *
       * Includes Sizzle.js
       * https://sizzlejs.com/
       *
       * Copyright JS Foundation and other contributors
       * Released under the MIT license
       * https://jquery.org/license
       *
       * Date: 2018-01-20T17:24Z
       */
  !function(t,n){e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}}("undefined"!=typeof window?window:commonjsGlobal,(function(e,t){var n=[],r=e.document,o=Object.getPrototypeOf,i=n.slice,a=n.concat,s=n.push,l=n.indexOf,c={},u=c.toString,d=c.hasOwnProperty,f=d.toString,h=f.call(Object),p={},g=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},m=function(e){return null!=e&&e===e.window},v={type:!0,src:!0,noModule:!0};function y(e,t,n){var o,i=(t=t||r).createElement("script");if(i.text=e,n)for(o in v)n[o]&&(i[o]=n[o]);t.head.appendChild(i).parentNode.removeChild(i)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[u.call(e)]||"object":typeof e}var w="3.3.1",C=function(e,t){return new C.fn.init(e,t)},x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function _(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!g(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}C.fn=C.prototype={jquery:w,constructor:C,length:0,toArray:function(){return i.call(this)},get:function(e){return null==e?i.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return C.each(this,e)},map:function(e){return this.pushStack(C.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},C.extend=C.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(c&&r&&(C.isPlainObject(r)||(o=Array.isArray(r)))?(o?(o=!1,i=n&&Array.isArray(n)?n:[]):i=n&&C.isPlainObject(n)?n:{},a[t]=C.extend(c,i,r)):void 0!==r&&(a[t]=r));return a},C.extend({expando:"jQuery"+(w+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==u.call(e))&&(!(t=o(e))||"function"==typeof(n=d.call(t,"constructor")&&t.constructor)&&f.call(n)===h)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){y(e)},each:function(e,t){var n,r=0;if(_(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(x,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(_(Object(e))?C.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,s=[];if(_(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&s.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&s.push(o);return a.apply([],s)},guid:1,support:p}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=n[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){c["[object "+t+"]"]=t.toLowerCase()}));var R=
    /*!
         * Sizzle CSS Selector Engine v2.3.3
         * https://sizzlejs.com/
         *
         * Copyright jQuery Foundation and other contributors
         * Released under the MIT license
         * http://jquery.org/license
         *
         * Date: 2016-08-08
         */
    function(e){var t,n,r,o,i,a,s,l,c,u,d,f,h,p,g,m,v,y,b,w="sizzle"+1*new Date,C=e.document,x=0,_=0,R=ae(),$=ae(),A=ae(),S=function(e,t){return e===t&&(d=!0),0},E={}.hasOwnProperty,T=[],k=T.pop,M=T.push,P=T.push,L=T.slice,D=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},I="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",O="\\["+N+"*("+F+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+N+"*\\]",j=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",z=new RegExp(N+"+","g"),W=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),H=new RegExp("^"+N+"*,"+N+"*"),B=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),q=new RegExp("="+N+"*([^\\]'\"]*?)"+N+"*\\]","g"),V=new RegExp(j),U=new RegExp("^"+F+"$"),G={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+I+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+N+"?|("+N+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){f()},oe=ye((function(e){return!0===e.disabled&&("form"in e||"label"in e)}),{dir:"parentNode",next:"legend"});try{P.apply(T=L.call(C.childNodes),C.childNodes),T[C.childNodes.length].nodeType}catch(e){P={apply:T.length?function(e,t){M.apply(e,L.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ie(e,t,r,o){var i,s,c,u,d,p,v,y=t&&t.ownerDocument,x=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return r;if(!o&&((t?t.ownerDocument||t:C)!==h&&f(t),t=t||h,g)){if(11!==x&&(d=Q.exec(e)))if(i=d[1]){if(9===x){if(!(c=t.getElementById(i)))return r;if(c.id===i)return r.push(c),r}else if(y&&(c=y.getElementById(i))&&b(t,c)&&c.id===i)return r.push(c),r}else{if(d[2])return P.apply(r,t.getElementsByTagName(e)),r;if((i=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return P.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!A[e+" "]&&(!m||!m.test(e))){if(1!==x)y=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(te,ne):t.setAttribute("id",u=w),s=(p=a(e)).length;s--;)p[s]="#"+u+" "+ve(p[s]);v=p.join(","),y=Z.test(e)&&ge(t.parentNode)||t}if(v)try{return P.apply(r,y.querySelectorAll(v)),r}catch(e){}finally{u===w&&t.removeAttribute("id")}}}return l(e.replace(W,"$1"),t,r,o)}function ae(){var e=[];return function t(n,o){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function se(e){return e[w]=!0,e}function le(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=t}function ue(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function he(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pe(e){return se((function(t){return t=+t,se((function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ie.support={},i=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},f=ie.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:C;return a!==h&&9===a.nodeType&&a.documentElement?(p=(h=a).documentElement,g=!i(h),C!==h&&(o=h.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",re,!1):o.attachEvent&&o.attachEvent("onunload",re)),n.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=le((function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=K.test(h.getElementsByClassName),n.getById=le((function(e){return p.appendChild(e).id=w,!h.getElementsByName||!h.getElementsByName(w).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(J,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(n.qsa=K.test(h.querySelectorAll))&&(le((function(e){p.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+N+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+N+"*(?:value|"+I+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")})),le((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+N+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=K.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&le((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",j)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=K.test(p.compareDocumentPosition),b=t||K.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},S=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===h||e.ownerDocument===C&&b(C,e)?-1:t===h||t.ownerDocument===C&&b(C,t)?1:u?D(u,e)-D(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e===h?-1:t===h?1:o?-1:i?1:u?D(u,e)-D(u,t):0;if(o===i)return ue(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ue(a[r],s[r]):a[r]===C?-1:s[r]===C?1:0},h):h},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h&&f(e),t=t.replace(q,"='$1']"),n.matchesSelector&&g&&!A[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return ie(t,h,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==h&&f(e),b(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==h&&f(e);var o=r.attrHandle[t.toLowerCase()],i=o&&E.call(r.attrHandle,t.toLowerCase())?o(e,t,!g):void 0;return void 0!==i?i:n.attributes||!g?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ie.escape=function(e){return(e+"").replace(te,ne)},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,r=[],o=0,i=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(S),d){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return u=null,e},o=ie.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},r=ie.selectors={cacheLength:50,createPseudo:se,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=R[e+" "];return t||(t=new RegExp("(^|"+N+")"+e+"("+N+"|$)"))&&R(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=ie.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(z," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,h,p,g=i!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(m){if(i){for(;g;){for(f=t;f=f[g];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(b=(h=(c=(u=(d=(f=m)[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===x&&c[1])&&c[2],f=h&&m.childNodes[h];f=++h&&f&&f[g]||(b=h=0)||p.pop();)if(1===f.nodeType&&++b&&f===t){u[e]=[x,h,b];break}}else if(y&&(b=h=(c=(u=(d=(f=t)[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===x&&c[1]),!1===b)for(;(f=++h&&f&&f[g]||(b=h=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&((u=(d=f[w]||(f[w]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]=[x,b]),f!==t)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return o[w]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se((function(e,n){for(var r,i=o(e,t),a=i.length;a--;)e[r=D(e,i[a])]=!(n[r]=i[a])})):function(e){return o(e,0,n)}):o}},pseudos:{not:se((function(e){var t=[],n=[],r=s(e.replace(W,"$1"));return r[w]?se((function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}})),has:se((function(e){return function(t){return ie(e,t).length>0}})),contains:se((function(e){return e=e.replace(J,ee),function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}})),lang:se((function(e){return U.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(J,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(!1),disabled:he(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe((function(){return[0]})),last:pe((function(e,t){return[t-1]})),eq:pe((function(e,t,n){return[n<0?n+t:n]})),even:pe((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:pe((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:pe((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:pe((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},r.pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function me(){}function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ye(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,s=_++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,l){var c,u,d,f=[x,s];if(l){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(u=(d=t[w]||(t[w]={}))[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=u[i])&&c[0]===x&&c[1]===s)return f[2]=c[2];if(u[i]=f,f[2]=e(t,n,l))return!0}return!1}}function be(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function we(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function Ce(e,t,n,r,o,i){return r&&!r[w]&&(r=Ce(r)),o&&!o[w]&&(o=Ce(o,i)),se((function(i,a,s,l){var c,u,d,f=[],h=[],p=a.length,g=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)ie(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),m=!e||!i&&t?g:we(g,f,e,s,l),v=n?o||(i?e:p||r)?[]:a:m;if(n&&n(m,v,s,l),r)for(c=we(v,h),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[h[u]]=!(m[h[u]]=d));if(i){if(o||e){if(o){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(m[u]=d);o(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=o?D(i,d):f[u])>-1&&(i[c]=!(a[c]=d))}}else v=we(v===a?v.splice(p,v.length):v),o?o(null,a,v,l):P.apply(a,v)}))}function xe(e){for(var t,n,o,i=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],l=a?1:0,u=ye((function(e){return e===t}),s,!0),d=ye((function(e){return D(t,e)>-1}),s,!0),f=[function(e,n,r){var o=!a&&(r||n!==c)||((t=n).nodeType?u(e,n,r):d(e,n,r));return t=null,o}];l<i;l++)if(n=r.relative[e[l].type])f=[ye(be(f),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[w]){for(o=++l;o<i&&!r.relative[e[o].type];o++);return Ce(l>1&&be(f),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(W,"$1"),n,l<o&&xe(e.slice(l,o)),o<i&&xe(e=e.slice(o)),o<i&&ve(e))}f.push(n)}return be(f)}return me.prototype=r.filters=r.pseudos,r.setFilters=new me,a=ie.tokenize=function(e,t){var n,o,i,a,s,l,c,u=$[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=r.preFilter;s;){for(a in n&&!(o=H.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),n=!1,(o=B.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(W," ")}),s=s.slice(n.length)),r.filter)!(o=G[a].exec(s))||c[a]&&!(o=c[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ie.error(e):$(e,l).slice(0)},s=ie.compile=function(e,t){var n,o=[],i=[],s=A[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=xe(t[n]))[w]?o.push(s):i.push(s);s=A(e,function(e,t){var n=t.length>0,o=e.length>0,i=function(i,a,s,l,u){var d,p,m,v=0,y="0",b=i&&[],w=[],C=c,_=i||o&&r.find.TAG("*",u),R=x+=null==C?1:Math.random()||.1,$=_.length;for(u&&(c=a===h||a||u);y!==$&&null!=(d=_[y]);y++){if(o&&d){for(p=0,a||d.ownerDocument===h||(f(d),s=!g);m=e[p++];)if(m(d,a||h,s)){l.push(d);break}u&&(x=R)}n&&((d=!m&&d)&&v--,i&&b.push(d))}if(v+=y,n&&y!==v){for(p=0;m=t[p++];)m(b,w,a,s);if(i){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=k.call(l));w=we(w)}P.apply(l,w),u&&!i&&w.length>0&&v+t.length>1&&ie.uniqueSort(l)}return u&&(x=R,c=C),b};return n?se(i):i}(i,o)),s.selector=e}return s},l=ie.select=function(e,t,n,o){var i,l,c,u,d,f="function"==typeof e&&e,h=!o&&a(e=f.selector||e);if(n=n||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&g&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(J,ee),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(i=G.needsContext.test(e)?0:l.length;i--&&(c=l[i],!r.relative[u=c.type]);)if((d=r.find[u])&&(o=d(c.matches[0].replace(J,ee),Z.test(l[0].type)&&ge(t.parentNode)||t))){if(l.splice(i,1),!(e=o.length&&ve(l)))return P.apply(n,o),n;break}}return(f||s(e,h))(o,t,!g,n,!t||Z.test(e)&&ge(t.parentNode)||t),n},n.sortStable=w.split("").sort(S).join("")===w,n.detectDuplicates=!!d,f(),n.sortDetached=le((function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ce("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ce("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||ce(I,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),ie}(e);C.find=R,C.expr=R.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=R.uniqueSort,C.text=R.getText,C.isXMLDoc=R.isXML,C.contains=R.contains,C.escapeSelector=R.escape;var $=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&C(e).is(n))break;r.push(e)}return r},A=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},S=C.expr.match.needsContext;function E(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var T=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function k(e,t,n){return g(t)?C.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?C.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?C.grep(e,(function(e){return l.call(t,e)>-1!==n})):C.filter(t,e,n)}C.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?C.find.matchesSelector(r,e)?[r]:[]:C.find.matches(e,C.grep(t,(function(e){return 1===e.nodeType})))},C.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(C(e).filter((function(){for(t=0;t<r;t++)if(C.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)C.find(e,o[t],n);return r>1?C.uniqueSort(n):n},filter:function(e){return this.pushStack(k(this,e||[],!1))},not:function(e){return this.pushStack(k(this,e||[],!0))},is:function(e){return!!k(this,"string"==typeof e&&S.test(e)?C(e):e||[],!1).length}});var M,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,L=C.fn.init=function(e,t,n){var o,i;if(!e)return this;if(n=n||M,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:P.exec(e))||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),T.test(o[1])&&C.isPlainObject(t))for(o in t)g(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(i=r.getElementById(o[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(C):C.makeArray(e,this)};L.prototype=C.fn,M=C(r);var D=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function N(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&C(e);if(!S.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?C.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?l.call(C(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return $(e,"parentNode")},parentsUntil:function(e,t,n){return $(e,"parentNode",n)},next:function(e){return N(e,"nextSibling")},prev:function(e){return N(e,"previousSibling")},nextAll:function(e){return $(e,"nextSibling")},prevAll:function(e){return $(e,"previousSibling")},nextUntil:function(e,t,n){return $(e,"nextSibling",n)},prevUntil:function(e,t,n){return $(e,"previousSibling",n)},siblings:function(e){return A((e.parentNode||{}).firstChild,e)},children:function(e){return A(e.firstChild)},contents:function(e){return E(e,"iframe")?e.contentDocument:(E(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},(function(e,t){C.fn[e]=function(n,r){var o=C.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=C.filter(r,o)),this.length>1&&(I[e]||C.uniqueSort(o),D.test(e)&&o.reverse()),this.pushStack(o)}}));var F=/[^\x20\t\r\n\f]+/g;function O(e){return e}function j(e){throw e}function z(e,t,n,r){var o;try{e&&g(o=e.promise)?o.call(e).done(t).fail(n):e&&g(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}C.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return C.each(e.match(F)||[],(function(e,n){t[n]=!0})),t}(e):C.extend({},e);var t,n,r,o,i=[],a=[],s=-1,l=function(){for(o=o||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},c={add:function(){return i&&(n&&!t&&(s=i.length-1,a.push(n)),function t(n){C.each(n,(function(n,r){g(r)?e.unique&&c.has(r)||i.push(r):r&&r.length&&"string"!==b(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return C.each(arguments,(function(e,t){for(var n;(n=C.inArray(t,i,n))>-1;)i.splice(n,1),n<=s&&s--})),this},has:function(e){return e?C.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},C.extend({Deferred:function(t){var n=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return C.Deferred((function(t){C.each(n,(function(n,r){var o=g(e[r[4]])&&e[r[4]];i[r[1]]((function(){var e=o&&o.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(t,r,o){var i=0;function a(t,n,r,o){return function(){var s=this,l=arguments,c=function(){var e,c;if(!(t<i)){if((e=r.apply(s,l))===n.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,g(c)?o?c.call(e,a(i,n,O,o),a(i,n,j,o)):(i++,c.call(e,a(i,n,O,o),a(i,n,j,o),a(i,n,O,n.notifyWith))):(r!==O&&(s=void 0,l=[e]),(o||n.resolveWith)(s,l))}},u=o?c:function(){try{c()}catch(e){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(e,u.stackTrace),t+1>=i&&(r!==j&&(s=void 0,l=[e]),n.rejectWith(s,l))}};t?u():(C.Deferred.getStackHook&&(u.stackTrace=C.Deferred.getStackHook()),e.setTimeout(u))}}return C.Deferred((function(e){n[0][3].add(a(0,e,g(o)?o:O,e.notifyWith)),n[1][3].add(a(0,e,g(t)?t:O)),n[2][3].add(a(0,e,g(r)?r:j))})).promise()},promise:function(e){return null!=e?C.extend(e,o):o}},i={};return C.each(n,(function(e,t){var a=t[2],s=t[5];o[t[1]]=a.add,s&&a.add((function(){r=s}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),i[t[0]]=function(){return i[t[0]+"With"](this===i?void 0:this,arguments),this},i[t[0]+"With"]=a.fireWith})),o.promise(i),t&&t.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=i.call(arguments),a=C.Deferred(),s=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?i.call(arguments):n,--t||a.resolveWith(r,o)}};if(t<=1&&(z(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||g(o[n]&&o[n].then)))return a.then();for(;n--;)z(o[n],s(n),a.reject);return a.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&W.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},C.readyException=function(t){e.setTimeout((function(){throw t}))};var H=C.Deferred();function B(){r.removeEventListener("DOMContentLoaded",B),e.removeEventListener("load",B),C.ready()}C.fn.ready=function(e){return H.then(e).catch((function(e){C.readyException(e)})),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==e&&--C.readyWait>0||H.resolveWith(r,[C]))}}),C.ready.then=H.then,"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(C.ready):(r.addEventListener("DOMContentLoaded",B),e.addEventListener("load",B));var q=function(e,t,n,r,o,i,a){var s=0,l=e.length,c=null==n;if("object"===b(n))for(s in o=!0,n)q(e,t,s,n[s],!0,i,a);else if(void 0!==r&&(o=!0,g(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(C(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):i},V=/^-ms-/,U=/-([a-z])/g;function G(e,t){return t.toUpperCase()}function Y(e){return e.replace(V,"ms-").replace(U,G)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function K(){this.expando=C.expando+K.uid++}K.uid=1,K.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[Y(t)]=n;else for(r in t)o[Y(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Y(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Y):(t=Y(t))in r?[t]:t.match(F)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||C.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!C.isEmptyObject(t)}};var Q=new K,Z=new K,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:J.test(e)?JSON.parse(e):e)}(n)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return Z.hasData(e)||Q.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),C.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=Z.get(i),1===i.nodeType&&!Q.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=Y(r.slice(5)),te(i,r,o[r]));Q.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){Z.set(this,e)})):q(this,(function(t){var n;if(i&&void 0===t)return void 0!==(n=Z.get(i,e))||void 0!==(n=te(i,e))?n:void 0;this.each((function(){Z.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Z.remove(this,e)}))}}),C.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Q.get(e,t),n&&(!r||Array.isArray(n)?r=Q.access(e,t,C.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),r=n.length,o=n.shift(),i=C._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,(function(){C.dequeue(e,t)}),i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:C.Callbacks("once memory").add((function(){Q.remove(e,[t+"queue",n])}))})}}),C.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?C.queue(this[0],e):void 0===t?this:this.each((function(){var n=C.queue(this,e,t);C._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&C.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){C.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=C.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Q.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+ne+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ie=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&C.contains(e.ownerDocument,e)&&"none"===C.css(e,"display")},ae=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in o=n.apply(e,r||[]),t)e.style[i]=a[i];return o};function se(e,t,n,r){var o,i,a=20,s=r?function(){return r.cur()}:function(){return C.css(e,t,"")},l=s(),c=n&&n[3]||(C.cssNumber[t]?"":"px"),u=(C.cssNumber[t]||"px"!==c&&+l)&&re.exec(C.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)C.style(e,t,u+c),(1-i)*(1-(i=s()/l||.5))<=0&&(a=0),u/=i;u*=2,C.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=o)),o}var le={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,o=le[r];return o||(t=n.body.appendChild(n.createElement(r)),o=C.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),le[r]=o,o)}function ue(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(o[i]=Q.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&ie(r)&&(o[i]=ce(r))):"none"!==n&&(o[i]="none",Q.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}C.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ie(this)?C(this).show():C(this).hide()}))}});var de=/^(?:checkbox|radio)$/i,fe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,he=/^$|^module$|\/(?:java|ecma)script/i,pe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&E(e,t)?C.merge([e],n):n}function me(e,t){for(var n=0,r=e.length;n<r;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}pe.optgroup=pe.option,pe.tbody=pe.tfoot=pe.colgroup=pe.caption=pe.thead,pe.th=pe.td;var ve,ye,be=/<|&#?\w+;/;function we(e,t,n,r,o){for(var i,a,s,l,c,u,d=t.createDocumentFragment(),f=[],h=0,p=e.length;h<p;h++)if((i=e[h])||0===i)if("object"===b(i))C.merge(f,i.nodeType?[i]:i);else if(be.test(i)){for(a=a||d.appendChild(t.createElement("div")),s=(fe.exec(i)||["",""])[1].toLowerCase(),l=pe[s]||pe._default,a.innerHTML=l[1]+C.htmlPrefilter(i)+l[2],u=l[0];u--;)a=a.lastChild;C.merge(f,a.childNodes),(a=d.firstChild).textContent=""}else f.push(t.createTextNode(i));for(d.textContent="",h=0;i=f[h++];)if(r&&C.inArray(i,r)>-1)o&&o.push(i);else if(c=C.contains(i.ownerDocument,i),a=ge(d.appendChild(i),"script"),c&&me(a),n)for(u=0;i=a[u++];)he.test(i.type||"")&&n.push(i);return d}ve=r.createDocumentFragment().appendChild(r.createElement("div")),(ye=r.createElement("input")).setAttribute("type","radio"),ye.setAttribute("checked","checked"),ye.setAttribute("name","t"),ve.appendChild(ye),p.checkClone=ve.cloneNode(!0).cloneNode(!0).lastChild.checked,ve.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!ve.cloneNode(!0).lastChild.defaultValue;var Ce=r.documentElement,xe=/^key/,_e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Re=/^([^.]*)(?:\.(.+)|)/;function $e(){return!0}function Ae(){return!1}function Se(){try{return r.activeElement}catch(e){}}function Ee(e,t,n,r,o,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Ae;else if(!o)return e;return 1===i&&(a=o,o=function(e){return C().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=C.guid++)),e.each((function(){C.event.add(this,t,o,r,n)}))}C.event={global:{},add:function(e,t,n,r,o){var i,a,s,l,c,u,d,f,h,p,g,m=Q.get(e);if(m)for(n.handler&&(n=(i=n).handler,o=i.selector),o&&C.find.matchesSelector(Ce,o),n.guid||(n.guid=C.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(t){return void 0!==C&&C.event.triggered!==t.type?C.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(F)||[""]).length;c--;)h=g=(s=Re.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),h&&(d=C.event.special[h]||{},h=(o?d.delegateType:d.bindType)||h,d=C.event.special[h]||{},u=C.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&C.expr.match.needsContext.test(o),namespace:p.join(".")},i),(f=l[h])||((f=l[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,p,a)||e.addEventListener&&e.addEventListener(h,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,u):f.push(u),C.event.global[h]=!0)},remove:function(e,t,n,r,o){var i,a,s,l,c,u,d,f,h,p,g,m=Q.hasData(e)&&Q.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(F)||[""]).length;c--;)if(h=g=(s=Re.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),h){for(d=C.event.special[h]||{},f=l[h=(r?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=f.length;i--;)u=f[i],!o&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(f.splice(i,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(e,u));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,p,m.handle)||C.removeEvent(e,h,m.handle),delete l[h])}else for(h in l)C.event.remove(e,h+t[c],n,r,!0);C.isEmptyObject(l)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,s=C.event.fix(e),l=new Array(arguments.length),c=(Q.get(this,"events")||{})[s.type]||[],u=C.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=C.event.handlers.call(this,s,c),t=0;(o=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(i.namespace)||(s.handleObj=i,s.data=i.data,void 0!==(r=((C.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,o,i,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],a={},n=0;n<l;n++)void 0===a[o=(r=t[n]).selector+" "]&&(a[o]=r.needsContext?C(o,this).index(c)>-1:C.find(o,this,null,[c]).length),a[o]&&i.push(r);i.length&&s.push({elem:c,handlers:i})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(C.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Se()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Se()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&E(this,"input"))return this.click(),!1},_default:function(e){return E(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?$e:Ae,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:Ae,isPropagationStopped:Ae,isImmediatePropagationStopped:Ae,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=$e,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=$e,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=$e,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&_e.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},C.event.addProp),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){C.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,o=e.handleObj;return r&&(r===this||C.contains(this,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),C.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,C(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ae),this.each((function(){C.event.remove(this,e,n,t)}))}});var Te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ke=/<script|<style|<link/i,Me=/checked\s*(?:[^=]|=\s*.checked.)/i,Pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return E(e,"table")&&E(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ie(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ne(e,t){var n,r,o,i,a,s,l,c;if(1===t.nodeType){if(Q.hasData(e)&&(i=Q.access(e),a=Q.set(t,i),c=i.events))for(o in delete a.handle,a.events={},c)for(n=0,r=c[o].length;n<r;n++)C.event.add(t,o,c[o][n]);Z.hasData(e)&&(s=Z.access(e),l=C.extend({},s),Z.set(t,l))}}function Fe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&de.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Oe(e,t,n,r){t=a.apply([],t);var o,i,s,l,c,u,d=0,f=e.length,h=f-1,m=t[0],v=g(m);if(v||f>1&&"string"==typeof m&&!p.checkClone&&Me.test(m))return e.each((function(o){var i=e.eq(o);v&&(t[0]=m.call(this,o,i.html())),Oe(i,t,n,r)}));if(f&&(i=(o=we(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(l=(s=C.map(ge(o,"script"),De)).length;d<f;d++)c=o,d!==h&&(c=C.clone(c,!0,!0),l&&C.merge(s,ge(c,"script"))),n.call(e[d],c,d);if(l)for(u=s[s.length-1].ownerDocument,C.map(s,Ie),d=0;d<l;d++)c=s[d],he.test(c.type||"")&&!Q.access(c,"globalEval")&&C.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?C._evalUrl&&C._evalUrl(c.src):y(c.textContent.replace(Pe,""),u,c))}return e}function je(e,t,n){for(var r,o=t?C.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||C.cleanData(ge(r)),r.parentNode&&(n&&C.contains(r.ownerDocument,r)&&me(ge(r,"script")),r.parentNode.removeChild(r));return e}C.extend({htmlPrefilter:function(e){return e.replace(Te,"<$1></$2>")},clone:function(e,t,n){var r,o,i,a,s=e.cloneNode(!0),l=C.contains(e.ownerDocument,e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(a=ge(s),r=0,o=(i=ge(e)).length;r<o;r++)Fe(i[r],a[r]);if(t)if(n)for(i=i||ge(e),a=a||ge(s),r=0,o=i.length;r<o;r++)Ne(i[r],a[r]);else Ne(e,s);return(a=ge(s,"script")).length>0&&me(a,!l&&ge(e,"script")),s},cleanData:function(e){for(var t,n,r,o=C.event.special,i=0;void 0!==(n=e[i]);i++)if(X(n)){if(t=n[Q.expando]){if(t.events)for(r in t.events)o[r]?C.event.remove(n,r):C.removeEvent(n,r,t.handle);n[Q.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),C.fn.extend({detach:function(e){return je(this,e,!0)},remove:function(e){return je(this,e)},text:function(e){return q(this,(function(e){return void 0===e?C.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Oe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)}))},prepend:function(){return Oe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Oe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Oe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return C.clone(this,e,t)}))},html:function(e){return q(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!pe[(fe.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Oe(this,arguments,(function(t){var n=this.parentNode;C.inArray(this,e)<0&&(C.cleanData(ge(this)),n&&n.replaceChild(t,this))}),e)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){C.fn[e]=function(e){for(var n,r=[],o=C(e),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),C(o[a])[t](n),s.apply(r,n.get());return this.pushStack(r)}}));var ze=new RegExp("^("+ne+")(?!px)[a-z%]+$","i"),We=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},He=new RegExp(oe.join("|"),"i");function Be(e,t,n){var r,o,i,a,s=e.style;return(n=n||We(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||C.contains(e.ownerDocument,e)||(a=C.style(e,t)),!p.pixelBoxStyles()&&ze.test(a)&&He.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ce.appendChild(c).appendChild(u);var t=e.getComputedStyle(u);o="1%"!==t.top,l=12===n(t.marginLeft),u.style.right="60%",s=36===n(t.right),i=36===n(t.width),u.style.position="absolute",a=36===u.offsetWidth||"absolute",Ce.removeChild(c),u=null}}function n(e){return Math.round(parseFloat(e))}var o,i,a,s,l,c=r.createElement("div"),u=r.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===u.style.backgroundClip,C.extend(p,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),o},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),a}}))}();var Ve=/^(none|table(?!-c[ea]).+)/,Ue=/^--/,Ge={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Xe=["Webkit","Moz","ms"],Ke=r.createElement("div").style;function Qe(e){var t=C.cssProps[e];return t||(t=C.cssProps[e]=function(e){if(e in Ke)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Xe.length;n--;)if((e=Xe[n]+t)in Ke)return e}(e)||e),t}function Ze(e,t,n){var r=re.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Je(e,t,n,r,o,i){var a="width"===t?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=C.css(e,n+oe[a],!0,o)),r?("content"===n&&(l-=C.css(e,"padding"+oe[a],!0,o)),"margin"!==n&&(l-=C.css(e,"border"+oe[a]+"Width",!0,o))):(l+=C.css(e,"padding"+oe[a],!0,o),"padding"!==n?l+=C.css(e,"border"+oe[a]+"Width",!0,o):s+=C.css(e,"border"+oe[a]+"Width",!0,o));return!r&&i>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-s-.5))),l}function et(e,t,n){var r=We(e),o=Be(e,t,r),i="border-box"===C.css(e,"boxSizing",!1,r),a=i;if(ze.test(o)){if(!n)return o;o="auto"}return a=a&&(p.boxSizingReliable()||o===e.style[t]),("auto"===o||!parseFloat(o)&&"inline"===C.css(e,"display",!1,r))&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(o=parseFloat(o)||0)+Je(e,t,n||(i?"border":"content"),a,r,o)+"px"}function tt(e,t,n,r,o){return new tt.prototype.init(e,t,n,r,o)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Be(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=Y(t),l=Ue.test(t),c=e.style;if(l||(t=Qe(s)),a=C.cssHooks[t]||C.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:c[t];"string"===(i=typeof n)&&(o=re.exec(n))&&o[1]&&(n=se(e,t,o),i="number"),null!=n&&n==n&&("number"===i&&(n+=o&&o[3]||(C.cssNumber[s]?"":"px")),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var o,i,a,s=Y(t);return Ue.test(t)||(t=Qe(s)),(a=C.cssHooks[t]||C.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=Be(e,t,r)),"normal"===o&&t in Ye&&(o=Ye[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),C.each(["height","width"],(function(e,t){C.cssHooks[t]={get:function(e,n,r){if(n)return!Ve.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):ae(e,Ge,(function(){return et(e,t,r)}))},set:function(e,n,r){var o,i=We(e),a="border-box"===C.css(e,"boxSizing",!1,i),s=r&&Je(e,t,r,a,i);return a&&p.scrollboxSize()===i.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-Je(e,t,"border",!1,i)-.5)),s&&(o=re.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=C.css(e,t)),Ze(0,n,s)}}})),C.cssHooks.marginLeft=qe(p.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-ae(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),C.each({margin:"",padding:"",border:"Width"},(function(e,t){C.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+oe[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(C.cssHooks[e+t].set=Ze)})),C.fn.extend({css:function(e,t){return q(this,(function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=We(e),o=t.length;a<o;a++)i[t[a]]=C.css(e,t[a],!1,r);return i}return void 0!==n?C.style(e,t,n):C.css(e,t)}),e,t,arguments.length>1)}}),C.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(C.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[C.cssProps[e.prop]]&&!C.cssHooks[e.prop]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=tt.prototype.init,C.fx.step={};var nt,rt,ot=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function at(){rt&&(!1===r.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,C.fx.interval),C.fx.tick())}function st(){return e.setTimeout((function(){nt=void 0})),nt=Date.now()}function lt(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=oe[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function ct(e,t,n){for(var r,o=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function ut(e,t,n){var r,o,i=0,a=ut.prefilters.length,s=C.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=nt||st(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),i=0,a=c.tweens.length;i<a;i++)c.tweens[i].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||st(),duration:n.duration,tweens:[],createTween:function(t,n){var r=C.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,r,o,i,a;for(n in e)if(o=t[r=Y(n)],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=C.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}(u,c.opts.specialEasing);i<a;i++)if(r=ut.prefilters[i].call(c,e,u,c.opts))return g(r.stop)&&(C._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return C.map(u,ct,c),g(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),C.fx.timer(C.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}C.Animation=C.extend(ut,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,re.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(F);for(var n,r=0,o=e.length;r<o;r++)n=e[r],ut.tweeners[n]=ut.tweeners[n]||[],ut.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,i,a,s,l,c,u,d="width"in t||"height"in t,f=this,h={},p=e.style,g=e.nodeType&&ie(e),m=Q.get(e,"fxshow");for(r in n.queue||(null==(a=C._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always((function(){f.always((function(){a.unqueued--,C.queue(e,"fx").length||a.empty.fire()}))}))),t)if(o=t[r],ot.test(o)){if(delete t[r],i=i||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!m||void 0===m[r])continue;g=!0}h[r]=m&&m[r]||C.style(e,r)}if((l=!C.isEmptyObject(t))||!C.isEmptyObject(h))for(r in d&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=m&&m.display)&&(c=Q.get(e,"display")),"none"===(u=C.css(e,"display"))&&(c?u=c:(ue([e],!0),c=e.style.display||c,u=C.css(e,"display"),ue([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===C.css(e,"float")&&(l||(f.done((function(){p.display=c})),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,h)l||(m?"hidden"in m&&(g=m.hidden):m=Q.access(e,"fxshow",{display:c}),i&&(m.hidden=!g),g&&ue([e],!0),f.done((function(){for(r in g||ue([e]),Q.remove(e,"fxshow"),h)C.style(e,r,h[r])}))),l=ct(g?m[r]:0,r,f),r in m||(m[r]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),C.speed=function(e,t,n){var r=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return C.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in C.fx.speeds?r.duration=C.fx.speeds[r.duration]:r.duration=C.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&C.dequeue(this,r.queue)},r},C.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ie).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=C.isEmptyObject(e),i=C.speed(t,n,r),a=function(){var t=ut(this,C.extend({},e),i);(o||Q.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",i=C.timers,a=Q.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&it.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||C.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Q.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=C.timers,a=r?r.length:0;for(n.finish=!0,C.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),C.each(["toggle","show","hide"],(function(e,t){var n=C.fn[t];C.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(lt(t,!0),e,r,o)}})),C.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){C.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||C.fx.stop(),nt=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){rt||(rt=!0,at())},C.fx.stop=function(){rt=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(t,n){return t=C.fx&&C.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,r){var o=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(o)}}))},function(){var e=r.createElement("input"),t=r.createElement("select").appendChild(r.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=t.selected,(e=r.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var dt,ft=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return q(this,C.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){C.removeAttr(this,e)}))}}),C.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?C.prop(e,t,n):(1===i&&C.isXMLDoc(e)||(o=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void C.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=C.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&E(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(F);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=ft[t]||C.find.attr;ft[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=ft[a],ft[a]=o,o=null!=n(e,t,r)?a:null,ft[a]=i),o}}));var ht=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;function gt(e){return(e.match(F)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(F)||[]}C.fn.extend({prop:function(e,t){return q(this,C.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[C.propFix[e]||e]}))}}),C.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&C.isXMLDoc(e)||(t=C.propFix[t]||t,o=C.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(C.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){C.propFix[this.toLowerCase()]=this})),C.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,l=0;if(g(e))return this.each((function(t){C(this).addClass(e.call(this,t,mt(this)))}));if((t=vt(e)).length)for(;n=this[l++];)if(o=mt(n),r=1===n.nodeType&&" "+gt(o)+" "){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(s=gt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,l=0;if(g(e))return this.each((function(t){C(this).removeClass(e.call(this,t,mt(this)))}));if(!arguments.length)return this.attr("class","");if((t=vt(e)).length)for(;n=this[l++];)if(o=mt(n),r=1===n.nodeType&&" "+gt(o)+" "){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(s=gt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each((function(n){C(this).toggleClass(e.call(this,n,mt(this),t),t)})):this.each((function(){var t,o,i,a;if(r)for(o=0,i=C(this),a=vt(e);t=a[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=mt(this))&&Q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Q.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+gt(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var yt=/\r/g;C.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=g(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,C(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=C.map(o,(function(e){return null==e?"":e+""}))),(t=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=C.valHooks[o.type]||C.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(yt,""):null==n?"":n:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:gt(C.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?i+1:o.length;for(r=i<0?l:a?i:0;r<l;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!E(n.parentNode,"optgroup"))){if(t=C(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,o=e.options,i=C.makeArray(t),a=o.length;a--;)((r=o[a]).selected=C.inArray(C.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),C.each(["radio","checkbox"],(function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=C.inArray(C(e).val(),t)>-1}},p.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),p.focusin="onfocusin"in e;var bt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};C.extend(C.event,{trigger:function(t,n,o,i){var a,s,l,c,u,f,h,p,v=[o||r],y=d.call(t,"type")?t.type:t,b=d.call(t,"namespace")?t.namespace.split("."):[];if(s=p=l=o=o||r,3!==o.nodeType&&8!==o.nodeType&&!bt.test(y+C.event.triggered)&&(y.indexOf(".")>-1&&(b=y.split("."),y=b.shift(),b.sort()),u=y.indexOf(":")<0&&"on"+y,(t=t[C.expando]?t:new C.Event(y,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),n=null==n?[t]:C.makeArray(n,[t]),h=C.event.special[y]||{},i||!h.trigger||!1!==h.trigger.apply(o,n))){if(!i&&!h.noBubble&&!m(o)){for(c=h.delegateType||y,bt.test(c+y)||(s=s.parentNode);s;s=s.parentNode)v.push(s),l=s;l===(o.ownerDocument||r)&&v.push(l.defaultView||l.parentWindow||e)}for(a=0;(s=v[a++])&&!t.isPropagationStopped();)p=s,t.type=a>1?c:h.bindType||y,(f=(Q.get(s,"events")||{})[t.type]&&Q.get(s,"handle"))&&f.apply(s,n),(f=u&&s[u])&&f.apply&&X(s)&&(t.result=f.apply(s,n),!1===t.result&&t.preventDefault());return t.type=y,i||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(v.pop(),n)||!X(o)||u&&g(o[y])&&!m(o)&&((l=o[u])&&(o[u]=null),C.event.triggered=y,t.isPropagationStopped()&&p.addEventListener(y,wt),o[y](),t.isPropagationStopped()&&p.removeEventListener(y,wt),C.event.triggered=void 0,l&&(o[u]=l)),t.result}},simulate:function(e,t,n){var r=C.extend(new C.Event,n,{type:e,isSimulated:!0});C.event.trigger(r,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each((function(){C.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}}),p.focusin||C.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){C.event.simulate(t,e.target,C.event.fix(e))};C.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=Q.access(r,t);o||r.addEventListener(e,n,!0),Q.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=Q.access(r,t)-1;o?Q.access(r,t,o):(r.removeEventListener(e,n,!0),Q.remove(r,t))}}}));var Ct=e.location,xt=Date.now(),_t=/\?/;C.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+t),n};var Rt=/\[\]$/,$t=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;function Et(e,t,n,r){var o;if(Array.isArray(t))C.each(t,(function(t,o){n||Rt.test(e)?r(e,o):Et(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)}));else if(n||"object"!==b(t))r(e,t);else for(o in t)Et(e+"["+o+"]",t[o],n,r)}C.param=function(e,t){var n,r=[],o=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,(function(){o(this.name,this.value)}));else for(n in e)Et(n,e[n],t,o);return r.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&St.test(this.nodeName)&&!At.test(e)&&(this.checked||!de.test(e))})).map((function(e,t){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,(function(e){return{name:t.name,value:e.replace($t,"\r\n")}})):{name:t.name,value:n.replace($t,"\r\n")}})).get()}});var Tt=/%20/g,kt=/#.*$/,Mt=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Dt=/^\/\//,It={},Nt={},Ft="*/".concat("*"),Ot=r.createElement("a");function jt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(F)||[];if(g(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function zt(e,t,n,r){var o={},i=e===Nt;function a(s){var l;return o[s]=!0,C.each(e[s]||[],(function(e,s){var c=s(t,n,r);return"string"!=typeof c||i||o[c]?i?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),l}return a(t.dataTypes[0])||!o["*"]&&a("*")}function Wt(e,t){var n,r,o=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&C.extend(!0,e,r),e}Ot.href=Ct.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Wt(Wt(e,C.ajaxSettings),t):Wt(C.ajaxSettings,e)},ajaxPrefilter:jt(It),ajaxTransport:jt(Nt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var o,i,a,s,l,c,u,d,f,h,p=C.ajaxSetup({},n),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?C(g):C.event,v=C.Deferred(),y=C.Callbacks("once memory"),b=p.statusCode||{},w={},x={},_="canceled",R={readyState:0,getResponseHeader:function(e){var t;if(u){if(!s)for(s={};t=Pt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(e,t){return null==u&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==u&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)R.always(e[R.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||_;return o&&o.abort(t),$(0,t),this}};if(v.promise(R),p.url=((t||p.url||Ct.href)+"").replace(Dt,Ct.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(F)||[""],null==p.crossDomain){c=r.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Ot.protocol+"//"+Ot.host!=c.protocol+"//"+c.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=C.param(p.data,p.traditional)),zt(It,p,n,R),u)return R;for(f in(d=C.event&&p.global)&&0==C.active++&&C.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Lt.test(p.type),i=p.url.replace(kt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Tt,"+")):(h=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=(_t.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(Mt,"$1"),h=(_t.test(i)?"&":"?")+"_="+xt+++h),p.url=i+h),p.ifModified&&(C.lastModified[i]&&R.setRequestHeader("If-Modified-Since",C.lastModified[i]),C.etag[i]&&R.setRequestHeader("If-None-Match",C.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&R.setRequestHeader("Content-Type",p.contentType),R.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ft+"; q=0.01":""):p.accepts["*"]),p.headers)R.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(g,R,p)||u))return R.abort();if(_="abort",y.add(p.complete),R.done(p.success),R.fail(p.error),o=zt(Nt,p,n,R)){if(R.readyState=1,d&&m.trigger("ajaxSend",[R,p]),u)return R;p.async&&p.timeout>0&&(l=e.setTimeout((function(){R.abort("timeout")}),p.timeout));try{u=!1,o.send(w,$)}catch(e){if(u)throw e;$(-1,e)}}else $(-1,"No Transport");function $(t,n,r,s){var c,f,h,w,x,_=n;u||(u=!0,l&&e.clearTimeout(l),o=void 0,a=s||"",R.readyState=t>0?4:0,c=t>=200&&t<300||304===t,r&&(w=function(e,t,n){for(var r,o,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==l[0]&&l.unshift(i),n[i]}(p,R,r)),w=function(e,t,n,r){var o,i,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=u.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=u.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=c[l+" "+i]||c["* "+i]))for(o in c)if((s=o.split(" "))[1]===i&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(i=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}(p,w,R,c),c?(p.ifModified&&((x=R.getResponseHeader("Last-Modified"))&&(C.lastModified[i]=x),(x=R.getResponseHeader("etag"))&&(C.etag[i]=x)),204===t||"HEAD"===p.type?_="nocontent":304===t?_="notmodified":(_=w.state,f=w.data,c=!(h=w.error))):(h=_,!t&&_||(_="error",t<0&&(t=0))),R.status=t,R.statusText=(n||_)+"",c?v.resolveWith(g,[f,_,R]):v.rejectWith(g,[R,_,h]),R.statusCode(b),b=void 0,d&&m.trigger(c?"ajaxSuccess":"ajaxError",[R,p,c?f:h]),y.fireWith(g,[R,_]),d&&(m.trigger("ajaxComplete",[R,p]),--C.active||C.event.trigger("ajaxStop")))}return R},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],(function(e,t){C[t]=function(e,n,r,o){return g(n)&&(o=o||r,r=n,n=void 0),C.ajax(C.extend({url:e,type:t,dataType:o,data:n,success:r},C.isPlainObject(e)&&e))}})),C._evalUrl=function(e){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return g(e)?this.each((function(t){C(this).wrapInner(e.call(this,t))})):this.each((function(){var t=C(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=g(e);return this.each((function(n){C(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){C(this).replaceWith(this.childNodes)})),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ht={0:200,1223:204},Bt=C.ajaxSettings.xhr();p.cors=!!Bt&&"withCredentials"in Bt,p.ajax=Bt=!!Bt,C.ajaxTransport((function(t){var n,r;if(p.cors||Bt&&!t.crossDomain)return{send:function(o,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Ht[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout((function(){n&&r()}))},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}})),C.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),C.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain)return{send:function(o,i){t=C("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}}));var qt,Vt=[],Ut=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||C.expando+"_"+xt++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",(function(t,n,r){var o,i,a,s=!1!==t.jsonp&&(Ut.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ut,"$1"+o):!1!==t.jsonp&&(t.url+=(_t.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||C.error(o+" was not called"),a[0]},t.dataTypes[0]="json",i=e[o],e[o]=function(){a=arguments},r.always((function(){void 0===i?C(e).removeProp(o):e[o]=i,t[o]&&(t.jsonpCallback=n.jsonpCallback,Vt.push(o)),a&&g(i)&&i(a[0]),a=i=void 0})),"script"})),p.createHTMLDocument=((qt=r.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qt.childNodes.length),C.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(p.createHTMLDocument?((o=(t=r.implementation.createHTMLDocument("")).createElement("base")).href=r.location.href,t.head.appendChild(o)):t=r),a=!n&&[],(i=T.exec(e))?[t.createElement(i[1])]:(i=we([e],t,a),a&&a.length&&C(a).remove(),C.merge([],i.childNodes)));var o,i,a},C.fn.load=function(e,t,n){var r,o,i,a=this,s=e.indexOf(" ");return s>-1&&(r=gt(e.slice(s)),e=e.slice(0,s)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&C.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){i=arguments,a.html(r?C("<div>").append(C.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,i||[e.responseText,t,e])}))}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){C.fn[t]=function(e){return this.on(t,e)}})),C.expr.pseudos.animated=function(e){return C.grep(C.timers,(function(t){return e===t.elem})).length},C.offset={setOffset:function(e,t,n){var r,o,i,a,s,l,c=C.css(e,"position"),u=C(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),i=C.css(e,"top"),l=C.css(e,"left"),("absolute"===c||"fixed"===c)&&(i+l).indexOf("auto")>-1?(a=(r=u.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),g(t)&&(t=t.call(e,n,C.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):u.css(d)}},C.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){C.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===C.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),o.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-C.css(r,"marginTop",!0),left:t.left-o.left-C.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||Ce}))}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;C.fn[e]=function(r){return q(this,(function(e,r,o){var i;if(m(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o}),e,r,arguments.length)}})),C.each(["top","left"],(function(e,t){C.cssHooks[t]=qe(p.pixelPosition,(function(e,n){if(n)return n=Be(e,t),ze.test(n)?C(e).position()[t]+"px":n}))})),C.each({Height:"height",Width:"width"},(function(e,t){C.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){C.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===i?"margin":"border");return q(this,(function(t,n,o){var i;return m(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?C.css(t,n,s):C.style(t,n,o,s)}),t,a?o:void 0,a)}}))})),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){C.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),C.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),C.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),C.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=i.call(arguments,2),o=function(){return e.apply(t||this,r.concat(i.call(arguments)))},o.guid=e.guid=e.guid||C.guid++,o},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=E,C.isFunction=g,C.isWindow=m,C.camelCase=Y,C.type=b,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))};var Gt=e.jQuery,Yt=e.$;return C.noConflict=function(t){return e.$===C&&(e.$=Yt),t&&e.jQuery===C&&(e.jQuery=Gt),C},t||(e.jQuery=e.$=C),C}))})),flatpickr_1=createCommonjsModule((function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},n=function e(t,n){var r=void 0,o=function(t){return t._flatpickr&&t._flatpickr.destroy(),t._flatpickr=new e.init(t,n),t._flatpickr};if(t.nodeName)return o(t);if(/^#[a-zA-Z0-9\-_]*$/.test(t))return o(document.getElementById(t.slice(1)));r=/^\.[a-zA-Z0-9\-_]*$/.test(t)?document.getElementsByClassName(t.slice(1)):document.querySelectorAll(t);for(var i=[],a=0;a<r.length;a++)i.push(o(r[a]));return 1===i.length?i[0]:{calendars:i,byID:function(e){return document.getElementById(e)._flatpickr}}};n.init=function(e,r){function o(e,t,n){var r=document.createElement(e);return n&&(r.textContent=n),t&&(r.className=t),r}var i,a,s,l,c,u,d,f,h,p,g,m,v=this,y=void 0,b=void 0,w=void 0,C=void 0,x=void 0,_=void 0,R=void 0,$=void 0,A=void 0,S=void 0,E=void 0,T=void 0,k=void 0,M=void 0,P=void 0,L=void 0,D=void 0,I=void 0,N=void 0,F=void 0,O=void 0,j=void 0,z=void 0,W=void 0,H=void 0,B=void 0,q=void 0,V=void 0,U=new Date,G=void 0,Y=void 0;v.formats={D:function(){return v.l10n.weekdays.shorthand[v.formats.w()]},F:function(){return x(v.formats.n()-1,!1)},H:function(){return C(v.selectedDateObj.getHours())},J:function(){return v.formats.j()+v.l10n.ordinal(v.formats.j())},K:function(){return v.selectedDateObj.getHours()>11?"PM":"AM"},M:function(){return x(v.formats.n()-1,!0)},S:function(){return C(v.selectedDateObj.getSeconds())},U:function(){return v.selectedDateObj.getTime()/1e3},Y:function(){return v.selectedDateObj.getFullYear()},d:function(){return C(v.formats.j())},h:function(){return v.selectedDateObj.getHours()%12?v.selectedDateObj.getHours()%12:12},i:function(){return C(v.selectedDateObj.getMinutes())},j:function(){return v.selectedDateObj.getDate()},l:function(){return v.l10n.weekdays.longhand[v.formats.w()]},m:function(){return C(v.formats.n())},n:function(){return v.selectedDateObj.getMonth()+1},s:function(){return v.selectedDateObj.getSeconds()},w:function(){return v.selectedDateObj.getDay()},y:function(){return String(v.formats.Y()).substring(2)}},v.defaultConfig={utc:!1,wrap:!1,weekNumbers:!1,allowInput:!1,clickOpens:!0,time_24hr:!1,enableTime:!1,noCalendar:!1,dateFormat:"Y-m-d",altInput:!1,altInputClass:"",altFormat:"F j, Y",defaultDate:null,minDate:null,maxDate:null,parseDate:null,enable:[],disable:[],shorthandCurrentMonth:!1,inline:!1,static:!1,prevArrow:"&lt;",nextArrow:"&gt;",enableSeconds:!1,hourIncrement:1,minuteIncrement:5,onChange:null,onOpen:null,onClose:null,onValueUpdate:null},i=function(){r=r||{},v.element=e,y(),v.input=v.config.wrap?e.querySelector("[data-input]"):e,v.input.classList.add("flatpickr-input"),v.config.defaultDate&&(v.config.defaultDate=w(v.config.defaultDate)),(v.input.value||v.config.defaultDate)&&(v.selectedDateObj=w(v.config.defaultDate||v.input.value)),b(),$(),L(),v.uDate=w,v.jumpToDate(),T()},y=function(){v.config={},Object.keys(v.defaultConfig).forEach((function(e){r.hasOwnProperty(e)?v.config[e]=r[e]:v.element.dataset&&v.element.dataset.hasOwnProperty(e.toLowerCase())?v.config[e]=v.element.dataset[e.toLowerCase()]:!v.element.dataset&&v.element.hasAttribute("data-"+e)?v.config[e]=v.element.getAttribute("data-"+e):v.config[e]=n.init.prototype.defaultConfig[e]||v.defaultConfig[e],"boolean"==typeof v.defaultConfig[e]&&(v.config[e]=!0===v.config[e]||""===v.config[e]||"true"===v.config[e]),"enableTime"===e&&v.config[e]?(v.defaultConfig.dateFormat=v.config.time_24hr?"Y-m-d H:i":"Y-m-d h:i K",v.defaultConfig.altFormat=v.config.time_24hr?"F j, Y H:i":"F j Y, h:i K"):"noCalendar"===e&&v.config[e]&&(v.defaultConfig.dateFormat="h:i K",v.defaultConfig.altFormat="h:i K")}))},m=function(){var e=void 0;do{e="flatpickr-"+Math.round(Math.random()*Math.pow(10,10))}while(null!==document.getElementById(e));return e},w=function(e,t){if(t=t||!1,"today"===e)e=new Date,t=!0;else if("string"==typeof e)if(e=e.trim(),v.config.parseDate)e=v.config.parseDate(e);else if(/^\d\d\d\d\-\d{1,2}\-\d\d$/.test(e))e=new Date(e.replace(/(\d)-(\d)/g,"$1/$2"));else if(Date.parse(e))e=new Date(e);else if(/^\d\d\d\d\-\d\d\-\d\d/.test(e))e=new Date(e.replace(/(\d)-(\d)/g,"$1/$2"));else if(/^(\d?\d):(\d\d)/.test(e)){var n=e.match(/^(\d?\d):(\d\d)(:(\d\d))?/),r=void 0!==n[4]?n[4]:0;(e=new Date).setHours(n[1],n[2],r,0)}else console.error("flatpickr: invalid date string "+e),console.info(v.element);return e instanceof Date&&e.getTime()?(v.config.utc&&!e.fp_isUTC&&(e=e.fp_toUTC()),t&&e.setHours(0,0,0,0),e):null},a=function(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},b=function(){G=o("div","flatpickr-wrapper"),v.config.inline||v.config.static?(v.element.parentNode.insertBefore(G,v.element),G.appendChild(v.element),G.classList.add(v.config.inline?"inline":"static")):document.body.appendChild(G),v.config.altInput&&(v.altInput=o(v.input.nodeName,v.config.altInputClass+" flatpickr-input"),v.altInput.placeholder=v.input.placeholder,v.altInput.type="text",v.input.type="hidden",v.input.parentNode.insertBefore(v.altInput,v.input.nextSibling))},h=function(){var e=arguments.length<=0||void 0===arguments[0]?v.currentMonth:arguments[0],t=v.currentYear;return 1===e&&(t%4==0&&t%100!=0||t%400==0)?29:v.l10n.daysInMonth[e]},T=function(e){if(v.config.noCalendar&&!v.selectedDateObj)v.selectedDateObj=new Date;else if(!v.selectedDateObj)return;e&&e.target.blur();var t=void 0;if(v.config.enableTime){var n=v.selectedDateObj.getTime(),r=parseInt(v.hourElement.value,10)||0,o=void 0,i=(60+(parseInt(v.minuteElement.value,10)||0))%60;v.config.enableSeconds&&(o=(60+parseInt(v.secondElement.value,10)||0)%60),v.config.time_24hr||(r=r%12+12*("PM"===v.amPM.innerHTML)),v.selectedDateObj.setHours(r,i,void 0===o?v.selectedDateObj.getSeconds():o),v.hourElement.value=C(v.config.time_24hr?r:(12+r)%12+12*(r%12==0)),v.minuteElement.value=C(i),void 0!==o&&(v.secondElement.value=C(o)),t=v.selectedDateObj.getTime()!==n}v.input.value=v.formatDate(v.config.dateFormat),v.altInput&&(v.altInput.value=v.formatDate(v.config.altFormat)),e&&(t||e.target.classList.contains("flatpickr-day"))&&D(),v.config.onValueUpdate&&v.config.onValueUpdate(v.selectedDateObj,v.input.value,v)},C=function(e){return("0"+e).slice(-2)},v.formatDate=function(e){for(var t="",n=e.split(""),r=0;r<n.length;r++){var o=n[r];v.formats.hasOwnProperty(o)&&"\\"!==n[r-1]?t+=v.formats[o]():"\\"!==o&&(t+=o)}return t},x=function(e,t){return t||v.config.shorthandCurrentMonth?v.l10n.months.shorthand[e]:v.l10n.months.longhand[e]},s=function(e){if(v.config.minDate&&e<v.config.minDate||v.config.maxDate&&e>v.config.maxDate)return!1;e=w(e,!0);for(var n=v.config.enable.length>0,r=n?v.config.enable:v.config.disable,o=void 0,i=0;i<r.length;i++){if((o=r[i])instanceof Function&&o(e))return n;if("string"==typeof o&&/^wkd/.test(o)&&e.getDay()===(parseInt(o.slice(-1),10)+v.l10n.firstDayOfWeek-1)%7)return n;if((o instanceof Date||"string"==typeof o&&!/^wkd/.test(o))&&w(o,!0).getTime()===e.getTime())return n;if("object"===(void 0===o?"undefined":t(o))&&o.hasOwnProperty("from")&&e>=w(o.from)&&e<=w(o.to))return n}return!n},c=function(e){e.preventDefault();var t=Math.max(-1,Math.min(1,e.wheelDelta||-e.deltaY));v.currentYear=e.target.value=parseInt(e.target.value,10)+t,v.redraw()},l=function(e){e.preventDefault();var t=parseInt(e.target.min,10),n=parseInt(e.target.max,10),r=parseInt(e.target.step,10),o=parseInt(e.target.value,10),i=o;"wheel"===e.type&&(i=o+r*Math.max(-1,Math.min(1,e.wheelDelta||-e.deltaY))),i<=t?i=n-r:i>=n&&(i=t+r),e.target.value=C(i)},u=function(){H.textContent=x(v.currentMonth)+" ",W.value=v.currentYear},d=function(){(v.currentMonth<0||v.currentMonth>11)&&(v.currentYear+=v.currentMonth%11,v.currentMonth=(v.currentMonth+12)%12)},p=function(e){var t=G.contains(e.relatedTarget||e.target),n=v.element.contains(e.relatedTarget||e.target)||e.relatedTarget||e.target===v.altInput;!v.isOpen||t||n||v.close()},f=function(e){v.currentMonth+=e,d(),u(),A(),(v.config.noCalendar?F:q).focus()},g=function(e){if(e.preventDefault(),e.stopPropagation(),v.config.allowInput&&e.target===(v.altInput||v.input)&&13===e.which)v.setDate((v.altInput||v.input).value),v.redraw();else if(e.target.classList.contains("flatpickr-day")){var t=e.target.classList.contains("prevMonthDay"),n=e.target.classList.contains("nextMonthDay"),r=v.currentMonth-t+n;(t||n)&&f(+n-t),v.selectedDateObj=new Date(v.currentYear,r,e.target.innerHTML),T(e),A(),v.config.enableTime||v.close()}},$=function(){(I=o("div","flatpickr-calendar")).id=m(),(q=o("div","flatpickr-days")).tabIndex=-1,v.config.noCalendar||(_(),R(),v.config.weekNumbers&&S(),A(),I.appendChild(q)),G.appendChild(I),v.config.enableTime&&E()},_=function(){j=o("div","flatpickr-month"),(z=o("span","flatpickr-prev-month")).innerHTML=v.config.prevArrow,H=o("span","cur_month"),(W=o("input","cur_year")).type="number",W.title=v.l10n.scrollTitle,(B=o("span","flatpickr-next-month")).innerHTML=v.config.nextArrow,(O=o("span","flatpickr-current-month")).appendChild(H),O.appendChild(W),j.appendChild(z),j.appendChild(O),j.appendChild(B),I.appendChild(j),u()},R=function(){N=o("div","flatpickr-weekdays");var e=v.l10n.firstDayOfWeek,t=v.l10n.weekdays.shorthand.slice();e>0&&e<t.length&&(t=[].concat(t.splice(e,t.length),t.splice(0,e))),v.config.weekNumbers&&(N.innerHTML="<span>"+v.l10n.weekAbbreviation+"</span>"),N.innerHTML+="<span>"+t.join("</span><span>")+"</span>",I.appendChild(N)},S=function(){I.classList.add("hasWeeks"),V=o("div","flatpickr-weeks"),I.appendChild(V)},A=function(){var e=(new Date(v.currentYear,v.currentMonth,1).getDay()-v.l10n.firstDayOfWeek+7)%7,t=h(),n=h((v.currentMonth-1+12)%12),r=document.createDocumentFragment(),i=n+1-e,l=void 0,c=void 0;for(v.config.weekNumbers&&(V.innerHTML=""),q.innerHTML="",v.config.minDate=w(v.config.minDate,!0),v.config.maxDate=w(v.config.maxDate,!0);i<=n;i++){var u=new Date(v.currentYear,v.currentMonth-1,i,0,0,0,0,0),d=s(u),f=o("span",d?"flatpickr-day prevMonthDay":"disabled",i);d&&(f.tabIndex=0),r.appendChild(f)}for(i=1;i<=t;i++){l=new Date(v.currentYear,v.currentMonth,i,0,0,0,0,0),v.config.weekNumbers&&i%7==1&&V.appendChild(o("span","disabled flatpickr-day",l.fp_getWeek()));var p=o("span",(c=!s(l))?"disabled":"flatpickr-day",i);c||(p.tabIndex=0,a(l,U)&&p.classList.add("today"),v.selectedDateObj&&a(l,v.selectedDateObj)&&p.classList.add("selected")),r.appendChild(p)}for(var g=t+1;g<=42-e;g++){var m=new Date(v.currentYear,v.currentMonth+1,g%t,0,0,0,0,0),y=s(m),b=o("span",y?"nextMonthDay flatpickr-day":"disabled",g%t);v.config.weekNumbers&&g%7==1&&V.appendChild(o("span","disabled",m.fp_getWeek())),y&&(b.tabIndex=0),r.appendChild(b)}q.appendChild(r)},E=function(){(F=o("div","flatpickr-time")).tabIndex=-1;var e=o("span","flatpickr-time-separator",":");v.hourElement=o("input","flatpickr-hour"),v.minuteElement=o("input","flatpickr-minute"),v.hourElement.tabIndex=v.minuteElement.tabIndex=0,v.hourElement.type=v.minuteElement.type="number",v.hourElement.value=v.selectedDateObj?C(v.selectedDateObj.getHours()):12,v.minuteElement.value=v.selectedDateObj?C(v.selectedDateObj.getMinutes()):"00",v.hourElement.step=v.config.hourIncrement,v.minuteElement.step=v.config.minuteIncrement,v.hourElement.min=-v.config.time_24hr,v.hourElement.max=v.config.time_24hr?24:13,v.minuteElement.min=-v.minuteElement.step,v.minuteElement.max=60,v.hourElement.title=v.minuteElement.title=v.l10n.scrollTitle,F.appendChild(v.hourElement),F.appendChild(e),F.appendChild(v.minuteElement),v.config.enableSeconds&&(F.classList.add("has-seconds"),v.secondElement=o("input","flatpickr-second"),v.secondElement.type="number",v.secondElement.value=v.selectedDateObj?C(v.selectedDateObj.getSeconds()):"00",v.secondElement.step=v.minuteElement.step,v.secondElement.min=v.minuteElement.min,v.secondElement.max=v.minuteElement.max,F.appendChild(o("span","flatpickr-time-separator",":")),F.appendChild(v.secondElement)),v.config.time_24hr||(v.amPM=o("span","flatpickr-am-pm",["AM","PM"][v.hourElement.value>11|0]),v.amPM.title=v.l10n.toggleTitle,v.amPM.tabIndex=0,F.appendChild(v.amPM)),I.appendChild(F)},L=function(){document.addEventListener("keydown",M),window.addEventListener("resize",P),v.config.clickOpens&&((v.altInput||v.input).addEventListener("click",v.open),(v.altInput||v.input).addEventListener("focus",v.open)),v.config.wrap&&v.element.querySelector("[data-open]")&&v.element.querySelector("[data-open]").addEventListener("click",v.open),v.config.wrap&&v.element.querySelector("[data-close]")&&v.element.querySelector("[data-close]").addEventListener("click",v.close),v.config.wrap&&v.element.querySelector("[data-toggle]")&&v.element.querySelector("[data-toggle]").addEventListener("click",v.toggle),v.config.wrap&&v.element.querySelector("[data-clear]")&&v.element.querySelector("[data-clear]").addEventListener("click",v.clear),v.config.noCalendar||(z.addEventListener("click",(function(){f(-1)})),B.addEventListener("click",(function(){f(1)})),W.addEventListener("wheel",c),W.addEventListener("focus",W.select),W.addEventListener("input",(function(e){v.currentYear=parseInt(e.target.value,10),v.redraw()})),q.addEventListener("click",g)),document.addEventListener("click",p,!0),document.addEventListener("focus",p,!0),v.config.enableTime&&(v.hourElement.addEventListener("wheel",l),v.minuteElement.addEventListener("wheel",l),v.hourElement.addEventListener("input",l),v.minuteElement.addEventListener("input",l),v.hourElement.addEventListener("mouseout",T),v.minuteElement.addEventListener("mouseout",T),v.hourElement.addEventListener("change",T),v.minuteElement.addEventListener("change",T),v.hourElement.addEventListener("focus",v.hourElement.select),v.minuteElement.addEventListener("focus",v.minuteElement.select),v.config.enableSeconds&&(v.secondElement.addEventListener("wheel",l),v.secondElement.addEventListener("input",l),v.secondElement.addEventListener("mouseout",T),v.secondElement.addEventListener("change",T),v.secondElement.addEventListener("focus",v.secondElement.select)),v.config.time_24hr||(v.amPM.addEventListener("click",k),v.amPM.addEventListener("wheel",k),v.amPM.addEventListener("mouseout",T),v.amPM.addEventListener("keydown",(function(e){38!==e.which&&40!==e.which||k(e)})))),document.createEvent?(Y=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null):Y=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0})},v.open=function(){v.isOpen||(v.altInput||v.input).disabled||v.config.inline||(v.config.static||v.positionCalendar(),v.isOpen=!0,G.classList.add("open"),v.config.allowInput||((v.altInput||v.input).blur(),(v.config.noCalendar?F:q).focus()),(v.altInput||v.input).classList.add("active"),v.config.onOpen&&v.config.onOpen(v.selectedDateObj,v.input.value,v))},v.positionCalendar=function(){var e=I.offsetHeight,t=v.altInput||v.input,n=t.getBoundingClientRect(),r=window.innerHeight-n.bottom+t.offsetHeight,o=void 0,i=window.pageXOffset+n.left;r<e?(o=window.pageYOffset-e+n.top-2,I.classList.remove("arrowTop"),I.classList.add("arrowBottom")):(o=window.pageYOffset+t.offsetHeight+n.top+2,I.classList.remove("arrowBottom"),I.classList.add("arrowTop")),G.style.top=o+"px",G.style.left=i+"px"},v.toggle=function(){v.isOpen?v.close():v.open()},v.close=function(){v.isOpen=!1,G.classList.remove("open"),(v.altInput||v.input).classList.remove("active"),v.config.onClose&&v.config.onClose(v.selectedDateObj,v.input.value,v)},v.clear=function(){v.input.value="",v.altInput&&(v.altInput.value=""),v.selectedDateObj=null,D(),v.jumpToDate()},D=function(){v.input.dispatchEvent(Y),v.config.onChange&&v.config.onChange(v.selectedDateObj,v.input.value,v)},v.destroy=function(){if(document.removeEventListener("click",p,!1),v.altInput&&v.altInput.parentNode.removeChild(v.altInput),v.config.inline){var e=v.element.parentNode,t=e.removeChild(v.element);e.removeChild(I),e.parentNode.replaceChild(t,e)}else document.getElementsByTagName("body")[0].removeChild(G)},v.redraw=function(){v.config.noCalendar||(u(),A())},v.jumpToDate=function(e){e=w(e||v.selectedDateObj||v.config.defaultDate||v.config.minDate||U),v.currentYear=e.getFullYear(),v.currentMonth=e.getMonth(),v.redraw()},v.setDate=function(e,t){(e=w(e))instanceof Date&&e.getTime()&&(v.selectedDateObj=w(e),v.jumpToDate(v.selectedDateObj),T(),t&&D())},v.setTime=function(e,t,n){v.selectedDateObj&&(v.hourElement.value=parseInt(e,10)%24,v.minuteElement.value=parseInt(t||0,10)%60,v.config.time_24hr||(v.amPM.innerHTML=e>11?"PM":"AM"),T(),n&&D())},v.set=function(e,t){e in v.config&&(v.config[e]=t,v.jumpToDate())},k=function(e){e.preventDefault(),v.amPM.textContent=["AM","PM"]["AM"===v.amPM.innerHTML|0]},M=function(e){if(!(!v.isOpen||v.config.enableTime&&F.contains(e.target)))switch(e.which){case 13:g(e);break;case 27:v.close();break;case 37:f(-1);break;case 38:e.preventDefault(),v.currentYear++,v.redraw();break;case 39:f(1);break;case 40:e.preventDefault(),v.currentYear--,v.redraw()}},P=function(e,t,n){var r=void 0;return function(){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=this;clearTimeout(r),r=setTimeout((function(){r=null,n||e.apply(s,i)}),t),n&&!r&&e.apply(s,i)}}((function(){!v.isOpen||v.config.inline||v.config.static||v.positionCalendar()}),300);try{i()}catch(e){console.error(e),console.info(v.element)}return v},n.init.prototype={defaultConfig:{},l10n:{weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle"}},Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+parseInt(e,10))},Date.prototype.fp_isUTC=!1,Date.prototype.fp_toUTC=function(){var e=new Date(this.getTime()+6e4*this.getTimezoneOffset());return e.fp_isUTC=!0,e},Date.prototype.fp_getWeek=function(){var e=new Date(this.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},!("classList"in document.documentElement)&&Object.defineProperty&&"undefined"!=typeof HTMLElement&&Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var e=this;function t(t){return function(n){var r=e.className.split(/\s+/),o=r.indexOf(n);t(r,o,n),e.className=r.join(" ")}}return{add:t((function(e,t,n){return~t||e.push(n)})),remove:t((function(e,t){return~t&&e.splice(t,1)})),toggle:t((function(e,t,n){~t?e.splice(t,1):e.push(n)})),contains:function(t){return!!~e.className.split(/\s+/).indexOf(t)}}}}),e.exports=n})),slick_es6_min=createCommonjsModule((function(module,exports){!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){e.exports=n(25)},function(e,t){function n(){var e=!1,t=!1;this.stopPropagation=function(){e=!0},this.isPropagationStopped=function(){return e},this.stopImmediatePropagation=function(){t=!0},this.isImmediatePropagationStopped=function(){return t}}function r(){this.__nonDataRow=!0}function o(){this.__group=!0,this.level=0,this.count=0,this.value=null,this.title=null,this.collapsed=!1,this.totals=null,this.rows=[],this.groups=null,this.groupingKey=null}function i(){this.__groupTotals=!0,this.group=null,this.initialized=!1}function a(){var e=null;this.isActive=function(t){return t?e===t:null!==e},this.activate=function(t){if(t!==e){if(null!==e)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!t.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!t.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";e=t}},this.deactivate=function(t){if(e!==t)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";e=null},this.commitCurrentEdit=function(){return!e||e.commitCurrentEdit()},this.cancelCurrentEdit=function(){return!e||e.cancelCurrentEdit()}}Object.defineProperty(t,"__esModule",{value:!0});var s={Event:function(){var e=[];this.subscribe=function(t){e.push(t)},this.unsubscribe=function(t){for(var n=e.length-1;n>=0;n--)e[n]===t&&e.splice(n,1)},this.notify=function(t,r,o){r=r||new n,o=o||this;for(var i,a=0;a<e.length&&!r.isPropagationStopped()&&!r.isImmediatePropagationStopped();a++)i=e[a].call(o,r,t);return i}},EventData:n,EventHandler:function(){var e=[];this.subscribe=function(t,n){return e.push({event:t,handler:n}),t.subscribe(n),this},this.unsubscribe=function(t,n){for(var r=e.length;r--;)if(e[r].event===t&&e[r].handler===n)return e.splice(r,1),void t.unsubscribe(n);return this},this.unsubscribeAll=function(){for(var t=e.length;t--;)e[t].event.unsubscribe(e[t].handler);return e=[],this}},Range:function(e,t,n,r){void 0===n&&void 0===r&&(n=e,r=t),this.fromRow=Math.min(e,n),this.fromCell=Math.min(t,r),this.toRow=Math.max(e,n),this.toCell=Math.max(t,r),this.isSingleRow=function(){return this.fromRow==this.toRow},this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell},this.contains=function(e,t){return e>=this.fromRow&&e<=this.toRow&&t>=this.fromCell&&t<=this.toCell},this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}},NonDataRow:r,Group:o,GroupTotals:i,EditorLock:a,GlobalEditorLock:new a,TreeColumns:function(e){function t(e){e.forEach((function(e){c[e.id]=e,e.columns&&t(e.columns)}))}function n(e,t){return e.filter((function(e){var r=t.call(e);return r&&e.columns&&(e.columns=n(e.columns,t)),r&&(!e.columns||e.columns.length)}))}function r(e,t){e.sort((function(e,n){return o(t.getColumnIndex(e.id))-o(t.getColumnIndex(n.id))})).forEach((function(e){e.columns&&r(e.columns,t)}))}function o(e){return void 0===e?-1:e}function i(e){if(!e.length)return e.columns?1+i(e.columns):1;for(var t in e)return i(e[t])}function a(e,t,n){var r=[];if(t==(n=n||0))return e.length&&e.forEach((function(e){e.columns&&(e.extractColumns=function(){return s(e)})})),e;for(var o in e)e[o].columns&&(r=r.concat(a(e[o].columns,t,n+1)));return r}function s(e){var t=[];if(e.hasOwnProperty("length"))for(var n=0;n<e.length;n++)t=t.concat(s(e[n]));else{if(!e.hasOwnProperty("columns"))return e;t=t.concat(s(e.columns))}return t}function l(){return $.extend(!0,[],e)}var c={};t(e),this.hasDepth=function(){for(var t in e)if(e[t].hasOwnProperty("columns"))return!0;return!1},this.getTreeColumns=function(){return e},this.extractColumns=function(){return this.hasDepth()?s(e):e},this.getDepth=function(){return i(e)},this.getColumnsInDepth=function(t){return a(e,t)},this.getColumnsInGroup=function(e){return s(e)},this.visibleColumns=function(){return n(l(),(function(){return this.visible}))},this.filter=function(e){return n(l(),e)},this.reOrder=function(t){return r(e,t)},this.getById=function(e){return c[e]},this.getInIds=function(e){return e.map((function(e){return c[e]}))}},keyCode:{BACKSPACE:8,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,TAB:9,UP:38,SPACE:32}};t.default=s,o.prototype=new r,o.prototype.equals=function(e){return this.value===e.value&&this.count===e.count&&this.collapsed===e.collapsed&&this.title===e.title},i.prototype=new r},function(e,t){e.exports=jquery},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2));r(n(1)),t.default=function(e,t){var n=void 0;t=Object.assign({},{selectionCssClass:"slick-range-decorator",selectionCss:{zIndex:"9999",border:"2px dashed red"}},t),Object.assign(this,{show:function(r){n||(n=(0,o.default)("<div></div>",{css:t.selectionCss}).addClass(t.selectionCssClass).css("position","absolute").appendTo(e.getCanvasNode()));var i=e.getCellNodeBox(r.fromRow,r.fromCell),a=e.getCellNodeBox(r.toRow,r.toCell);return n.css({top:i.top-1,left:i.left-1,height:a.bottom-i.top-2,width:a.right-i.left-2}),n},hide:function(){n&&(n.remove(),n=null)}})}},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=r(n(1)),a=r(n(3));t.default=function(e){function t(e,t){e.stopImmediatePropagation()}function n(e,t){var n=l.getCellFromEvent(t.originalEvent);if(!1!==h.onBeforeCellRangeSelected.notify(n)&&l.canCellBeSelected(n.row,n.cell)&&(u=!0),u){l.focus();var r=l.getCellFromPoint(t.x0-(0,o.default)(c).offset().left,t.y0-(0,o.default)(c).offset().top);return f={start:r,end:{}},d.show(new i.default.Range(r.row,r.cell))}}function r(e,t){if(u){var n=l.getCellFromPoint(t.pageX-(0,o.default)(c).offset().left,t.pageY-(0,o.default)(c).offset().top);l.canCellBeSelected(n.row,n.cell)&&(f.end=n,d.show(new i.default.Range(f.start.row,f.start.cell,n.row,n.cell)))}}function s(e){u&&(u=!1,d.hide(),h.onCellRangeSelected.notify({range:new i.default.Range(f.start.row,f.start.cell,f.end.row,f.end.cell)}),f={})}var l=void 0,c=void 0,u=void 0,d=void 0,f={},h=this,p=new i.default.EventHandler,g={selectionCss:{}};Object.assign(this,{init:function(o){e=Object.assign({},g,e),d=new a.default(o,e),c=(l=o).getCanvasNode(),p.subscribe(l.onDragInit,t).subscribe(l.onDragStart,n).subscribe(l.onDrag,r).subscribe(l.onDragEnd,s)},destroy:function(){p.unsubscribeAll()},onBeforeCellRangeSelected:new i.default.Event,onCellRangeSelected:new i.default.Event})}},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n){function o(){}function i(e){if(!e||"object"!==(void 0===e?"undefined":r(e)))return!1;var t=$(e)||pe;return/object|function/.test(r(t.Element))?e instanceof t.Element:1===e.nodeType&&"string"==typeof e.nodeName}function a(e){return e===pe||!(!e||!e.Window)&&e instanceof e.Window}function s(e){return!!e&&e instanceof me}function l(e){return c(e)&&void 0!==r(e.length)&&u(e.splice)}function c(e){return!!e&&"object"===(void 0===e?"undefined":r(e))}function u(e){return"function"==typeof e}function d(e){return"number"==typeof e}function f(e){return"boolean"==typeof e}function h(e){return"string"==typeof e}function p(e){return!!h(e)&&(ge.querySelector(e),!0)}function g(e,t){for(var n in t)e[n]=t[n];return e}function m(e,t){for(var n in t){var r=!1;for(var o in Ye)if(0===n.indexOf(o)&&Ye[o].test(n)){r=!0;break}r||(e[n]=t[n])}return e}function v(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function y(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=(new Date).getTime()-t.timeStamp;var r=Math.max(e.timeStamp/1e3,.001);e.page.speed=xe(e.page.x,e.page.y)/r,e.page.vx=e.page.x/r,e.page.vy=e.page.y/r,e.client.speed=xe(e.client.x,e.page.y)/r,e.client.vx=e.client.x/r,e.client.vy=e.client.y/r}function b(e){return e instanceof pe.Event||Me&&pe.Touch&&e instanceof pe.Touch}function w(e,t,n){return e=e||"page",(n=n||{}).x=t[e+"X"],n.y=t[e+"Y"],n}function C(e,t){return t=t||{},He&&b(e)?(w("screen",e,t),t.x+=pe.scrollX,t.y+=pe.scrollY):w("page",e,t),t}function x(e,t){return t=t||{},He&&b(e)?w("screen",e,t):w("client",e,t),t}function _(e){return d(e.pointerId)?e.pointerId:e.identifier}function R(e){return e instanceof be?e.correspondingUseElement:e}function $(e){if(a(e))return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||pe}function A(e){var t=e instanceof ve?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function S(e){var t=A(e);if(!Be&&t){var n=function(e){return{x:(e=e||pe).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}($(e));t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t}function E(e){var t=[];return l(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function T(e){for(var t,n={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},r=0;r<e.length;r++)for(t in n)n[t]+=e[r][t];for(t in n)n[t]/=e.length;return n}function k(e){if(e.length||e.touches&&e.touches.length>1){var t=E(e),n=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY);return{x:n,y:r,left:n,top:r,width:Math.max(t[0].pageX,t[1].pageX)-n,height:Math.max(t[0].pageY,t[1].pageY)-r}}}function M(e,t){var n=(t=t||Te.deltaSource)+"X",r=t+"Y",o=E(e),i=o[0][n]-o[1][n],a=o[0][r]-o[1][r];return xe(i,a)}function P(e,t,n){var r=(n=n||Te.deltaSource)+"X",o=n+"Y",i=E(e),a=i[0][r]-i[1][r],s=i[0][o]-i[1][o],l=180*Math.atan(s/a)/Math.PI;if(d(t)){var c=(l-t)%360;c>315?l-=360+l/360|0:c>135?l-=180+l/360|0:c<-315?l+=360+l/360|0:c<-135&&(l+=180+l/360|0)}return l}function L(e,t){var n=e?e.options.origin:Te.origin;return"parent"===n?n=O(t):"self"===n?n=e.getRect(t):p(n)&&(n=F(t,n)||{x:0,y:0}),u(n)&&(n=n(e&&t)),i(n)&&(n=S(n)),n.x="x"in n?n.x:n.left,n.y="y"in n?n.y:n.top,n}function D(e,t,n,r){var o=1-e;return o*o*t+2*o*e*n+e*e*r}function I(e,t,n,r){return-n*(e/=r)*(e-2)+t}function N(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function F(e,t){for(var n=O(e);i(n);){if(ue(n,t))return n;n=O(n)}return null}function O(e){var t=e.parentNode;if(s(t)){for(;(t=t.host)&&s(t););return t}return t}function j(e,t){return e._context===t.ownerDocument||N(e._context,t)}function z(e,t,n){var r=e.options.ignoreFrom;return!(!r||!i(n))&&(h(r)?de(n,r,t):!!i(r)&&N(r,n))}function W(e,t,n){var r=e.options.allowFrom;return!r||!!i(n)&&(h(r)?de(n,r,t):!!i(r)&&N(r,n))}function H(e,t){if(!t)return!1;var n=t.options.drag.axis;return"xy"===e||"xy"===n||n===e}function B(e,t){var n=e.options;return/^resize/.test(t)&&(t="resize"),n[t].snap&&n[t].snap.enabled}function q(e,t){var n=e.options;return/^resize/.test(t)&&(t="resize"),n[t].restrict&&n[t].restrict.enabled}function V(e,t,n){for(var r=e.options,o=r[n.name].max,i=r[n.name].maxPerElement,a=0,s=0,l=0,c=0,u=Ae.length;c<u;c++){var d=Ae[c],f=d.prepared.name;if(d.interacting()){if(++a>=Ne)return!1;if(d.target===e){if((s+=f===n.name|0)>=o)return!1;if(d.element===t&&(l++,f!==n.name||l>=i))return!1}}}return Ne>0}function U(){if(this.target=null,this.element=null,this.dropTarget=null,this.dropElement=null,this.prevDropTarget=null,this.prevDropElement=null,this.prepared={name:null,axis:null,edges:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,ending:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},u(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var e=this;this.boundInertiaFrame=function(){return e.inertiaFrame()},this.boundSmoothEndFrame=function(){return e.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.holdTimers=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffsets=[],this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.pointerIsDown=!1,this.pointerWasMoved=!1,this.gesturing=!1,this.dragging=!1,this.resizing=!1,this.resizeAxes="xy",this.mouse=!1,Ae.push(this)}function G(e,t,n){var r,o=0,i=Ae.length,a=/mouse/i.test(e.pointerType||t)||4===e.pointerType,s=_(e);if(/down|start/i.test(t))for(o=0;o<i;o++){var l=n;if((r=Ae[o]).inertiaStatus.active&&r.target.options[r.prepared.name].inertia.allowResume&&r.mouse===a)for(;l;){if(l===r.element)return r;l=O(l)}}if(a||!Me||Pe){for(o=0;o<i;o++)if(Ae[o].mouse&&!Ae[o].inertiaStatus.active)return Ae[o];for(o=0;o<i;o++)if(Ae[o].mouse&&(!/down/.test(t)||!Ae[o].inertiaStatus.active))return r;return(r=new U).mouse=!0,r}for(o=0;o<i;o++)if(ce(Ae[o].pointerIds,s))return Ae[o];if(/up|end|out/i.test(t))return null;for(o=0;o<i;o++)if((!(r=Ae[o]).prepared.name||r.target.options.gesture.enabled)&&!r.interacting()&&(a||!r.mouse))return r;return new U}function Y(e){return function(t){var n,r,o=R(t.path?t.path[0]:t.target),i=R(t.currentTarget);if(Me&&/touch/.test(t.type))for(Ie=(new Date).getTime(),r=0;r<t.changedTouches.length;r++){var a=t.changedTouches[r];(n=G(a,t.type,o))&&(n._updateEventTargets(o,i),n[e](a,t,o,i))}else{if(!Pe&&/mouse/.test(t.type)){for(r=0;r<Ae.length;r++)if(!Ae[r].mouse&&Ae[r].pointerIsDown)return;if((new Date).getTime()-Ie<500)return}if(!(n=G(t,t.type,o)))return;n._updateEventTargets(o,i),n[e](t,t,o,i)}}}function X(e,t,n,r,o,i){var a,s,l=e.target,c=e.snapStatus,u=e.restrictStatus,d=e.pointers,f=(l&&l.options||Te).deltaSource,h=f+"X",p=f+"Y",m=l?l.options:Te,v=L(l,o),y="start"===r,b="end"===r,w=y?e.startCoords:e.curCoords;o=o||e.element,s=g({},w.page),a=g({},w.client),s.x-=v.x,s.y-=v.y,a.x-=v.x,a.y-=v.y;var C=m[n].snap&&m[n].snap.relativePoints;!B(l,n)||y&&C&&C.length||(this.snap={range:c.range,locked:c.locked,x:c.snappedX,y:c.snappedY,realX:c.realX,realY:c.realY,dx:c.dx,dy:c.dy},c.locked&&(s.x+=c.dx,s.y+=c.dy,a.x+=c.dx,a.y+=c.dy)),!q(l,n)||y&&m[n].restrict.elementRect||!u.restricted||(s.x+=u.dx,s.y+=u.dy,a.x+=u.dx,a.y+=u.dy,this.restrict={dx:u.dx,dy:u.dy}),this.pageX=s.x,this.pageY=s.y,this.clientX=a.x,this.clientY=a.y,this.x0=e.startCoords.page.x-v.x,this.y0=e.startCoords.page.y-v.y,this.clientX0=e.startCoords.client.x-v.x,this.clientY0=e.startCoords.client.y-v.y,this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.button=t.button,this.buttons=t.buttons,this.target=o,this.t0=e.downTimes[0],this.type=n+(r||""),this.interaction=e,this.interactable=l;var x=e.inertiaStatus;if(x.active&&(this.detail="inertia"),i&&(this.relatedTarget=i),b?"client"===f?(this.dx=a.x-e.startCoords.client.x,this.dy=a.y-e.startCoords.client.y):(this.dx=s.x-e.startCoords.page.x,this.dy=s.y-e.startCoords.page.y):y?(this.dx=0,this.dy=0):"inertiastart"===r?(this.dx=e.prevEvent.dx,this.dy=e.prevEvent.dy):"client"===f?(this.dx=a.x-e.prevEvent.clientX,this.dy=a.y-e.prevEvent.clientY):(this.dx=s.x-e.prevEvent.pageX,this.dy=s.y-e.prevEvent.pageY),e.prevEvent&&"inertia"===e.prevEvent.detail&&!x.active&&m[n].inertia&&m[n].inertia.zeroResumeDelta&&(x.resumeDx+=this.dx,x.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===n&&e.resizeAxes?m.resize.square?("y"===e.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=e.resizeAxes,"x"===e.resizeAxes?this.dy=0:"y"===e.resizeAxes&&(this.dx=0)):"gesture"===n&&(this.touches=[d[0],d[1]],y?(this.distance=M(d,f),this.box=k(d),this.scale=1,this.ds=0,this.angle=P(d,void 0,f),this.da=0):b||t instanceof X?(this.distance=e.prevEvent.distance,this.box=e.prevEvent.box,this.scale=e.prevEvent.scale,this.ds=this.scale-1,this.angle=e.prevEvent.angle,this.da=this.angle-e.gesture.startAngle):(this.distance=M(d,f),this.box=k(d),this.scale=this.distance/e.gesture.startDistance,this.angle=P(d,e.gesture.prevAngle,f),this.ds=this.scale-e.gesture.prevScale,this.da=this.angle-e.gesture.prevAngle)),y)this.timeStamp=e.downTimes[0],this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if("inertiastart"===r)this.timeStamp=e.prevEvent.timeStamp,this.dt=e.prevEvent.dt,this.duration=e.prevEvent.duration,this.speed=e.prevEvent.speed,this.velocityX=e.prevEvent.velocityX,this.velocityY=e.prevEvent.velocityY;else if(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-e.prevEvent.timeStamp,this.duration=this.timeStamp-e.downTimes[0],t instanceof X){var _=this[h]-e.prevEvent[h],R=this[p]-e.prevEvent[p],$=this.dt/1e3;this.speed=xe(_,R)/$,this.velocityX=_/$,this.velocityY=R/$}else this.speed=e.pointerDelta[f].speed,this.velocityX=e.pointerDelta[f].vx,this.velocityY=e.pointerDelta[f].vy;if((b||"inertiastart"===r)&&e.prevEvent.speed>600&&this.timeStamp-e.prevEvent.timeStamp<150){var A=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI;A<0&&(A+=360);var S=112.5<=A&&A<247.5,E=202.5<=A&&A<337.5,T=!S&&(292.5<=A||A<67.5),D=!E&&22.5<=A&&A<157.5;this.swipe={up:E,down:D,left:S,right:T,angle:A,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}}function K(){this.originalEvent.preventDefault()}function Q(e){var t="";if("drag"===e.name&&(t=Fe.drag),"resize"===e.name)if(e.axis)t=Fe[e.name+e.axis];else if(e.edges){for(var n="resize",r=["top","bottom","left","right"],o=0;o<4;o++)e.edges[r[o]]&&(n+=r[o]);t=Fe[n]}return t}function Z(e,t,n,r,o,a,s){if(!t)return!1;if(!0===t){var l=d(a.width)?a.width:a.right-a.left,c=d(a.height)?a.height:a.bottom-a.top;if(l<0&&("left"===e?e="right":"right"===e&&(e="left")),c<0&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e)return n.x<(l>=0?a.left:a.right)+s;if("top"===e)return n.y<(c>=0?a.top:a.bottom)+s;if("right"===e)return n.x>(l>=0?a.right:a.left)-s;if("bottom"===e)return n.y>(c>=0?a.bottom:a.top)-s}return!!i(r)&&(i(t)?t===r:de(r,t,o))}function J(e,t,n){var r,o=this.getRect(n),i=!1,a=null,s=null,l=g({},t.curCoords.page),u=this.options;if(!o)return null;if(Oe.resize&&u.resize.enabled){var d=u.resize;if(r={left:!1,right:!1,top:!1,bottom:!1},c(d.edges)){for(var f in r)r[f]=Z(f,d.edges[f],l,t._eventTarget,n,o,d.margin||Le);r.left=r.left&&!r.right,r.top=r.top&&!r.bottom,i=r.left||r.right||r.top||r.bottom}else{var h="y"!==u.resize.axis&&l.x>o.right-Le,p="x"!==u.resize.axis&&l.y>o.bottom-Le;i=h||p,s=(h?"x":"")+(p?"y":"")}}return a=i?"resize":Oe.drag&&u.drag.enabled?"drag":null,Oe.gesture&&t.pointerIds.length>=2&&!t.dragging&&!t.resizing&&(a="gesture"),a?{name:a,axis:s,edges:r}:null}function ee(e,t){if(!c(e))return null;var n=e.name,r=t.options;return("resize"===n&&r.resize.enabled||"drag"===n&&r.drag.enabled||"gesture"===n&&r.gesture.enabled)&&Oe[n]?("resize"!==n&&"resizeyx"!==n||(n="resizexy"),e):null}function te(e,t){var n={},r=Ee[e.type],o=R(e.path?e.path[0]:e.target),a=o;for(var s in t=!!t,e)n[s]=e[s];for(n.originalEvent=e,n.preventDefault=K;i(a);){for(var l=0;l<r.selectors.length;l++){var c=r.selectors[l],u=r.contexts[l];if(ue(a,c)&&N(u,o)&&N(u,a)){var d=r.listeners[l];n.currentTarget=a;for(var f=0;f<d.length;f++)d[f][1]===t&&d[f][0](n)}}a=O(a)}}function ne(e){return te.call(this,e,!0)}function re(e,t){return $e.get(e,t)||new oe(e,t)}function oe(e,t){var n;if(this._element=e,this._iEvents=this._iEvents||{},p(e)){this.selector=e;var r=t&&t.context;n=r?$(r):pe,r&&(n.Node?r instanceof n.Node:i(r)||r===n.document)&&(this._context=r)}else n=$(e),i(e)&&(Pe?(Ge.add(this._element,fe.down,Xe.pointerDown),Ge.add(this._element,fe.move,Xe.pointerHover)):(Ge.add(this._element,"mousedown",Xe.pointerDown),Ge.add(this._element,"mousemove",Xe.pointerHover),Ge.add(this._element,"touchstart",Xe.pointerDown),Ge.add(this._element,"touchmove",Xe.pointerHover)));this._doc=n.document,ce(Re,this._doc)||se(this._doc),$e.push(this),this.set(t)}function ie(e,t){var n=!1;return function(){return n||(pe.console.warn(t),n=!0),e.apply(this,arguments)}}function ae(e){for(var t=0;t<Ae.length;t++)Ae[t].pointerEnd(e,e)}function se(e){if(!ce(Re,e)){var t=e.defaultView||e.parentWindow;for(var n in Ee)Ge.add(e,n,te),Ge.add(e,n,ne,!0);Pe?(fe=Ce===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},Ge.add(e,fe.down,Xe.selectorDown),Ge.add(e,fe.move,Xe.pointerMove),Ge.add(e,fe.over,Xe.pointerOver),Ge.add(e,fe.out,Xe.pointerOut),Ge.add(e,fe.up,Xe.pointerUp),Ge.add(e,fe.cancel,Xe.pointerCancel),Ge.add(e,fe.move,Xe.autoScrollMove)):(Ge.add(e,"mousedown",Xe.selectorDown),Ge.add(e,"mousemove",Xe.pointerMove),Ge.add(e,"mouseup",Xe.pointerUp),Ge.add(e,"mouseover",Xe.pointerOver),Ge.add(e,"mouseout",Xe.pointerOut),Ge.add(e,"touchstart",Xe.selectorDown),Ge.add(e,"touchmove",Xe.pointerMove),Ge.add(e,"touchend",Xe.pointerUp),Ge.add(e,"touchcancel",Xe.pointerCancel),Ge.add(e,"mousemove",Xe.autoScrollMove),Ge.add(e,"touchmove",Xe.autoScrollMove)),Ge.add(t,"blur",ae);try{if(t.frameElement){var r=t.frameElement.ownerDocument,o=r.defaultView;Ge.add(r,"mouseup",Xe.pointerEnd),Ge.add(r,"touchend",Xe.pointerEnd),Ge.add(r,"touchcancel",Xe.pointerEnd),Ge.add(r,"pointerup",Xe.pointerEnd),Ge.add(r,"MSPointerUp",Xe.pointerEnd),Ge.add(o,"blur",ae)}}catch(e){re.windowParentError=e}Ge.add(e,"dragstart",(function(e){for(var t=0;t<Ae.length;t++){var n=Ae[t];if(n.element&&(n.element===e.target||N(n.element,e.target)))return void n.checkAndPreventDefault(e,n.target,n.element)}})),Ge.useAttachEvent&&(Ge.add(e,"selectstart",(function(e){var t=Ae[0];t.currentAction()&&t.checkAndPreventDefault(e)})),Ge.add(e,"dblclick",Y("ie8Dblclick"))),Re.push(e)}}function le(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function ce(e,t){return-1!==le(e,t)}function ue(e,t,r){return he?he(e,t,r):(pe!==n&&(t=t.replace(/\/deep\//g," ")),e[qe](t))}function de(e,t,n){for(;i(e);){if(ue(e,t))return!0;if((e=O(e))===n)return ue(e,t)}return!1}if(n){var fe,he,pe=function(){var e=n.document.createTextNode("");return e.ownerDocument!==n.document&&"function"==typeof n.wrap&&n.wrap(e)===e?n.wrap(n):n}(),ge=pe.document,me=pe.DocumentFragment||o,ve=pe.SVGElement||o,ye=pe.SVGSVGElement||o,be=pe.SVGElementInstance||o,we=pe.HTMLElement||pe.Element,Ce=pe.PointerEvent||pe.MSPointerEvent,xe=Math.hypot||function(e,t){return Math.sqrt(e*e+t*t)},_e={},Re=[],$e=[],Ae=[],Se=!1,Ee={},Te={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:ge,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:1/0,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:1/0,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},ke={interaction:null,i:null,x:0,y:0,scroll:function(){var e,t,n,r,o=ke.interaction.target.options[ke.interaction.prepared.name].autoScroll,i=o.container||$(ke.interaction.element),s=(new Date).getTime(),l=(s-ke.prevTimeX)/1e3,c=(s-ke.prevTimeY)/1e3;o.velocity?(e=o.velocity.x,t=o.velocity.y):e=t=o.speed,r=t*c,((n=e*l)>=1||r>=1)&&(a(i)?i.scrollBy(ke.x*n,ke.y*r):i&&(i.scrollLeft+=ke.x*n,i.scrollTop+=ke.y*r),n>=1&&(ke.prevTimeX=s),r>=1&&(ke.prevTimeY=s)),ke.isScrolling&&(Ue(ke.i),ke.i=Ve(ke.scroll))},isScrolling:!1,prevTimeX:0,prevTimeY:0,start:function(e){ke.isScrolling=!0,Ue(ke.i),ke.interaction=e,ke.prevTimeX=(new Date).getTime(),ke.prevTimeY=(new Date).getTime(),ke.i=Ve(ke.scroll)},stop:function(){ke.isScrolling=!1,Ue(ke.i)}},Me="ontouchstart"in pe||pe.DocumentTouch&&ge instanceof pe.DocumentTouch,Pe=Ce&&!/Chrome/.test(navigator.userAgent),Le=Me||Pe?20:10,De=1,Ie=0,Ne=1/0,Fe=ge.all&&!pe.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},Oe={drag:!0,resize:!0,gesture:!0},je="onmousewheel"in ge?"mousewheel":"wheel",ze=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","down","move","up","cancel","tap","doubletap","hold"],We={},He="Opera"==navigator.appName&&Me&&navigator.userAgent.match("Presto"),Be=/iP(hone|od|ad)/.test(navigator.platform)&&/OS 7[^\d]/.test(navigator.appVersion),qe="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",Ve=n.requestAnimationFrame,Ue=n.cancelAnimationFrame,Ge=function(){function e(){this.returnValue=!1}function t(){this.cancelBubble=!0}function n(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}var r="attachEvent"in pe&&!("addEventListener"in pe),o=r?"attachEvent":"addEventListener",i=r?"detachEvent":"removeEventListener",a=r?"on":"",s=[],l=[],c=[];return{add:function(i,u,d,f){var h=le(s,i),p=l[h];if(p||(p={events:{},typeCount:0},h=s.push(i)-1,l.push(p),c.push(r?{supplied:[],wrapped:[],useCount:[]}:null)),p.events[u]||(p.events[u]=[],p.typeCount++),!ce(p.events[u],d)){var g;if(r){var m=c[h],v=le(m.supplied,d),y=m.wrapped[v]||function(r){r.immediatePropagationStopped||(r.target=r.srcElement,r.currentTarget=i,r.preventDefault=r.preventDefault||e,r.stopPropagation=r.stopPropagation||t,r.stopImmediatePropagation=r.stopImmediatePropagation||n,/mouse|click/.test(r.type)&&(r.pageX=r.clientX+$(i).document.documentElement.scrollLeft,r.pageY=r.clientY+$(i).document.documentElement.scrollTop),d(r))};g=i[o](a+u,y,Boolean(f)),-1===v?(m.supplied.push(d),m.wrapped.push(y),m.useCount.push(1)):m.useCount[v]++}else g=i[o](u,d,f||!1);return p.events[u].push(d),g}},remove:function e(t,n,o,u){var d,f,h,p=le(s,t),g=l[p],m=o;if(g&&g.events)if(r&&(h=le((f=c[p]).supplied,o),m=f.wrapped[h]),"all"!==n){if(g.events[n]){var v=g.events[n].length;if("all"===o){for(d=0;d<v;d++)e(t,n,g.events[n][d],Boolean(u));return}for(d=0;d<v;d++)if(g.events[n][d]===o){t[i](a+n,m,u||!1),g.events[n].splice(d,1),r&&f&&(f.useCount[h]--,0===f.useCount[h]&&(f.supplied.splice(h,1),f.wrapped.splice(h,1),f.useCount.splice(h,1)));break}g.events[n]&&0===g.events[n].length&&(g.events[n]=null,g.typeCount--)}g.typeCount||(l.splice(p,1),s.splice(p,1),c.splice(p,1))}else for(n in g.events)g.events.hasOwnProperty(n)&&e(t,n,"all")},useAttachEvent:r,_elements:s,_targets:l,_attachedListeners:c}}(),Ye={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/};U.prototype={getPageXY:function(e,t){return C(e,t)},getClientXY:function(e,t){return x(e,t)},setEventXY:function(e,t){return function(e,t,n){var r=t.length>1?T(t):t[0];C(r,_e),e.page.x=_e.x,e.page.y=_e.y,x(r,_e),e.client.x=_e.x,e.client.y=_e.y,e.timeStamp=(new Date).getTime()}(e,t)},pointerOver:function(e,t,n){if(!this.prepared.name&&this.mouse){var r=[],o=[],i=this.element;this.addPointer(e),!this.target||!z(this.target,this.element,n)&&W(this.target,this.element,n)||(this.target=null,this.element=null,this.matches=[],this.matchElements=[]);var a=$e.get(n),s=a&&!z(a,n,n)&&W(a,n,n)&&ee(a.getAction(e,t,this,n),a);s&&!V(a,n,s)&&(s=null),s?(this.target=a,this.element=n,this.matches=[],this.matchElements=[]):($e.forEachSelector((function(e,t){e&&j(e,n)&&!z(e,n,n)&&W(e,n,n)&&ue(n,t)&&(r.push(e),o.push(n))})),this.validateSelector(e,t,r,o)?(this.matches=r,this.matchElements=o,this.pointerHover(e,t,this.matches,this.matchElements),Ge.add(n,Pe?fe.move:"mousemove",Xe.pointerHover)):this.target&&(N(i,n)?(this.pointerHover(e,t,this.matches,this.matchElements),Ge.add(this.element,Pe?fe.move:"mousemove",Xe.pointerHover)):(this.target=null,this.element=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(e,t,n,r,o,i){var a,s=this.target;!this.prepared.name&&this.mouse?(this.setEventXY(this.curCoords,[e]),o?a=this.validateSelector(e,t,o,i):s&&(a=ee(s.getAction(this.pointers[0],t,this,this.element),this.target)),s&&s.options.styleCursor&&(s._doc.documentElement.style.cursor=a?Q(a):"")):this.prepared.name&&this.checkAndPreventDefault(t,s,this.element)},pointerOut:function(e,t,n){this.prepared.name||($e.get(n)||Ge.remove(n,Pe?fe.move:"mousemove",Xe.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(e,t,n,r){function o(e,t,r){var o=he?r.querySelectorAll(t):void 0;j(e,c)&&!z(e,c,n)&&W(e,c,n)&&ue(c,t,o)&&(s.matches.push(e),s.matchElements.push(c))}var a,s=this,l=Ge.useAttachEvent?g({},t):t,c=n,u=this.addPointer(e);if(this.holdTimers[u]=setTimeout((function(){s.pointerHold(Ge.useAttachEvent?l:e,l,n,r)}),Te._holdDuration),this.pointerIsDown=!0,this.inertiaStatus.active&&this.target.selector)for(;i(c);){if(c===this.element&&ee(this.target.getAction(e,t,this,this.element),this.target).name===this.prepared.name)return Ue(this.inertiaStatus.i),this.inertiaStatus.active=!1,void this.collectEventTargets(e,t,n,"down");c=O(c)}if(!this.interacting()){for(this.setEventXY(this.curCoords,[e]),this.downEvent=t;i(c)&&!a;)this.matches=[],this.matchElements=[],$e.forEachSelector(o),a=this.validateSelector(e,t,this.matches,this.matchElements),c=O(c);return a?(this.prepared.name=a.name,this.prepared.axis=a.axis,this.prepared.edges=a.edges,this.collectEventTargets(e,t,n,"down"),this.pointerDown(e,t,n,r,a)):(this.downTimes[u]=(new Date).getTime(),this.downTargets[u]=n,m(this.downPointer,e),v(this.prevCoords,this.curCoords),this.pointerWasMoved=!1,void this.collectEventTargets(e,t,n,"down"))}this.collectEventTargets(e,t,n,"down")},pointerDown:function(e,t,n,r,o){if(o||this.inertiaStatus.active||!this.pointerWasMoved||!this.prepared.name){this.pointerIsDown=!0,this.downEvent=t;var i,a=this.addPointer(e);if(this.pointerIds.length>1&&this.target._element===this.element){var s=ee(o||this.target.getAction(e,t,this,this.element),this.target);V(this.target,this.element,s)&&(i=s),this.prepared.name=null}else if(!this.prepared.name){var l=$e.get(r);l&&!z(l,r,n)&&W(l,r,n)&&(i=ee(o||l.getAction(e,t,this,r),l))&&V(l,r,i)&&(this.target=l,this.element=r)}var c=this.target,u=c&&c.options;if(!c||!o&&this.prepared.name)this.inertiaStatus.active&&r===this.element&&ee(c.getAction(e,t,this,this.element),c).name===this.prepared.name&&(Ue(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(t,c,this.element));else{if(i=i||ee(o||c.getAction(e,t,this,r),c,this.element),this.setEventXY(this.startCoords,this.pointers),!i)return;u.styleCursor&&(c._doc.documentElement.style.cursor=Q(i)),this.resizeAxes="resize"===i.name?i.axis:null,"gesture"===i&&this.pointerIds.length<2&&(i=null),this.prepared.name=i.name,this.prepared.axis=i.axis,this.prepared.edges=i.edges,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=NaN,this.downTimes[a]=(new Date).getTime(),this.downTargets[a]=n,m(this.downPointer,e),v(this.prevCoords,this.startCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(t,c,this.element)}}else this.checkAndPreventDefault(t,this.target,this.element)},setModifications:function(e,t){var n=this.target,r=!0,o=B(n,this.prepared.name)&&(!n.options[this.prepared.name].snap.endOnly||t),i=q(n,this.prepared.name)&&(!n.options[this.prepared.name].restrict.endOnly||t);return o?this.setSnapping(e):this.snapStatus.locked=!1,i?this.setRestriction(e):this.restrictStatus.restricted=!1,o&&this.snapStatus.locked&&!this.snapStatus.changed?r=i&&this.restrictStatus.restricted&&this.restrictStatus.changed:i&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(r=!1),r},setStartOffsets:function(e,t,n){var r,o,i=t.getRect(n),a=L(t,n),s=t.options[this.prepared.name].snap,l=t.options[this.prepared.name].restrict;i?(this.startOffset.left=this.startCoords.page.x-i.left,this.startOffset.top=this.startCoords.page.y-i.top,this.startOffset.right=i.right-this.startCoords.page.x,this.startOffset.bottom=i.bottom-this.startCoords.page.y,r="width"in i?i.width:i.right-i.left,o="height"in i?i.height:i.bottom-i.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,this.snapOffsets.splice(0);var c=s&&"startCoords"===s.offset?{x:this.startCoords.page.x-a.x,y:this.startCoords.page.y-a.y}:s&&s.offset||{x:0,y:0};if(i&&s&&s.relativePoints&&s.relativePoints.length)for(var u=0;u<s.relativePoints.length;u++)this.snapOffsets.push({x:this.startOffset.left-r*s.relativePoints[u].x+c.x,y:this.startOffset.top-o*s.relativePoints[u].y+c.y});else this.snapOffsets.push(c);i&&l.elementRect?(this.restrictOffset.left=this.startOffset.left-r*l.elementRect.left,this.restrictOffset.top=this.startOffset.top-o*l.elementRect.top,this.restrictOffset.right=this.startOffset.right-r*(1-l.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-o*(1-l.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(e,t,n){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===e.name?2:1)||(-1===le(Ae,this)&&Ae.push(this),this.prepared.name||this.setEventXY(this.startCoords),this.prepared.name=e.name,this.prepared.axis=e.axis,this.prepared.edges=e.edges,this.target=t,this.element=n,this.setStartOffsets(e.name,t,n),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(e,t,n,r,o){if(this.inertiaStatus.active){var a=this.inertiaStatus.upCoords.page,s=this.inertiaStatus.upCoords.client,l={pageX:a.x+this.inertiaStatus.sx,pageY:a.y+this.inertiaStatus.sy,clientX:s.x+this.inertiaStatus.sx,clientY:s.y+this.inertiaStatus.sy};this.setEventXY(this.curCoords,[l])}else this.recordPointer(e),this.setEventXY(this.curCoords,this.pointers);var c,u,d=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,f=this.mouse?0:le(this.pointerIds,_(e));if(this.pointerIsDown&&!this.pointerWasMoved&&(c=this.curCoords.client.x-this.startCoords.client.x,u=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=xe(c,u)>De),d||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[f]),this.collectEventTargets(e,t,n,"move")),this.pointerIsDown){if(d&&this.pointerWasMoved&&!o)return void this.checkAndPreventDefault(t,this.target,this.element);if(y(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||e instanceof X&&/inertiastart/.test(e.type))){if(!this.interacting()&&(y(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){var h=Math.abs(c),p=Math.abs(u),g=this.target.options.drag.axis,m=h>p?"x":h<p?"y":"xy";if("xy"!==m&&"xy"!==g&&g!==m){this.prepared.name=null;for(var b=n;i(b);){var w=$e.get(b);if(w&&w!==this.target&&!w.options.drag.manualStart&&"drag"===w.getAction(this.downPointer,this.downEvent,this,b).name&&H(m,w)){this.prepared.name="drag",this.target=w,this.element=b;break}b=O(b)}if(!this.prepared.name){var C=this,x=function(e,t,r){var o=he?r.querySelectorAll(t):void 0;if(e!==C.target)return j(e,n)&&!e.options.drag.manualStart&&!z(e,b,n)&&W(e,b,n)&&ue(b,t,o)&&"drag"===e.getAction(C.downPointer,C.downEvent,C,b).name&&H(m,e)&&V(e,b,"drag")?e:void 0};for(b=n;i(b);){var R=$e.forEachSelector(x);if(R){this.prepared.name="drag",this.target=R,this.element=b;break}b=O(b)}}}}var $=!!this.prepared.name&&!this.interacting();if($&&(this.target.options[this.prepared.name].manualStart||!V(this.target,this.element,this.prepared)))return void this.stop(t);if(this.prepared.name&&this.target)$&&this.start(this.prepared,this.target,this.element),(this.setModifications(this.curCoords.page,o)||$)&&(this.prevEvent=this[this.prepared.name+"Move"](t)),this.checkAndPreventDefault(t,this.target,this.element)}v(this.prevCoords,this.curCoords),(this.dragging||this.resizing)&&this.autoScrollMove(e)}}},dragStart:function(e){var t=new X(this,e,"drag","start",this.element);t.originalEvent=e,this.dragging=!0,this.target.fire(t),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element);var n=this.getDropEvents(e,t);return n.activate&&this.fireActiveDrops(n.activate),t},dragMove:function(e){var t=this.target,n=new X(this,e,"drag","move",this.element),r=this.element,o=this.getDrop(n,e,r);n.originalEvent=e,this.dropTarget=o.dropzone,this.dropElement=o.element;var i=this.getDropEvents(e,n);return t.fire(n),i.leave&&this.prevDropTarget.fire(i.leave),i.enter&&this.dropTarget.fire(i.enter),i.move&&this.dropTarget.fire(i.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,n},resizeStart:function(e){var t=new X(this,e,"resize","start",this.element);if(this.prepared.edges){var n=this.target.getRect(this.element);if(this.target.options.resize.square||this.target.options.resize.preserveAspectRatio){var r=g({},this.prepared.edges);r.top=r.top||r.left&&!r.bottom,r.left=r.left||r.top&&!r.right,r.bottom=r.bottom||r.right&&!r.top,r.right=r.right||r.bottom&&!r.left,this.prepared._linkedEdges=r}else this.prepared._linkedEdges=null;this.target.options.resize.preserveAspectRatio&&(this.resizeStartAspectRatio=n.width/n.height),this.resizeRects={start:n,current:g({},n),restricted:g({},n),previous:g({},n),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},t.rect=this.resizeRects.restricted,t.deltaRect=this.resizeRects.delta}return this.target.fire(t),this.resizing=!0,t},resizeMove:function(e){var t=new X(this,e,"resize","move",this.element),n=this.prepared.edges,r=this.target.options.resize.invert,o="reposition"===r||"negate"===r;if(n){var i,a=t.dx,s=t.dy,l=this.resizeRects.start,c=this.resizeRects.current,u=this.resizeRects.restricted,d=this.resizeRects.delta,f=g(this.resizeRects.previous,u),h=n;if(this.target.options.resize.preserveAspectRatio){var p=this.resizeStartAspectRatio;n=this.prepared._linkedEdges,h.left&&h.bottom||h.right&&h.top?s=-a/p:h.left||h.right?s=a/p:(h.top||h.bottom)&&(a=s*p)}else this.target.options.resize.square&&(n=this.prepared._linkedEdges,h.left&&h.bottom||h.right&&h.top?s=-a:h.left||h.right?s=a:(h.top||h.bottom)&&(a=s));if(n.top&&(c.top+=s),n.bottom&&(c.bottom+=s),n.left&&(c.left+=a),n.right&&(c.right+=a),o){if(g(u,c),"reposition"===r)u.top>u.bottom&&(i=u.top,u.top=u.bottom,u.bottom=i),u.left>u.right&&(i=u.left,u.left=u.right,u.right=i)}else u.top=Math.min(c.top,l.bottom),u.bottom=Math.max(c.bottom,l.top),u.left=Math.min(c.left,l.right),u.right=Math.max(c.right,l.left);for(var m in u.width=u.right-u.left,u.height=u.bottom-u.top,u)d[m]=u[m]-f[m];t.edges=this.prepared.edges,t.rect=u,t.deltaRect=d}return this.target.fire(t),t},gestureStart:function(e){var t=new X(this,e,"gesture","start",this.element);return t.ds=0,this.gesture.startDistance=this.gesture.prevDistance=t.distance,this.gesture.startAngle=this.gesture.prevAngle=t.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(t),t},gestureMove:function(e){return this.pointerIds.length?((t=new X(this,e,"gesture","move",this.element)).ds=t.scale-this.gesture.scale,this.target.fire(t),this.gesture.prevAngle=t.angle,this.gesture.prevDistance=t.distance,t.scale===1/0||null===t.scale||void 0===t.scale||isNaN(t.scale)||(this.gesture.scale=t.scale),t):this.prevEvent;var t},pointerHold:function(e,t,n){this.collectEventTargets(e,t,n,"hold")},pointerUp:function(e,t,n,r){var o=this.mouse?0:le(this.pointerIds,_(e));clearTimeout(this.holdTimers[o]),this.collectEventTargets(e,t,n,"up"),this.collectEventTargets(e,t,n,"tap"),this.pointerEnd(e,t,n,r),this.removePointer(e)},pointerCancel:function(e,t,n,r){var o=this.mouse?0:le(this.pointerIds,_(e));clearTimeout(this.holdTimers[o]),this.collectEventTargets(e,t,n,"cancel"),this.pointerEnd(e,t,n,r),this.removePointer(e)},ie8Dblclick:function(e,t,n){this.prevTap&&t.clientX===this.prevTap.clientX&&t.clientY===this.prevTap.clientY&&n===this.prevTap.target&&(this.downTargets[0]=n,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(e,t,n,"tap"))},pointerEnd:function(e,t,n,r){var o,i=this.target,a=i&&i.options,s=a&&this.prepared.name&&a[this.prepared.name].inertia,l=this.inertiaStatus;if(this.interacting()){if(l.active&&!l.ending)return;var c,u,d,f=(new Date).getTime(),h=!1,p=B(i,this.prepared.name)&&a[this.prepared.name].snap.endOnly,m=q(i,this.prepared.name)&&a[this.prepared.name].restrict.endOnly,y=0,b=0;if(c=this.dragging?"x"===a.drag.axis?Math.abs(this.pointerDelta.client.vx):"y"===a.drag.axis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,d=(u=s&&s.enabled&&"gesture"!==this.prepared.name&&t!==l.startEvent)&&f-this.curCoords.timeStamp<50&&c>s.minSpeed&&c>s.endSpeed,u&&!d&&(p||m)){var w={};w.snap=w.restrict=w,p&&(this.setSnapping(this.curCoords.page,w),w.locked&&(y+=w.dx,b+=w.dy)),m&&(this.setRestriction(this.curCoords.page,w),w.restricted&&(y+=w.dx,b+=w.dy)),(y||b)&&(h=!0)}if(d||h){if(v(l.upCoords,this.curCoords),this.pointers[0]=l.startEvent=new X(this,t,this.prepared.name,"inertiastart",this.element),l.t0=f,i.fire(l.startEvent),d){l.vx0=this.pointerDelta.client.vx,l.vy0=this.pointerDelta.client.vy,l.v0=c,this.calcInertia(l);var C,x=g({},this.curCoords.page),_=L(i,this.element);if(x.x=x.x+l.xe-_.x,x.y=x.y+l.ye-_.y,(C={useStatusXY:!0,x:x.x,y:x.y,dx:0,dy:0,snap:null}).snap=C,y=b=0,p){var R=this.setSnapping(this.curCoords.page,C);R.locked&&(y+=R.dx,b+=R.dy)}if(m){var $=this.setRestriction(this.curCoords.page,C);$.restricted&&(y+=$.dx,b+=$.dy)}l.modifiedXe+=y,l.modifiedYe+=b,l.i=Ve(this.boundInertiaFrame)}else l.smoothEnd=!0,l.xe=y,l.ye=b,l.sx=l.sy=0,l.i=Ve(this.boundSmoothEndFrame);return void(l.active=!0)}(p||m)&&this.pointerMove(e,t,n,r,!0)}if(this.dragging){o=new X(this,t,"drag","end",this.element);var A=this.element,S=this.getDrop(o,t,A);this.dropTarget=S.dropzone,this.dropElement=S.element;var E=this.getDropEvents(t,o);E.leave&&this.prevDropTarget.fire(E.leave),E.enter&&this.dropTarget.fire(E.enter),E.drop&&this.dropTarget.fire(E.drop),E.deactivate&&this.fireActiveDrops(E.deactivate),i.fire(o)}else this.resizing?(o=new X(this,t,"resize","end",this.element),i.fire(o)):this.gesturing&&(o=new X(this,t,"gesture","end",this.element),i.fire(o));this.stop(t)},collectDrops:function(e){var t,n=[],r=[];for(e=e||this.element,t=0;t<$e.length;t++)if($e[t].options.drop.enabled){var o=$e[t],a=o.options.drop.accept;if(!(i(a)&&a!==e||h(a)&&!ue(e,a)))for(var s=o.selector?o._context.querySelectorAll(o.selector):[o._element],l=0,c=s.length;l<c;l++){var u=s[l];u!==e&&(n.push(o),r.push(u))}}return{dropzones:n,elements:r}},fireActiveDrops:function(e){var t,n,r,o;for(t=0;t<this.activeDrops.dropzones.length;t++)n=this.activeDrops.dropzones[t],(r=this.activeDrops.elements[t])!==o&&(e.target=r,n.fire(e)),o=r},setActiveDrops:function(e){var t=this.collectDrops(e,!0);this.activeDrops.dropzones=t.dropzones,this.activeDrops.elements=t.elements,this.activeDrops.rects=[];for(var n=0;n<this.activeDrops.dropzones.length;n++)this.activeDrops.rects[n]=this.activeDrops.dropzones[n].getRect(this.activeDrops.elements[n])},getDrop:function(e,t,n){var r=[];Se&&this.setActiveDrops(n);for(var o=0;o<this.activeDrops.dropzones.length;o++){var i=this.activeDrops.dropzones[o],a=this.activeDrops.elements[o],s=this.activeDrops.rects[o];r.push(i.dropCheck(e,t,this.target,n,a,s)?a:null)}var l=function(e){var t,n,r,o,i,a=e[0],s=a?0:-1,l=[],c=[];for(o=1;o<e.length;o++)if((t=e[o])&&t!==a)if(a){if(t.parentNode!==t.ownerDocument)if(a.parentNode!==t.ownerDocument){if(!l.length)for(n=a;n.parentNode&&n.parentNode!==n.ownerDocument;)l.unshift(n),n=n.parentNode;if(a instanceof we&&t instanceof ve&&!(t instanceof ye)){if(t===a.parentNode)continue;n=t.ownerSVGElement}else n=t;for(c=[];n.parentNode!==n.ownerDocument;)c.unshift(n),n=n.parentNode;for(i=0;c[i]&&c[i]===l[i];)i++;var u=[c[i-1],c[i],l[i]];for(r=u[0].lastChild;r;){if(r===u[1]){a=t,s=o,l=[];break}if(r===u[2])break;r=r.previousSibling}}else a=t,s=o}else a=t,s=o;return s}(r);return{dropzone:this.activeDrops.dropzones[l]||null,element:this.activeDrops.elements[l]||null}},getDropEvents:function(e,t){var n={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(n.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragleave"},t.dragLeave=this.prevDropElement,t.prevDropzone=this.prevDropTarget),this.dropTarget&&(n.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragenter"},t.dragEnter=this.dropElement,t.dropzone=this.dropTarget)),"dragend"===t.type&&this.dropTarget&&(n.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"drop"},t.dropzone=this.dropTarget),"dragstart"===t.type&&(n.activate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropactivate"}),"dragend"===t.type&&(n.deactivate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropdeactivate"}),"dragmove"===t.type&&this.dropTarget&&(n.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,dragmove:t,timeStamp:t.timeStamp,type:"dropmove"},t.dropzone=this.dropTarget),n},currentAction:function(){return(this.dragging?"drag":this.resizing&&"resize")||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.target=this.element=null,this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=null},stop:function(e){if(this.interacting()){ke.stop(),this.matches=[],this.matchElements=[];var t=this.target;t.options.styleCursor&&(t._doc.documentElement.style.cursor=""),e&&u(e.preventDefault)&&this.checkAndPreventDefault(e,t,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null)}this.clearTargets(),this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;for(var n=0;n<this.pointers.length;n++)-1===le(this.pointerIds,_(this.pointers[n]))&&this.pointers.splice(n,1)},inertiaFrame:function(){var e=this.inertiaStatus,t=this.target.options[this.prepared.name].inertia.resistance,n=(new Date).getTime()/1e3-e.t0;if(n<e.te){var r=1-(Math.exp(-t*n)-e.lambda_v0)/e.one_ve_v0;if(e.modifiedXe===e.xe&&e.modifiedYe===e.ye)e.sx=e.xe*r,e.sy=e.ye*r;else{var o=function(e,t,n,r,o,i,a){return{x:D(a,e,n,o),y:D(a,t,r,i)}}(0,0,e.xe,e.ye,e.modifiedXe,e.modifiedYe,r);e.sx=o.x,e.sy=o.y}this.pointerMove(e.startEvent,e.startEvent),e.i=Ve(this.boundInertiaFrame)}else e.ending=!0,e.sx=e.modifiedXe,e.sy=e.modifiedYe,this.pointerMove(e.startEvent,e.startEvent),this.pointerEnd(e.startEvent,e.startEvent),e.active=e.ending=!1},smoothEndFrame:function(){var e=this.inertiaStatus,t=(new Date).getTime()-e.t0,n=this.target.options[this.prepared.name].inertia.smoothEndDuration;t<n?(e.sx=I(t,0,e.xe,n),e.sy=I(t,0,e.ye,n),this.pointerMove(e.startEvent,e.startEvent),e.i=Ve(this.boundSmoothEndFrame)):(e.ending=!0,e.sx=e.xe,e.sy=e.ye,this.pointerMove(e.startEvent,e.startEvent),this.pointerEnd(e.startEvent,e.startEvent),e.smoothEnd=e.active=e.ending=!1)},addPointer:function(e){var t=_(e),n=this.mouse?0:le(this.pointerIds,t);return-1===n&&(n=this.pointerIds.length),this.pointerIds[n]=t,this.pointers[n]=e,n},removePointer:function(e){var t=_(e),n=this.mouse?0:le(this.pointerIds,t);-1!==n&&(this.pointers.splice(n,1),this.pointerIds.splice(n,1),this.downTargets.splice(n,1),this.downTimes.splice(n,1),this.holdTimers.splice(n,1))},recordPointer:function(e){var t=this.mouse?0:le(this.pointerIds,_(e));-1!==t&&(this.pointers[t]=e)},collectEventTargets:function(e,t,n,r){function o(e,t,o){var a=he?o.querySelectorAll(t):void 0;e._iEvents[r]&&i(c)&&j(e,c)&&!z(e,c,n)&&W(e,c,n)&&ue(c,t,a)&&(s.push(e),l.push(c))}var a=this.mouse?0:le(this.pointerIds,_(e));if("tap"!==r||!this.pointerWasMoved&&this.downTargets[a]&&this.downTargets[a]===n){for(var s=[],l=[],c=n;c;)re.isSet(c)&&re(c)._iEvents[r]&&(s.push(re(c)),l.push(c)),$e.forEachSelector(o),c=O(c);(s.length||"tap"===r)&&this.firePointers(e,t,n,s,l,r)}},firePointers:function(e,t,n,r,o,i){var a,s,l,c=this.mouse?0:le(this.pointerIds,_(e)),u={};for("doubletap"===i?u=e:(m(u,t),t!==e&&m(u,e),u.preventDefault=K,u.stopPropagation=X.prototype.stopPropagation,u.stopImmediatePropagation=X.prototype.stopImmediatePropagation,u.interaction=this,u.timeStamp=(new Date).getTime(),u.originalEvent=t,u.originalPointer=e,u.type=i,u.pointerId=_(e),u.pointerType=this.mouse?"mouse":Pe?h(e.pointerType)?e.pointerType:[,,"touch","pen","mouse"][e.pointerType]:"touch"),"tap"===i&&(u.dt=u.timeStamp-this.downTimes[c],s=u.timeStamp-this.tapTime,l=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===u.target&&s<500),u.double=l,this.tapTime=u.timeStamp),a=0;a<r.length&&(u.currentTarget=o[a],u.interactable=r[a],r[a].fire(u),!(u.immediatePropagationStopped||u.propagationStopped&&o[a+1]!==u.currentTarget));a++);if(l){var d={};g(d,u),d.dt=s,d.type="doubletap",this.collectEventTargets(d,t,n,"doubletap"),this.prevTap=d}else"tap"===i&&(this.prevTap=u)},validateSelector:function(e,t,n,r){for(var o=0,i=n.length;o<i;o++){var a=n[o],s=r[o],l=ee(a.getAction(e,t,this,s),a);if(l&&V(a,s,l))return this.target=a,this.element=s,l}},setSnapping:function(e,t){var n,r,o,i=this.target.options[this.prepared.name].snap,a=[];if((t=t||this.snapStatus).useStatusXY)r={x:t.x,y:t.y};else{var s=L(this.target,this.element);(r=g({},e)).x-=s.x,r.y-=s.y}t.realX=r.x,t.realY=r.y,r.x=r.x-this.inertiaStatus.resumeDx,r.y=r.y-this.inertiaStatus.resumeDy;for(var l=i.targets?i.targets.length:0,c=0;c<this.snapOffsets.length;c++){var f={x:r.x-this.snapOffsets[c].x,y:r.y-this.snapOffsets[c].y};for(o=0;o<l;o++)(n=u(i.targets[o])?i.targets[o](f.x,f.y,this):i.targets[o])&&a.push({x:d(n.x)?n.x+this.snapOffsets[c].x:f.x,y:d(n.y)?n.y+this.snapOffsets[c].y:f.y,range:d(n.range)?n.range:i.range})}var h,p={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(o=0,l=a.length;o<l;o++){var m=(n=a[o]).range,v=n.x-r.x,y=n.y-r.y,b=xe(v,y),w=b<=m;m===1/0&&p.inRange&&p.range!==1/0&&(w=!1),p.target&&!(w?p.inRange&&m!==1/0?b/m<p.distance/p.range:m===1/0&&p.range!==1/0||b<p.distance:!p.inRange&&b<p.distance)||(m===1/0&&(w=!0),p.target=n,p.distance=b,p.range=m,p.inRange=w,p.dx=v,p.dy=y,t.range=m)}return p.target?(h=t.snappedX!==p.target.x||t.snappedY!==p.target.y,t.snappedX=p.target.x,t.snappedY=p.target.y):(h=!0,t.snappedX=NaN,t.snappedY=NaN),t.dx=p.dx,t.dy=p.dy,t.changed=h||p.inRange&&!t.locked,t.locked=p.inRange,t},setRestriction:function(e,t){var n,r,o,a,s=this.target,l=s&&s.options[this.prepared.name].restrict,c=l&&l.restriction;return c?(n=n=(t=t||this.restrictStatus).useStatusXY?{x:t.x,y:t.y}:g({},e),t.snap&&t.snap.locked&&(n.x+=t.snap.dx||0,n.y+=t.snap.dy||0),n.x-=this.inertiaStatus.resumeDx,n.y-=this.inertiaStatus.resumeDy,t.dx=0,t.dy=0,t.restricted=!1,h(c)&&!(c="parent"===c?O(this.element):"self"===c?s.getRect(this.element):F(this.element,c))||(u(c)&&(c=c(n.x,n.y,this.element)),i(c)&&(c=S(c)),r=c,c?"x"in c&&"y"in c?(o=Math.max(Math.min(r.x+r.width-this.restrictOffset.right,n.x),r.x+this.restrictOffset.left),a=Math.max(Math.min(r.y+r.height-this.restrictOffset.bottom,n.y),r.y+this.restrictOffset.top)):(o=Math.max(Math.min(r.right-this.restrictOffset.right,n.x),r.left+this.restrictOffset.left),a=Math.max(Math.min(r.bottom-this.restrictOffset.bottom,n.y),r.top+this.restrictOffset.top)):(o=n.x,a=n.y),t.dx=o-n.x,t.dy=a-n.y,t.changed=t.restrictedX!==o||t.restrictedY!==a,t.restricted=!(!t.dx&&!t.dy),t.restrictedX=o,t.restrictedY=a),t):t},checkAndPreventDefault:function(e,t,n){if(t=t||this.target){var r=t.options,o=r.preventDefault;if("auto"===o&&n&&!/^(input|select|textarea)$/i.test(e.target.nodeName)){if(/down|start/i.test(e.type)&&"drag"===this.prepared.name&&"xy"!==r.drag.axis)return;if(r[this.prepared.name]&&r[this.prepared.name].manualStart&&!this.interacting())return;return void e.preventDefault()}return"always"===o?void e.preventDefault():void 0}},calcInertia:function(e){var t=this.target.options[this.prepared.name].inertia,n=t.resistance,r=-Math.log(t.endSpeed/e.v0)/n;e.x0=this.prevEvent.pageX,e.y0=this.prevEvent.pageY,e.t0=e.startEvent.timeStamp/1e3,e.sx=e.sy=0,e.modifiedXe=e.xe=(e.vx0-r)/n,e.modifiedYe=e.ye=(e.vy0-r)/n,e.te=r,e.lambda_v0=n/e.v0,e.one_ve_v0=1-t.endSpeed/e.v0},autoScrollMove:function(e){if(this.interacting()&&function(e,t){var n=e.options;return/^resize/.test(t)&&(t="resize"),n[t].autoScroll&&n[t].autoScroll.enabled}(this.target,this.prepared.name)){if(this.inertiaStatus.active)return void(ke.x=ke.y=0);var t,n,r,o,i=this.target.options[this.prepared.name].autoScroll,s=i.container||$(this.element);if(a(s))o=e.clientX<ke.margin,t=e.clientY<ke.margin,n=e.clientX>s.innerWidth-ke.margin,r=e.clientY>s.innerHeight-ke.margin;else{var l=A(s);o=e.clientX<l.left+ke.margin,t=e.clientY<l.top+ke.margin,n=e.clientX>l.right-ke.margin,r=e.clientY>l.bottom-ke.margin}ke.x=n?1:o?-1:0,ke.y=r?1:t?-1:0,ke.isScrolling||(ke.margin=i.margin,ke.speed=i.speed,ke.start(this))}},_updateEventTargets:function(e,t){this._eventTarget=e,this._curEventTarget=t}},X.prototype={preventDefault:o,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var Xe={},Ke=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","pointerCancel","pointerEnd","addPointer","removePointer","recordPointer","autoScrollMove"],Qe=0,Ze=Ke.length;Qe<Ze;Qe++){var Je=Ke[Qe];Xe[Je]=Y(Je)}$e.indexOfElement=function(e,t){t=t||ge;for(var n=0;n<this.length;n++){var r=this[n];if(r.selector===e&&r._context===t||!r.selector&&r._element===e)return n}return-1},$e.get=function(e,t){return this[this.indexOfElement(e,t&&t.context)]},$e.forEachSelector=function(e){for(var t=0;t<this.length;t++){var n=this[t];if(n.selector){var r=e(n,n.selector,n._context,t,this);if(void 0!==r)return r}}},oe.prototype={setOnEvents:function(e,t){return"drop"===e?(u(t.ondrop)&&(this.ondrop=t.ondrop),u(t.ondropactivate)&&(this.ondropactivate=t.ondropactivate),u(t.ondropdeactivate)&&(this.ondropdeactivate=t.ondropdeactivate),u(t.ondragenter)&&(this.ondragenter=t.ondragenter),u(t.ondragleave)&&(this.ondragleave=t.ondragleave),u(t.ondropmove)&&(this.ondropmove=t.ondropmove)):(e="on"+e,u(t.onstart)&&(this[e+"start"]=t.onstart),u(t.onmove)&&(this[e+"move"]=t.onmove),u(t.onend)&&(this[e+"end"]=t.onend),u(t.oninertiastart)&&(this[e+"inertiastart"]=t.oninertiastart)),this},draggable:function(e){return c(e)?(this.options.drag.enabled=!1!==e.enabled,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.drag.axis=e.axis:null===e.axis&&delete this.options.drag.axis,this):f(e)?(this.options.drag.enabled=e,this):this.options.drag},setPerAction:function(e,t){for(var n in t)n in Te[e]&&(c(t[n])?(this.options[e][n]=g(this.options[e][n]||{},t[n]),c(Te.perAction[n])&&"enabled"in Te.perAction[n]&&(this.options[e][n].enabled=!1!==t[n].enabled)):f(t[n])&&c(Te.perAction[n])?this.options[e][n].enabled=t[n]:void 0!==t[n]&&(this.options[e][n]=t[n]))},dropzone:function(e){return c(e)?(this.options.drop.enabled=!1!==e.enabled,this.setOnEvents("drop",e),/^(pointer|center)$/.test(e.overlap)?this.options.drop.overlap=e.overlap:d(e.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(this.options.drop.accept=e.accept),"checker"in e&&(this.options.drop.checker=e.checker),this):f(e)?(this.options.drop.enabled=e,this):this.options.drop},dropCheck:function(e,t,n,r,o,i){var a=!1;if(!(i=i||this.getRect(o)))return!!this.options.drop.checker&&this.options.drop.checker(e,t,a,this,o,n,r);var s=this.options.drop.overlap;if("pointer"===s){var l,c,u=C(e),f=L(n,r);u.x+=f.x,u.y+=f.y,l=u.x>i.left&&u.x<i.right,c=u.y>i.top&&u.y<i.bottom,a=l&&c}var h=n.getRect(r);if("center"===s){var p=h.left+h.width/2,g=h.top+h.height/2;a=p>=i.left&&p<=i.right&&g>=i.top&&g<=i.bottom}d(s)&&(a=Math.max(0,Math.min(i.right,h.right)-Math.max(i.left,h.left))*Math.max(0,Math.min(i.bottom,h.bottom)-Math.max(i.top,h.top))/(h.width*h.height)>=s);return this.options.drop.checker&&(a=this.options.drop.checker(e,t,a,this,o,n,r)),a},dropChecker:function(e){return u(e)?(this.options.drop.checker=e,this):null===e?(delete this.options.getRect,this):this.options.drop.checker},accept:function(e){return i(e)||p(e)?(this.options.drop.accept=e,this):null===e?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(e){return c(e)?(this.options.resize.enabled=!1!==e.enabled,this.setPerAction("resize",e),this.setOnEvents("resize",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.resize.axis=e.axis:null===e.axis&&(this.options.resize.axis=Te.resize.axis),f(e.preserveAspectRatio)?this.options.resize.preserveAspectRatio=e.preserveAspectRatio:f(e.square)&&(this.options.resize.square=e.square),this):f(e)?(this.options.resize.enabled=e,this):this.options.resize},squareResize:function(e){return f(e)?(this.options.resize.square=e,this):null===e?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(e){return c(e)?(this.options.gesture.enabled=!1!==e.enabled,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):f(e)?(this.options.gesture.enabled=e,this):this.options.gesture},autoScroll:function(e){return c(e)?e=g({actions:["drag","resize"]},e):f(e)&&(e={actions:["drag","resize"],enabled:e}),this.setOptions("autoScroll",e)},snap:function(e){var t=this.setOptions("snap",e);return t===this?this:t.drag},setOptions:function(e,t){var n,r=t&&l(t.actions)?t.actions:["drag"];if(c(t)||f(t)){for(n=0;n<r.length;n++){var o=/resize/.test(r[n])?"resize":r[n];if(c(this.options[o])){var i=this.options[o][e];c(t)?(g(i,t),i.enabled=!1!==t.enabled,"snap"===e&&("grid"===i.mode?i.targets=[re.createSnapGrid(g({offset:i.gridOffset||{x:0,y:0}},i.grid||{}))]:"anchor"===i.mode?i.targets=i.anchors:"path"===i.mode&&(i.targets=i.paths),"elementOrigin"in t&&(i.relativePoints=[t.elementOrigin]))):f(t)&&(i.enabled=t)}}return this}var a={},s=["drag","resize","gesture"];for(n=0;n<s.length;n++)e in Te[s[n]]&&(a[s[n]]=this.options[s[n]][e]);return a},inertia:function(e){var t=this.setOptions("inertia",e);return t===this?this:t.drag},getAction:function(e,t,n,r){var o=this.defaultActionChecker(e,n,r);return this.options.actionChecker?this.options.actionChecker(e,t,o,this,r,n):o},defaultActionChecker:J,actionChecker:function(e){return u(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(e){return e=e||this._element,this.selector&&!i(e)&&(e=this._context.querySelector(this.selector)),S(e)},rectChecker:function(e){return u(e)?(this.getRect=e,this):null===e?(delete this.options.getRect,this):this.getRect},styleCursor:function(e){return f(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):f(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault},origin:function(e){return p(e)||c(e)?(this.options.origin=e,this):this.options.origin},deltaSource:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource},restrict:function(e){if(!c(e))return this.setOptions("restrict",e);for(var t,n=["drag","resize","gesture"],r=0;r<n.length;r++){var o=n[r];if(o in e){var i=g({actions:[o],restriction:e[o]},e);t=this.setOptions("restrict",i)}}return t},context:function(){return this._context},_context:ge,ignoreFrom:function(e){return p(e)||i(e)?(this.options.ignoreFrom=e,this):this.options.ignoreFrom},allowFrom:function(e){return p(e)||i(e)?(this.options.allowFrom=e,this):this.options.allowFrom},element:function(){return this._element},fire:function(e){if(!e||!e.type||!ce(ze,e.type))return this;var t,n,r,o="on"+e.type;if(e.type in this._iEvents)for(n=0,r=(t=this._iEvents[e.type]).length;n<r&&!e.immediatePropagationStopped;n++)t[n].name,t[n](e);if(u(this[o])&&(this[o].name,this[o](e)),e.type in We&&(t=We[e.type]))for(n=0,r=t.length;n<r&&!e.immediatePropagationStopped;n++)t[n].name,t[n](e);return this},on:function(e,t,n){var r;if(h(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),l(e)){for(r=0;r<e.length;r++)this.on(e[r],t,n);return this}if(c(e)){for(var o in e)this.on(o,e[o],t);return this}if("wheel"===e&&(e=je),n=!!n,ce(ze,e))e in this._iEvents?this._iEvents[e].push(t):this._iEvents[e]=[t];else if(this.selector){if(!Ee[e])for(Ee[e]={selectors:[],contexts:[],listeners:[]},r=0;r<Re.length;r++)Ge.add(Re[r],e,te),Ge.add(Re[r],e,ne,!0);var i,a=Ee[e];for(i=a.selectors.length-1;i>=0&&(a.selectors[i]!==this.selector||a.contexts[i]!==this._context);i--);-1===i&&(i=a.selectors.length,a.selectors.push(this.selector),a.contexts.push(this._context),a.listeners.push([])),a.listeners[i].push([t,n])}else Ge.add(this._element,e,t,n);return this},off:function(e,t,n){var r;if(h(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),l(e)){for(r=0;r<e.length;r++)this.off(e[r],t,n);return this}if(c(e)){for(var o in e)this.off(o,e[o],t);return this}var i,a=-1;if(n=!!n,"wheel"===e&&(e=je),ce(ze,e))(i=this._iEvents[e])&&-1!==(a=le(i,t))&&this._iEvents[e].splice(a,1);else if(this.selector){var s=Ee[e],u=!1;if(!s)return this;for(a=s.selectors.length-1;a>=0;a--)if(s.selectors[a]===this.selector&&s.contexts[a]===this._context){var d=s.listeners[a];for(r=d.length-1;r>=0;r--){var f=d[r][0],p=d[r][1];if(f===t&&p===n){d.splice(r,1),d.length||(s.selectors.splice(a,1),s.contexts.splice(a,1),s.listeners.splice(a,1),Ge.remove(this._context,e,te),Ge.remove(this._context,e,ne,!0),s.selectors.length||(Ee[e]=null)),u=!0;break}}if(u)break}}else Ge.remove(this._element,e,t,n);return this},set:function(e){c(e)||(e={}),this.options=g({},Te.base);var t,n=["drag","drop","resize","gesture"],r=["draggable","dropzone","resizable","gesturable"],o=g(g({},Te.perAction),e[i]||{});for(t=0;t<n.length;t++){var i=n[t];this.options[i]=g({},Te[i]),this.setPerAction(i,o),this[r[t]](e[i])}var a=["accept","actionChecker","allowFrom","deltaSource","dropChecker","ignoreFrom","origin","preventDefault","rectChecker","styleCursor"];for(t=0,Ze=a.length;t<Ze;t++){var s=a[t];this.options[s]=Te.base[s],s in e&&this[s](e[s])}return this},unset:function(){if(Ge.remove(this._element,"all"),h(this.selector))for(var e in Ee)for(var t=Ee[e],n=0;n<t.selectors.length;n++){t.selectors[n]===this.selector&&t.contexts[n]===this._context&&(t.selectors.splice(n,1),t.contexts.splice(n,1),t.listeners.splice(n,1),t.selectors.length||(Ee[e]=null)),Ge.remove(this._context,e,te),Ge.remove(this._context,e,ne,!0);break}else Ge.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),$e.splice(le($e,this),1),re}},oe.prototype.snap=ie(oe.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping"),oe.prototype.restrict=ie(oe.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction"),oe.prototype.inertia=ie(oe.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia"),oe.prototype.autoScroll=ie(oe.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll"),oe.prototype.squareResize=ie(oe.prototype.squareResize,"Interactable#squareResize is deprecated. See http://interactjs.io/docs/#resize-square"),oe.prototype.accept=ie(oe.prototype.accept,"Interactable#accept is deprecated. use Interactable#dropzone({ accept: target }) instead"),oe.prototype.dropChecker=ie(oe.prototype.dropChecker,"Interactable#dropChecker is deprecated. use Interactable#dropzone({ dropChecker: checkerFunction }) instead"),oe.prototype.context=ie(oe.prototype.context,"Interactable#context as a method is deprecated. It will soon be a DOM Node instead"),re.isSet=function(e,t){return-1!==$e.indexOfElement(e,t&&t.context)},re.on=function(e,t,n){if(h(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),l(e)){for(var r=0;r<e.length;r++)re.on(e[r],t,n);return re}if(c(e)){for(var o in e)re.on(o,e[o],t);return re}return ce(ze,e)?We[e]?We[e].push(t):We[e]=[t]:Ge.add(ge,e,t,n),re},re.off=function(e,t,n){if(h(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),l(e)){for(var r=0;r<e.length;r++)re.off(e[r],t,n);return re}if(c(e)){for(var o in e)re.off(o,e[o],t);return re}var i;ce(ze,e)?e in We&&-1!==(i=le(We[e],t))&&We[e].splice(i,1):Ge.remove(ge,e,t,n);return re},re.enableDragging=ie((function(e){return null!=e?(Oe.drag=e,re):Oe.drag}),"interact.enableDragging is deprecated and will soon be removed."),re.enableResizing=ie((function(e){return null!=e?(Oe.resize=e,re):Oe.resize}),"interact.enableResizing is deprecated and will soon be removed."),re.enableGesturing=ie((function(e){return null!=e?(Oe.gesture=e,re):Oe.gesture}),"interact.enableGesturing is deprecated and will soon be removed."),re.eventTypes=ze,re.debug=function(){var e=Ae[0]||new U;return{interactions:Ae,target:e.target,dragging:e.dragging,resizing:e.resizing,gesturing:e.gesturing,prepared:e.prepared,matches:e.matches,matchElements:e.matchElements,prevCoords:e.prevCoords,startCoords:e.startCoords,pointerIds:e.pointerIds,pointers:e.pointers,addPointer:Xe.addPointer,removePointer:Xe.removePointer,recordPointer:Xe.recordPointer,snap:e.snapStatus,restrict:e.restrictStatus,inertia:e.inertiaStatus,downTime:e.downTimes[0],downEvent:e.downEvent,downPointer:e.downPointer,prevEvent:e.prevEvent,Interactable:oe,interactables:$e,pointerIsDown:e.pointerIsDown,defaultOptions:Te,defaultActionChecker:J,actionCursors:Fe,dragMove:Xe.dragMove,resizeMove:Xe.resizeMove,gestureMove:Xe.gestureMove,pointerUp:Xe.pointerUp,pointerDown:Xe.pointerDown,pointerMove:Xe.pointerMove,pointerHover:Xe.pointerHover,eventTypes:ze,events:Ge,globalEvents:We,delegatedEvents:Ee,prefixedPropREs:Ye}},re.getPointerAverage=T,re.getTouchBBox=k,re.getTouchDistance=M,re.getTouchAngle=P,re.getElementRect=S,re.getElementClientRect=A,re.matchesSelector=ue,re.closest=F,re.margin=ie((function(e){return d(e)?(Le=e,re):Le}),"interact.margin is deprecated. Use interact(target).resizable({ margin: number }); instead."),re.supportsTouch=function(){return Me},re.supportsPointerEvent=function(){return Pe},re.stop=function(e){for(var t=Ae.length-1;t>=0;t--)Ae[t].stop(e);return re},re.dynamicDrop=function(e){return f(e)?(Se=e,re):Se},re.pointerMoveTolerance=function(e){return d(e)?(De=e,this):De},re.maxInteractions=function(e){return d(e)?(Ne=e,this):Ne},re.createSnapGrid=function(e){return function(t,n){var r=0,o=0;c(e.offset)&&(r=e.offset.x,o=e.offset.y);var i=Math.round((t-r)/e.x),a=Math.round((n-o)/e.y);return{x:i*e.x+r,y:a*e.y+o,range:e.range}}},se(ge),qe in Element.prototype&&u(Element.prototype[qe])||(he=function(e,t,n){for(var r=0,o=(n=n||e.parentNode.querySelectorAll(t)).length;r<o;r++)if(n[r]===e)return!0;return!1}),function(){for(var e=0,t=["ms","moz","webkit","o"],r=0;r<t.length&&!n.requestAnimationFrame;++r)Ve=n[t[r]+"RequestAnimationFrame"],Ue=n[t[r]+"CancelAnimationFrame"]||n[t[r]+"CancelRequestAnimationFrame"];Ve||(Ve=function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),o=setTimeout((function(){t(n+r)}),r);return e=n+r,o}),Ue||(Ue=function(e){clearTimeout(e)})}(),void 0!==e&&e.exports&&(t=e.exports=re),t.interact=re}}("undefined"==typeof window?void 0:window)},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.RowSelectionModel=t.RowMoveManager=t.HeaderMenu=t.HeaderButtons=t.CheckboxSelectColumn=t.CellSelectionModel=t.CellRangeSelector=t.CellRangeDecorator=t.CellCopyManager=t.AutoTooltips=void 0;var o=r(n(7)),i=r(n(9)),a=r(n(11)),s=r(n(12)),l=r(n(13)),c=r(n(15)),u=r(n(17)),d=r(n(19)),f=r(n(21)),h=r(n(23));t.AutoTooltips=o.default,t.CellCopyManager=i.default,t.CellRangeDecorator=a.default,t.CellRangeSelector=s.default,t.CellSelectionModel=l.default,t.CheckboxSelectColumn=c.default,t.HeaderButtons=u.default,t.HeaderMenu=d.default,t.RowMoveManager=f.default,t.RowSelectionModel=h.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(8));t.default=r.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2));t.default=function(e){function t(t){var n=o.getCellFromEvent(t);if(n){var i=(0,r.default)(o.getCellNode(n.row,n.cell)),a=void 0;i.innerWidth()<i[0].scrollWidth?(a=r.default.trim(i.text()),e.maxToolTipLength&&a.length>e.maxToolTipLength&&(a=a.substr(0,e.maxToolTipLength-3)+"...")):a="",i.attr("title",a)}}function n(e,t){var n=t.column,o=(0,r.default)(e.target).closest(".slick-header-column");n&&!n.toolTip&&o.attr("title",o.innerWidth()<o[0].scrollWidth?n.name:"")}var o=void 0,i={enableForCells:!0,enableForHeaderCells:!1,maxToolTipLength:null};Object.assign(this,{init:function(r){e=Object.assign({},i,e),o=r,e.enableForCells&&o.onMouseEnter.subscribe(t),e.enableForHeaderCells&&o.onHeaderMouseEnter.subscribe(n)},destroy:function(){e.enableForCells&&o.onMouseEnter.unsubscribe(t),e.enableForHeaderCells&&o.onHeaderMouseEnter.unsubscribe(n)}})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(10));t.default=r.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),o=r.default.keyCode;t.default=function(){function e(e,r){var s;n.getEditorLock().isActive()||(e.which==o.ESCAPE&&i&&(e.preventDefault(),t(),a.onCopyCancelled.notify({ranges:i}),i=null),67==e.which&&(e.ctrlKey||e.metaKey)&&(0!=(s=n.getSelectionModel().getSelectedRanges()).length&&(e.preventDefault(),i=s,function(e){for(var t=n.getColumns(),r={},o=0;o<e.length;o++)for(var i=e[o].fromRow;i<=e[o].toRow;i++){r[i]={};for(var a=e[o].fromCell;a<=e[o].toCell;a++)r[i][t[a].id]="copied"}n.setCellCssStyles("copy-manager",r)}(s),a.onCopyCells.notify({ranges:s}))),86==e.which&&(e.ctrlKey||e.metaKey)&&i&&(e.preventDefault(),t(),s=n.getSelectionModel().getSelectedRanges(),a.onPasteCells.notify({from:i,to:s}),i=null))}function t(){n.removeCellCssStyles("copy-manager")}var n,i,a=this;Object.assign(this,{init:function(t){(n=t).onKeyDown.subscribe(e)},destroy:function(){n.onKeyDown.unsubscribe(e)},clearCopySelection:t,onCopyCells:new r.default.Event,onCopyCancelled:new r.default.Event,onPasteCells:new r.default.Event})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));t.default=r.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(4));t.default=r.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(14));t.default=r.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),i=r(n(4));t.default=function(){function e(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];u.canCellBeSelected(r.fromRow,r.fromCell)&&u.canCellBeSelected(r.toRow,r.toCell)&&t.push(r)}return t}function t(t){(d&&0!==d.length||t&&0!==t.length)&&(d=e(t),f.onSelectedRangesChanged.notify(d))}function n(){return d}function r(e,t){if(u.getEditorLock().isActive())return e.stopPropagation(),!1}function a(e,n){t([n.range])}function s(e,n){p.selectActiveCell&&null!=n.row&&null!=n.cell&&t([new o.default.Range(n.row,n.cell)])}function l(r){var i=void 0,a=void 0,s=u.getActiveCell();if(s&&r.shiftKey&&!r.ctrlKey&&!r.altKey&&(37==r.which||39==r.which||38==r.which||40==r.which)){(i=n()).length||i.push(new o.default.Range(s.row,s.cell)),(a=i.pop()).contains(s.row,s.cell)||(a=new o.default.Range(s.row,s.cell));var l=a.toRow-a.fromRow,c=a.toCell-a.fromCell,d=s.row==a.fromRow?1:-1,f=s.cell==a.fromCell?1:-1;37==r.which?c-=f:39==r.which?c+=f:38==r.which?l-=d:40==r.which&&(l+=d);var h=new o.default.Range(s.row,s.cell,s.row+d*l,s.cell+f*c);if(e([h]).length){i.push(h);var p=d>0?h.toRow:h.fromRow,g=f>0?h.toCell:h.fromCell;u.scrollRowIntoView(p),u.scrollCellIntoView(p,g)}else i.push(a);t(i),r.preventDefault(),r.stopPropagation()}}var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selectActiveCell:!0},u=void 0,d=[],f=this,h=new i.default({selectionCss:{border:"2px solid black"}}),p=void 0;Object.assign(this,{getSelectedRanges:n,setSelectedRanges:t,init:function(e){p=Object.assign({},c),(u=e).getCanvasNode(),u.onActiveCellChanged.subscribe(s),u.onKeyDown.subscribe(l),e.registerPlugin(h),h.onCellRangeSelected.subscribe(a),h.onBeforeCellRangeSelected.subscribe(r)},destroy:function(){u.onActiveCellChanged.unsubscribe(s),u.onKeyDown.unsubscribe(l),h.onCellRangeSelected.unsubscribe(a),h.onBeforeCellRangeSelected.unsubscribe(r),u.unregisterPlugin(h)},onSelectedRangesChanged:new o.default.Event})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(16));t.default=r.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=r(n(1));t.default=function(e){function t(e,t){var n=c.getSelectedRows(),r={},o=void 0,i=void 0;for(i=0;i<n.length;i++)r[o=n[i]]=!0,r[o]!==d[o]&&(c.invalidateRow(o),delete d[o]);for(i in d)c.invalidateRow(i);d=r,c.render(),n.length&&n.length==c.getDataLength()?c.updateColumnHeader(f.columnId,"<input type='checkbox' checked='checked'>",f.toolTip):c.updateColumnHeader(f.columnId,"<input type='checkbox'>",f.toolTip)}function n(e,t){32==e.which&&c.getColumns()[t.cell].id===f.columnId&&(c.getEditorLock().isActive()&&!c.getEditorLock().commitCurrentEdit()||a(t.row),e.preventDefault(),e.stopImmediatePropagation())}function r(e,t){if(c.getColumns()[t.cell].id===f.columnId&&(0,o.default)(e.target).is(":checkbox")){if(c.getEditorLock().isActive()&&!c.getEditorLock().commitCurrentEdit())return e.preventDefault(),void e.stopImmediatePropagation();a(t.row),e.stopPropagation(),e.stopImmediatePropagation()}}function a(e){d[e]?c.setSelectedRows(o.default.grep(c.getSelectedRows(),(function(t){return t!=e}))):c.setSelectedRows(c.getSelectedRows().concat(e))}function s(e,t){if(t.column.id==f.columnId&&(0,o.default)(e.target).is(":checkbox")){if(c.getEditorLock().isActive()&&!c.getEditorLock().commitCurrentEdit())return e.preventDefault(),void e.stopImmediatePropagation();if((0,o.default)(e.target).is(":checked")){for(var n=[],r=0;r<c.getDataLength();r++)n.push(r);c.setSelectedRows(n)}else c.setSelectedRows([]);e.stopPropagation(),e.stopImmediatePropagation()}}function l(e,t,n,r,o){return o?d[e]?"<input type='checkbox' checked='checked'>":"<input type='checkbox'>":null}var c=void 0,u=new i.default.EventHandler,d={},f=o.default.extend(!0,{},{columnId:"_checkbox_selector",cssClass:null,toolTip:"Select/Deselect All",width:30},e);Object.assign(this,{init:function(e){c=e,u.subscribe(c.onSelectedRowsChanged,t).subscribe(c.onClick,r).subscribe(c.onHeaderClick,s).subscribe(c.onKeyDown,n)},destroy:function(){u.unsubscribeAll()},getColumnDefinition:function(){return{id:f.columnId,name:"<input type='checkbox'>",toolTip:f.toolTip,field:"sel",width:f.width,resizable:!1,sortable:!1,cssClass:f.cssClass,formatter:l}}})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(18));t.default=r.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=r(n(1));t.default=function(e){function t(t,n){var i=n.column;if(i.header&&i.header.buttons)for(var a=i.header.buttons.length;a--;){var s=i.header.buttons[a],l=(0,o.default)("<div></div>").addClass(e.buttonCssClass).data("column",i).data("button",s);s.showOnHover&&l.addClass("slick-header-button-hidden"),s.image&&l.css("backgroundImage","url("+s.image+")"),s.cssClass&&l.addClass(s.cssClass),s.tooltip&&l.attr("title",s.tooltip),s.command&&l.data("command",s.command),s.handler&&l.bind("click",s.handler),l.bind("click",r).appendTo(n.node),n.node.classList.add("has-buttons")}}function n(t,n){var r=n.column;r.header&&r.header.buttons&&(0,o.default)(n.node).find("."+e.buttonCssClass).remove()}function r(e){var t=(0,o.default)(this).data("command"),n=(0,o.default)(this).data("column"),r=(0,o.default)(this).data("button");null!=t&&(s.onCommand.notify({grid:a,column:n,command:t,button:r},e,s),a.updateColumnHeader(n.id)),e.preventDefault(),e.stopPropagation()}var a,s=this,l=new i.default.EventHandler,c={buttonCssClass:"slick-header-button"};Object.assign(this,{init:function(r){e=Object.assign({},c,e),a=r,l.subscribe(a.onHeaderCellRendered,t).subscribe(a.onBeforeHeaderCellDestroy,n),a.setColumns(a.getColumns())},destroy:function(){l.unsubscribeAll()},onCommand:new i.default.Event})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(20));t.default=r.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=r(n(1));t.default=function(e){function t(e){h&&h[0]!=e.target&&!o.default.contains(h[0],e.target)&&n()}function n(){h&&(h.remove(),h=null,p.removeClass("slick-header-column-active"))}function r(t,n){var r=n.column,i=r.header&&r.header.menu;if(i){var a=(0,o.default)("<div></div>").addClass("slick-header-menubutton").data("column",r).data("menu",i);e.buttonCssClass&&a.addClass(e.buttonCssClass),e.buttonImage&&a.css("background-image","url("+e.buttonImage+")"),i.tooltip&&a.attr("title",i.tooltip),a.bind("click",s).appendTo(n.node)}}function a(e,t){var n=t.column;n.header&&n.header.menu&&(0,o.default)(t.node).find(".slick-header-menubutton").remove()}function s(e){var t=(0,o.default)(this),n=t.data("menu"),r=t.data("column");if(0!=u.onBeforeMenuShow.notify({grid:c,column:r,menu:n},e,u)){h||(h=(0,o.default)("<div class='slick-header-menu'></div>").appendTo(c.getContainerNode())),h.empty();for(var i=0;i<n.items.length;i++){var a=n.items[i],s=(0,o.default)("<div class='slick-header-menuitem'></div>").data("command",a.command||"").data("column",r).data("item",a).bind("click",l).appendTo(h);a.disabled&&s.addClass("slick-header-menuitem-disabled"),a.tooltip&&s.attr("title",a.tooltip);var d=(0,o.default)("<div class='slick-header-menuicon'></div>").appendTo(s);a.iconCssClass&&d.addClass(a.iconCssClass),a.iconImage&&d.css("background-image","url("+a.iconImage+")"),(0,o.default)("<span class='slick-header-menucontent'></span>").text(a.title).appendTo(s)}h.offset({top:(0,o.default)(this).offset().top+(0,o.default)(this).height(),left:(0,o.default)(this).offset().left}),(p=t.closest(".slick-header-column")).addClass("slick-header-column-active"),e.preventDefault(),e.stopPropagation()}}function l(e){var t=(0,o.default)(this).data("command"),r=(0,o.default)(this).data("column"),i=(0,o.default)(this).data("item");i.disabled||(n(),null!=t&&""!=t&&u.onCommand.notify({grid:c,column:r,command:t,item:i},e,u),e.preventDefault(),e.stopPropagation())}var c=void 0,u=this,d=new i.default.EventHandler,f={buttonCssClass:null,buttonImage:null},h=void 0,p=void 0;Object.assign(this,{init:function(n){e=Object.assign({},f,e),c=n,d.subscribe(c.onHeaderCellRendered,r).subscribe(c.onBeforeHeaderCellDestroy,a),c.setColumns(c.getColumns()),(0,o.default)(document.body).bind("mousedown",t)},destroy:function(){d.unsubscribeAll(),(0,o.default)(document.body).unbind("mousedown",t)},onBeforeMenuShow:new i.default.Event,onCommand:new i.default.Event})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(22));t.default=r.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));t.default=function(e){function t(e,t){e.stopImmediatePropagation()}function n(t,n){var r=a.getCellFromEvent(t);if(e.cancelEditOnDrag&&a.getEditorLock().isActive()&&a.getEditorLock().cancelCurrentEdit(),a.getEditorLock().isActive()||!/move|selectAndMove/.test(a.getColumns()[r.cell].behavior))return!1;l=!0,t.stopImmediatePropagation();var o=a.getSelectedRows();0!=o.length&&-1!=$.inArray(r.row,o)||(o=[r.row],a.setSelectedRows(o));var i=a.getOptions().rowHeight;n.selectedRows=o,n.selectionProxy=$("<div class='slick-reorder-proxy'/>").css("position","absolute").css("zIndex","99999").css("width",$(s).innerWidth()).css("height",i*o.length).appendTo(s),n.guide=$("<div class='slick-reorder-guide'/>").css("position","absolute").css("zIndex","99998").css("width",$(s).innerWidth()).css("top",-1e3).appendTo(s),n.insertBefore=-1}function o(e,t){if(l){e.stopImmediatePropagation();var n=e.pageY-$(s).offset().top;t.selectionProxy.css("top",n-5);var r=Math.max(0,Math.min(Math.round(n/a.getOptions().rowHeight),a.getDataLength()));if(r!==t.insertBefore){var o={rows:t.selectedRows,insertBefore:r};!1===c.onBeforeMoveRows.notify(o)?(t.guide.css("top",-1e3),t.canMove=!1):(t.guide.css("top",r*a.getOptions().rowHeight),t.canMove=!0),t.insertBefore=r}}}function i(e,t){if(l&&(l=!1,e.stopImmediatePropagation(),t.guide.remove(),t.selectionProxy.remove(),t.canMove)){var n={rows:t.selectedRows,insertBefore:t.insertBefore};c.onMoveRows.notify(n)}}var a=void 0,s=void 0,l=void 0,c=this,u=new r.default.EventHandler,d={cancelEditOnDrag:!1};Object.assign(this,{onBeforeMoveRows:new r.default.Event,onMoveRows:new r.default.Event,init:function(r){e=Object.assign({},d,e),s=(a=r).getCanvasNode(),u.subscribe(a.onDragInit,t).subscribe(a.onDragStart,n).subscribe(a.onDrag,o).subscribe(a.onDragEnd,i)},destroy:function(){u.unsubscribeAll()}})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(24));t.default=r.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=r(n(1));t.default=function(e){function t(e){return function(){g||(g=!0,e.apply(this,arguments),g=!1)}}function n(e){for(var t=[],n=0;n<e.length;n++)for(var r=e[n].fromRow;r<=e[n].toRow;r++)t.push(r);return t}function r(e){for(var t=[],n=d.getColumns().length-1,r=0;r<e.length;r++)t.push(new i.default.Range(e[r],0,e[r],n));return t}function a(){return n(f)}function s(e){(f&&0!==f.length||e&&0!==e.length)&&(f=e,h.onSelectedRangesChanged.notify(f))}function l(e,t){m.selectActiveRow&&null!=t.row&&s([new i.default.Range(t.row,0,t.row,d.getColumns().length-1)])}function c(e){var t=d.getActiveCell();if(t&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&(38==e.which||40==e.which)){var n=a();n.sort((function(e,t){return e-t})),n.length||(n=[t.row]);var o,i=n[0],l=n[n.length-1];(o=40==e.which?t.row<l||i==l?++l:++i:t.row<l?--l:--i)>=0&&o<d.getDataLength()&&(d.scrollRowIntoView(o),f=r(function(e,t){var n=void 0,r=[];for(n=e;n<=t;n++)r.push(n);for(n=t;n<e;n++)r.push(n);return r}(i,l)),s(f)),e.preventDefault(),e.stopPropagation()}}function u(e){var t=d.getCellFromEvent(e);if(!t||!d.canCellBeActive(t.row,t.cell))return!1;if(!d.getOptions().multiSelect||!e.ctrlKey&&!e.shiftKey&&!e.metaKey)return!1;var i=n(f),a=o.default.inArray(t.row,i);if(-1===a&&(e.ctrlKey||e.metaKey))i.push(t.row),d.setActiveCell(t.row,t.cell);else if(-1!==a&&(e.ctrlKey||e.metaKey))i=o.default.grep(i,(function(e,n){return e!==t.row})),d.setActiveCell(t.row,t.cell);else if(i.length&&e.shiftKey){var l=i.pop(),c=Math.min(t.row,l),u=Math.max(t.row,l);i=[];for(var h=c;h<=u;h++)h!==l&&i.push(h);i.push(l),d.setActiveCell(t.row,t.cell)}return s(f=r(i)),e.stopImmediatePropagation(),!0}var d=void 0,f=[],h=this,p=new i.default.EventHandler,g=void 0,m=void 0,v={selectActiveRow:!0};Object.assign(this,{getSelectedRows:a,setSelectedRows:function(e){s(r(e))},getSelectedRanges:function(){return f},setSelectedRanges:s,init:function(n){m=Object.assign({},v,e),d=n,p.subscribe(d.onActiveCellChanged,t(l)),p.subscribe(d.onKeyDown,t(c)),p.subscribe(d.onClick,t(u))},destroy:function(){p.unsubscribeAll()},onSelectedRangesChanged:new i.default.Event})}},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Plugins=t.FrozenGrid=t.Grid=t.Data=t.Formatters=t.Editors=t.Slick=void 0;var o=r(n(1)),i=r(n(28)),a=r(n(27)),s=r(n(30)),l=r(n(26)),c=r(n(29)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6));t.Slick=o.default,t.Editors=i.default,t.Formatters=c.default,t.Data=a.default,t.Grid=s.default,t.FrozenGrid=l.default,t.Plugins=u},function(module,exports,__webpack_require__){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function SlickGrid(container,data,columns,options){function init(){if(($container=(0,_jquery2.default)(container)).length<1)throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.");maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight(),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),options=_jquery2.default.extend({},defaults,options),validateAndEnforceOptions(),columnDefaults.width=options.defaultColumnWidth,treeColumns=new _slick2.default.TreeColumns(columns),columns=treeColumns.extractColumns(),columnsById={};for(var e=0;e<columns.length;e++){var t=columns[e]=_jquery2.default.extend({},columnDefaults,columns[e]);columnsById[t.id]=e,t.minWidth&&t.width<t.minWidth&&(t.width=t.minWidth),t.maxWidth&&t.width>t.maxWidth&&(t.width=t.maxWidth)}if(editController={commitCurrentEdit:commitCurrentEdit,cancelCurrentEdit:cancelCurrentEdit},$container.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($container.css("position"))||$container.css("position","relative"),$focusSink=(0,_jquery2.default)("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo($container),$paneHeaderL=(0,_jquery2.default)("<div class='slick-pane slick-pane-header slick-pane-left' tabIndex='0' />").appendTo($container),$paneHeaderR=(0,_jquery2.default)("<div class='slick-pane slick-pane-header slick-pane-right' tabIndex='0' />").appendTo($container),$paneTopL=(0,_jquery2.default)("<div class='slick-pane slick-pane-top slick-pane-left' tabIndex='0' />").appendTo($container),$paneTopR=(0,_jquery2.default)("<div class='slick-pane slick-pane-top slick-pane-right' tabIndex='0' />").appendTo($container),$paneBottomL=(0,_jquery2.default)("<div class='slick-pane slick-pane-bottom slick-pane-left' tabIndex='0' />").appendTo($container),$paneBottomR=(0,_jquery2.default)("<div class='slick-pane slick-pane-bottom slick-pane-right' tabIndex='0' />").appendTo($container),$headerScrollerL=(0,_jquery2.default)("<div class='ui-state-default slick-header slick-header-left' />").appendTo($paneHeaderL),$headerScrollerR=(0,_jquery2.default)("<div class='ui-state-default slick-header slick-header-right' />").appendTo($paneHeaderR),$headerScroller=(0,_jquery2.default)().add($headerScrollerL).add($headerScrollerR),treeColumns.hasDepth()){$groupHeadersL=[],$groupHeadersR=[];for(var n=0;n<treeColumns.getDepth()-1;n++)$groupHeadersL[n]=(0,_jquery2.default)("<div class='slick-group-header-columns slick-group-header-columns-left' style='left:-1000px' />").appendTo($headerScrollerL),$groupHeadersR[n]=(0,_jquery2.default)("<div class='slick-group-header-columns slick-group-header-columns-right' style='left:-1000px' />").appendTo($headerScrollerR);$groupHeaders=(0,_jquery2.default)().add($groupHeadersL).add($groupHeadersR)}$headerL=(0,_jquery2.default)("<div class='slick-header-columns slick-header-columns-left' style='left:-1000px' />").appendTo($headerScrollerL),$headerR=(0,_jquery2.default)("<div class='slick-header-columns slick-header-columns-right' style='left:-1000px' />").appendTo($headerScrollerR),$headers=(0,_jquery2.default)().add($headerL).add($headerR),$headerRowScrollerL=(0,_jquery2.default)("<div class='ui-state-default slick-headerrow' />").appendTo($paneTopL),$headerRowScrollerR=(0,_jquery2.default)("<div class='ui-state-default slick-headerrow' />").appendTo($paneTopR),$headerRowScroller=(0,_jquery2.default)().add($headerRowScrollerL).add($headerRowScrollerR),$headerRowSpacerL=(0,_jquery2.default)("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($headerRowScrollerL),$headerRowSpacerR=(0,_jquery2.default)("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($headerRowScrollerR),$headerRowL=(0,_jquery2.default)("<div class='slick-headerrow-columns slick-headerrow-columns-left' />").appendTo($headerRowScrollerL),$headerRowR=(0,_jquery2.default)("<div class='slick-headerrow-columns slick-headerrow-columns-right' />").appendTo($headerRowScrollerR),$headerRow=(0,_jquery2.default)().add($headerRowL).add($headerRowR),$topPanelScrollerL=(0,_jquery2.default)("<div class='ui-state-default slick-top-panel-scroller' />").appendTo($paneTopL),$topPanelScrollerR=(0,_jquery2.default)("<div class='ui-state-default slick-top-panel-scroller' />").appendTo($paneTopR),$topPanelScroller=(0,_jquery2.default)().add($topPanelScrollerL).add($topPanelScrollerR),$topPanelL=(0,_jquery2.default)("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScrollerL),$topPanelR=(0,_jquery2.default)("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScrollerR),$topPanel=(0,_jquery2.default)().add($topPanelL).add($topPanelR),options.showTopPanel||$topPanelScroller.hide(),options.showHeaderRow||$headerRowScroller.hide(),$viewportTopL=(0,_jquery2.default)("<div class='slick-viewport slick-viewport-top slick-viewport-left' tabIndex='0' hideFocus />").appendTo($paneTopL),$viewportTopR=(0,_jquery2.default)("<div class='slick-viewport slick-viewport-top slick-viewport-right' tabIndex='0' hideFocus />").appendTo($paneTopR),$viewportBottomL=(0,_jquery2.default)("<div class='slick-viewport slick-viewport-bottom slick-viewport-left' tabIndex='0' hideFocus />").appendTo($paneBottomL),$viewportBottomR=(0,_jquery2.default)("<div class='slick-viewport slick-viewport-bottom slick-viewport-right' tabIndex='0' hideFocus />").appendTo($paneBottomR),$viewport=(0,_jquery2.default)().add($viewportTopL).add($viewportTopR).add($viewportBottomL).add($viewportBottomR),$activeViewportNode=$viewportTopL,$canvasTopL=(0,_jquery2.default)("<div class='grid-canvas grid-canvas-top grid-canvas-left' tabIndex='0' hideFocus />").appendTo($viewportTopL),$canvasTopR=(0,_jquery2.default)("<div class='grid-canvas grid-canvas-top grid-canvas-right' tabIndex='0' hideFocus />").appendTo($viewportTopR),$canvasBottomL=(0,_jquery2.default)("<div class='grid-canvas grid-canvas-bottom grid-canvas-left' tabIndex='0' hideFocus />").appendTo($viewportBottomL),$canvasBottomR=(0,_jquery2.default)("<div class='grid-canvas grid-canvas-bottom grid-canvas-right' tabIndex='0' hideFocus />").appendTo($viewportBottomR),$canvas=(0,_jquery2.default)().add($canvasTopL).add($canvasTopR).add($canvasBottomL).add($canvasBottomR),$activeCanvasNode=$canvasTopL,$footerRowScrollerR=(0,_jquery2.default)("<div class='ui-state-default slick-footerrow' />").appendTo($paneTopR),$footerRowScrollerL=(0,_jquery2.default)("<div class='ui-state-default slick-footerrow' />").appendTo($paneTopL),$footerRowScroller=(0,_jquery2.default)().add($footerRowScrollerL).add($footerRowScrollerR),$footerRowSpacerL=(0,_jquery2.default)("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($footerRowScrollerL),$footerRowSpacerR=(0,_jquery2.default)("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($footerRowScrollerR),$footerRowL=(0,_jquery2.default)("<div class='slick-footerrow-columns slick-footerrow-columns-left' />").appendTo($footerRowScrollerL),$footerRowR=(0,_jquery2.default)("<div class='slick-footerrow-columns slick-footerrow-columns-right' />").appendTo($footerRowScrollerR),$footerRow=(0,_jquery2.default)().add($footerRowL).add($footerRowR),options.showFooterRow||$footerRowScroller.hide(),$focusSink2=$focusSink.clone().appendTo($container),options.explicitInitialization||finishInitialization()}function finishInitialization(){initialized||(initialized=!0,getViewportWidth(),getViewportHeight(),measureCellPaddingAndBorder(),disableSelection($headers),options.enableTextSelectionOnCells||$viewport.bind("selectstart.ui",(function(e){return(0,_jquery2.default)(e.target).is("input,textarea")})),setFrozenOptions(),setPaneVisibility(),setScroller(),setOverflow(),updateColumnCaches(),createColumnHeaders(),createColumnGroupHeaders(),createColumnFooter(),setupColumnSort(),createCssRules(),resizeCanvas(),bindAncestorScrollEvents(),$container.bind("resize.slickgrid",resizeCanvas),$viewport.on("scroll",handleScroll),_jquery2.default.fn.mousewheel&&(options.frozenColumn>-1||hasFrozenRows)&&$viewport.on("mousewheel",handleMouseWheel),$headerScroller.bind("contextmenu",handleHeaderContextMenu).bind("click",handleHeaderClick).delegate(".slick-header-column","mouseenter",handleHeaderMouseEnter).delegate(".slick-header-column","mouseleave",handleHeaderMouseLeave),$headerRowScroller.bind("scroll",handleHeaderRowScroll),$footerRowScroller.bind("scroll",handleFooterRowScroll),$focusSink.add($focusSink2).bind("keydown",handleKeyDown),$canvas.bind("keydown",handleKeyDown).bind("click",handleClick).bind("dblclick",handleDblClick).bind("contextmenu",handleContextMenu).delegate(".slick-cell","mouseenter",handleMouseEnter).delegate(".slick-cell","mouseleave",handleMouseLeave),(0,_interact2.default)($canvas[0]).allowFrom("div.slick-cell").draggable({onmove:handleDrag,onstart:handleDragStart,onend:handleDragEnd}).styleCursor(!1),navigator.userAgent.toLowerCase().match(/webkit/)&&navigator.userAgent.toLowerCase().match(/macintosh/)&&$canvas.on("mousewheel",handleMouseWheel))}function hasFrozenColumns(){return options.frozenColumn>-1}function registerPlugin(e){plugins.unshift(e),e.init(self)}function unregisterPlugin(e){for(var t=plugins.length;t>=0;t--)if(plugins[t]===e){plugins[t].destroy&&plugins[t].destroy(),plugins.splice(t,1);break}}function setSelectionModel(e){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),(selectionModel=e)&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(){return $canvas[0]}function getActiveCanvasNode(e){return setActiveCanvasNode(e),$activeCanvasNode[0]}function getCanvases(){return $canvas}function setActiveCanvasNode(e){e&&($activeCanvasNode=(0,_jquery2.default)(e.target).closest(".grid-canvas"))}function getViewportNode(){return $viewport[0]}function getActiveViewportNode(e){return setActiveViewportNode(e),$activeViewportNode[0]}function setActiveViewportNode(e){e&&($activeViewportNode=(0,_jquery2.default)(e.target).closest(".slick-viewport"))}function measureScrollbar(){var e=(0,_jquery2.default)("<div class='scrollbar-fix' style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo(document.body),t={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),t}function getHeadersWidth(){headersWidth=headersWidthL=headersWidthR=0;for(var e=0,t=columns.length;e<t;e++){var n=columns[e].width;options.frozenColumn>-1&&e>options.frozenColumn?headersWidthR+=n:headersWidthL+=n}hasFrozenColumns()?(headersWidthL+=1e3,headersWidthR=Math.max(headersWidthR,viewportW)+headersWidthL,headersWidthR+=scrollbarDimensions.width):(headersWidthL+=scrollbarDimensions.width,headersWidthL=Math.max(headersWidthL,viewportW)+1e3),headersWidth=headersWidthL+headersWidthR}function getHeadersWidthL(){return headersWidthL=0,columns.forEach((function(e,t){options.frozenColumn>-1&&t>options.frozenColumn||(headersWidthL+=e.width)})),hasFrozenColumns()?headersWidthL+=1e3:(headersWidthL+=scrollbarDimensions.width,headersWidthL=Math.max(headersWidthL,viewportW)+1e3),headersWidthL}function getHeadersWidthR(){return headersWidthR=0,columns.forEach((function(e,t){options.frozenColumn>-1&&t>options.frozenColumn&&(headersWidthR+=e.width)})),hasFrozenColumns()&&(headersWidthR=Math.max(headersWidthR,viewportW)+getHeadersWidthL(),headersWidthR+=scrollbarDimensions.width),headersWidthR}function getCanvasWidth(){var e=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW,t=columns.length;for(canvasWidthL=canvasWidthR=0;t--;)hasFrozenColumns()&&t>options.frozenColumn?canvasWidthR+=columns[t].width:canvasWidthL+=columns[t].width;var n=canvasWidthL+canvasWidthR;return options.fullWidthRows?Math.max(n,e):n}function updateCanvasWidth(e){var t,n=canvasWidth,r=canvasWidthL,o=canvasWidthR;((t=(canvasWidth=getCanvasWidth())!==n||canvasWidthL!==r||canvasWidthR!==o)||hasFrozenColumns()||hasFrozenRows)&&($canvasTopL.width(canvasWidthL),getHeadersWidth(),$headerL.width(headersWidthL),$headerR.width(headersWidthR),hasFrozenColumns()?($canvasTopR.width(canvasWidthR),$paneHeaderL.width(canvasWidthL),$paneHeaderR.css("left",canvasWidthL),$paneHeaderR.css("width",viewportW-canvasWidthL),$paneTopL.width(canvasWidthL),$paneTopR.css("left",canvasWidthL),$paneTopR.css("width",viewportW-canvasWidthL),$headerRowScrollerL.width(canvasWidthL),$headerRowScrollerR.width(viewportW-canvasWidthL),$headerRowL.width(canvasWidthL),$headerRowR.width(canvasWidthR),$footerRowScrollerL.width(canvasWidthL),$footerRowScrollerR.width(viewportW-canvasWidthL),$footerRowL.width(canvasWidthL),$footerRowR.width(canvasWidthR),$viewportTopL.width(canvasWidthL),$viewportTopR.width(viewportW-canvasWidthL),hasFrozenRows&&($paneBottomL.width(canvasWidthL),$paneBottomR.css("left",canvasWidthL),$viewportBottomL.width(canvasWidthL),$viewportBottomR.width(viewportW-canvasWidthL),$canvasBottomL.width(canvasWidthL),$canvasBottomR.width(canvasWidthR))):($paneHeaderL.width("100%"),$paneTopL.width("100%"),$headerRowScrollerL.width("100%"),$headerRowL.width(canvasWidth),$footerRowScrollerL.width("100%"),$footerRowL.width(canvasWidth),$viewportTopL.width("100%"),hasFrozenRows&&($viewportBottomL.width("100%"),$canvasBottomL.width(canvasWidthL))),viewportHasHScroll=canvasWidth>viewportW-scrollbarDimensions.width),$headerRowSpacerL.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),$headerRowSpacerR.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),$footerRowSpacerL.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),$footerRowSpacerR.width(canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0)),(t||e)&&applyColumnWidths()}function disableSelection(e){e&&e.jquery&&e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",(function(){return!1}))}function getMaxSupportedCssHeight(){for(var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=(0,_jquery2.default)("<div style='display:none' />").appendTo(document.body);;){var r=2*e;if(n.css("height",r),r>t||n.height()!==r)break;e=r}return n.remove(),e}function bindAncestorScrollEvents(){for(var e=hasFrozenRows&&!options.frozenBottom?$canvasBottomL[0]:$canvasTopL[0];(e=e.parentNode)!=document.body&&null!=e;)if(e==$viewportTopL[0]||e.scrollWidth!=e.clientWidth||e.scrollHeight!=e.clientHeight){var t=(0,_jquery2.default)(e);$boundAncestors=$boundAncestors?$boundAncestors.add(t):t,t.bind("scroll."+uid,handleActiveCellPositionChange)}}function unbindAncestorScrollEvents(){$boundAncestors&&($boundAncestors.unbind("scroll."+uid),$boundAncestors=null)}function updateColumnHeader(e,t,n){if(initialized){var r=getColumnIndex(e);if(null!=r){var o=columns[r],i=$headers.children().eq(r);i&&(void 0!==t&&(columns[r].name=t),void 0!==n&&(columns[r].toolTip=n),trigger(self.onBeforeHeaderCellDestroy,{node:i[0],column:o}),i.attr("title",n||"").children().eq(0).html(t),trigger(self.onHeaderCellRendered,{node:i[0],column:o}))}}}function getHeaderRow(){return hasFrozenColumns()?$headerRow:$headerRow[0]}function getHeaderRowColumn(e){var t,n=getColumnIndex(e);hasFrozenColumns()?n<=options.frozenColumn?t=$headerRowL:(t=$headerRowR,n-=options.frozenColumn+1):t=$headerRowL;var r=t.children().eq(n);return r&&r[0]}function getFooterRow(){return hasFrozenColumns()?$footerRow:$footerRow[0]}function getFooterRowColumn(e){var t,n=getColumnIndex(e);hasFrozenColumns()?n<=options.frozenColumn?t=$footerRowL:(t=$footerRowR,n-=options.frozenColumn+1):t=$footerRowL;var r=t.children().eq(n);return r&&r[0]}function createColumnFooter(){$footerRow.find(".slick-footerrow-column").each((function(){var e=(0,_jquery2.default)(this).data("column");e&&trigger(self.onBeforeFooterRowCellDestroy,{node:this,column:e})})),$footerRowL.empty(),$footerRowR.empty();for(var e=0;e<columns.length;e++){var t=columns[e],n=(0,_jquery2.default)("<div class='ui-state-default slick-footerrow-column l"+e+" r"+e+"'></div>").data("column",t).addClass(hasFrozenColumns()&&e<=options.frozenColumn?"frozen":"").appendTo(hasFrozenColumns()&&e>options.frozenColumn?$footerRowR:$footerRowL);trigger(self.onFooterRowCellRendered,{node:n[0],column:t})}}function createColumnGroupHeaders(){var e=0,t=!1;if(treeColumns.hasDepth()){for(var n=0;n<$groupHeadersL.length;n++){$groupHeadersL[n].empty(),$groupHeadersR[n].empty();var r=treeColumns.getColumnsInDepth(n);for(var o in r){var i=r[o];e+=i.extractColumns().length,hasFrozenColumns()&&0==n&&e-1===options.frozenColumn&&(t=!0),(0,_jquery2.default)("<div class='ui-state-default slick-group-header-column' />").html("<span class='slick-column-name'>"+i.name+"</span>").attr("id",""+uid+i.id).attr("title",i.toolTip||"").data("column",i).addClass(i.headerCssClass||"").addClass(hasFrozenColumns()&&e-1<=options.frozenColumn?"frozen":"").appendTo(hasFrozenColumns()&&e-1>options.frozenColumn?$groupHeadersR[n]:$groupHeadersL[n])}if(hasFrozenColumns()&&0==n&&!t){$groupHeadersL[n].empty(),$groupHeadersR[n].empty(),alert("All columns of group should to be grouped!");break}}applyColumnGroupHeaderWidths()}}function createColumnHeaders(){function e(){(0,_jquery2.default)(this).addClass("ui-state-hover")}function t(){(0,_jquery2.default)(this).removeClass("ui-state-hover")}$headers.find(".slick-header-column").each((function(){var e=(0,_jquery2.default)(this).data("column");e&&trigger(self.onBeforeHeaderCellDestroy,{node:this,column:e})})),$headerL.empty(),$headerR.empty(),getHeadersWidth(),$headerL.width(headersWidthL),$headerR.width(headersWidthR),$headerRow.find(".slick-headerrow-column").each((function(){var e=(0,_jquery2.default)(this).data("column");e&&trigger(self.onBeforeHeaderRowCellDestroy,{node:this,column:e})})),$headerRowL.empty(),$headerRowR.empty();for(var n=0;n<columns.length;n++){var r=columns[n],o=hasFrozenColumns()?n<=options.frozenColumn?$headerL:$headerR:$headerL,i=hasFrozenColumns()?n<=options.frozenColumn?$headerRowL:$headerRowR:$headerRowL,a=(0,_jquery2.default)("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+r.name+"</span>").width(r.width-headerColumnWidthDiff).attr("id",""+uid+r.id).attr("title",r.toolTip||"").data("column",r).addClass(r.headerCssClass||"").addClass(hasFrozenColumns()&&n<=options.frozenColumn?"frozen":"").appendTo(o);if((options.enableColumnReorder||r.sortable)&&a.on("mouseenter",e).on("mouseleave",t),r.sortable&&(a.addClass("slick-header-sortable"),a.append("<span class='slick-sort-indicator' />")),trigger(self.onHeaderCellRendered,{node:a[0],column:r}),options.showHeaderRow){var s=(0,_jquery2.default)("<div class='ui-state-default slick-headerrow-column l"+n+" r"+n+"'></div>").data("column",r).appendTo(i);trigger(self.onHeaderRowCellRendered,{node:s[0],column:r})}}setSortColumns(sortColumns),setupColumnResize(),options.enableColumnReorder&&setupColumnReorder()}function setupColumnSort(){$headers.click((function(e){if(e.metaKey=e.metaKey||e.ctrlKey,!(0,_jquery2.default)(e.target).hasClass("slick-resizable-handle")){var t=(0,_jquery2.default)(e.target).closest(".slick-header-column");if(t.length){var n=t.data("column");if(n.sortable){if(!getEditorLock().commitCurrentEdit())return;for(var r=null,o=0;o<sortColumns.length;o++)if(sortColumns[o].columnId==n.id){(r=sortColumns[o]).sortAsc=!r.sortAsc;break}e.metaKey&&options.multiColumnSort?r&&sortColumns.splice(o,1):((e.shiftKey||e.metaKey)&&options.multiColumnSort||(sortColumns=[]),r?0==sortColumns.length&&sortColumns.push(r):(r={columnId:n.id,sortAsc:n.defaultSortAsc},sortColumns.push(r))),setSortColumns(sortColumns),options.multiColumnSort?trigger(self.onSort,{multiColumnSort:!0,sortCols:_jquery2.default.map(sortColumns,(function(e){return{sortCol:columns[getColumnIndex(e.columnId)],sortAsc:e.sortAsc}}))},e):trigger(self.onSort,{multiColumnSort:!1,sortCol:n,sortAsc:r.sortAsc},e)}}}}))}function currentPositionInHeader(e){var t=0;return $headers.find(".slick-header-column").each((function(n){if(this.id==e)return t=n,!1})),t}function limitPositionInGroup(e){var t,n=0,r=0;return treeColumns.getColumnsInDepth($groupHeadersL.length-1).some((function(o){return n=r,r+=o.columns.length,o.columns.some((function(n){return n.id===e&&(t=o),t})),t})),r--,{start:n,end:r,group:t}}function columnPositionValidInGroup(e){var t=currentPositionInHeader(e[0].id),n=limitPositionInGroup(e.data("column").id),r=n.start<=t&&t<=n.end;return{limit:n,valid:r,message:r?"":'Column "'.concat(e.text(),'" can be reordered only within the "',n.group.name,'" group!')}}function setupColumnReorder(){var e=0,t=0,n=document.createElement("div");n.className="interact-placeholder",(0,_interact2.default)(".slick-header-column",{context:$container[0]}).ignoreFrom(".slick-resizable-handle").draggable({inertia:!0,restrict:{restriction:"parent",endOnly:!0,elementRect:{top:0,left:0,bottom:0,right:0}},autoScroll:!0,axis:"x",onstart:function(r){e=0,t=r.target.offsetWidth,$headers.find(".slick-header-column").each((function(e){(0,_jquery2.default)(this).data("index",e)})),n.style.height=r.target.offsetHeight+"px",n.style.width=t+"px",(0,_jquery2.default)(r.target).after(n).css({position:"absolute",zIndex:1e3,marginLeft:(0,_jquery2.default)(r.target).position().left-1e3})},onmove:function(t){e+=t.dx,t.target.style.transform="translate3d("+e+"px, -3px, 100px)"},onend:function(r){if(e=0,t=0,treeColumns.hasDepth()){var o=columnPositionValidInGroup((0,_jquery2.default)(r.target)),i=o.limit,a=!o.valid;a&&alert(o.message)}if(n.parentNode.removeChild(n),a)return r.target.style.transform="none",void setColumns(getColumns());(0,_jquery2.default)(r.target).css({position:"relative",zIndex:"",marginLeft:0,transform:"none"});var s=[];$headers.find(".slick-header-column").each((function(e){s.push(columns[(0,_jquery2.default)(this).data("index")]),(0,_jquery2.default)(this).removeData("index")})),setColumns(s),trigger(self.onColumnsReordered,{impactedColumns:getImpactedColumns(i),grid:self}),setupColumnResize()}}).dropzone({accept:".slick-header-column",ondragenter:function(e){e.target.classList.add("interact-drop-active"),e.relatedTarget.classList.add("interact-can-drop")},ondragleave:function(e){e.target.classList.remove("interact-drop-active"),e.relatedTarget.classList.remove("interact-can-drop")},ondrop:function(t){t.target.classList.remove("interact-drop-active"),t.relatedTarget.classList.remove("interact-can-drop"),(0,_jquery2.default)(t.target)[e>0?"after":"before"](t.relatedTarget)}}).styleCursor(!1)}function getImpactedColumns(e){var t=[];if(null!=e)for(var n=e.start;n<=e.end;n++)t.push(columns[n]);else t=columns;return t}function setupColumnResize(){var e,t,n,r;(t=$headers.children()).find(".slick-resizable-handle").remove(),t.each((function(e,t){columns[e].resizable&&(void 0===n&&(n=e),r=e)})),void 0!==n&&t.each((function(t,o){if(!(t<n||options.forceFitColumns&&t>=r)&&(e=(0,_jquery2.default)(o),(0,_jquery2.default)("<div class='slick-resizable-handle' />").appendTo(o),!e.data("resizable"))){var i=columns[t];i.resizable&&(e.data("resizable",!0),(0,_interact2.default)(o).resizable({preserveAspectRatio:!1,edges:{left:!0,right:!0,bottom:!1,top:!1}}).on("resizestart",(function(e){return!!getEditorLock().commitCurrentEdit()&&(i.previousWidth=e.rect.width,void e.target.classList.add("slick-header-column-active"))})).on("resizemove",(function(e){var t=e.dx,n=i.width+=t;i.minWidth>0&&i.minWidth>n?n=i.minWidth:i.maxWidth>0&&i.maxWidth<n&&(n=i.maxWidth),i.width=n,options.forceFitColumns&&autosizeColumns(),applyColumnHeaderWidths(),options.syncColumnCellResize&&applyColumnWidths()})).on("resizeend",(function(e){e.target.classList.remove("slick-header-column-active"),treeColumns.hasDepth()&&createColumnGroupHeaders(),invalidateAllRows(),updateCanvasWidth(!0),render(),trigger(self.onColumnsResized,{grid:self})})))}}))}function getVBoxDelta(e){var t=0;return _jquery2.default.each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],(function(n,r){t+=parseFloat(e.css(r))||0})),t}function setFrozenOptions(){if(options.frozenColumn=options.frozenColumn>=0&&options.frozenColumn<columns.length?parseInt(options.frozenColumn):-1,options.frozenRow=options.frozenRow>=0&&options.frozenRow<numVisibleRows?parseInt(options.frozenRow):-1,options.frozenRow>-1){hasFrozenRows=!0,frozenRowsHeight=options.frozenRow*options.rowHeight;var e=getDataLength()||this.data.length;actualFrozenRow=options.frozenBottom?e-options.frozenRow:options.frozenRow}else hasFrozenRows=!1}function setPaneVisibility(){hasFrozenColumns()?($paneHeaderR.show(),$paneTopR.show(),hasFrozenRows?($paneBottomL.show(),$paneBottomR.show()):($paneBottomR.hide(),$paneBottomL.hide())):($paneHeaderR.hide(),$paneTopR.hide(),$paneBottomR.hide(),hasFrozenRows?$paneBottomL.show():($paneBottomR.hide(),$paneBottomL.hide()))}function setOverflow(){$viewportTopL.css({"overflow-x":hasFrozenColumns()?hasFrozenRows?"hidden":"scroll":hasFrozenRows?"hidden":"auto","overflow-y":hasFrozenColumns()?"hidden":hasFrozenRows?"scroll":"auto"}),$viewportTopR.css({"overflow-x":hasFrozenColumns()?hasFrozenRows?"hidden":"scroll":hasFrozenRows?"hidden":"auto","overflow-y":(hasFrozenColumns(),hasFrozenRows?"scroll":"auto")}),$viewportBottomL.css({"overflow-x":hasFrozenColumns()&&hasFrozenRows?"scroll":"auto","overflow-y":hasFrozenColumns()?"hidden":hasFrozenRows?"scroll":"auto"}),$viewportBottomR.css({"overflow-x":hasFrozenColumns()&&hasFrozenRows?"scroll":"auto","overflow-y":(hasFrozenColumns(),"auto")})}function setScroller(){hasFrozenColumns()?($headerScrollContainer=$headerScrollerR,$headerRowScrollContainer=$headerRowScrollerR,$footerRowScrollContainer=$footerRowScrollerR,hasFrozenRows?options.frozenBottom?($viewportScrollContainerX=$viewportBottomR,$viewportScrollContainerY=$viewportTopR):$viewportScrollContainerX=$viewportScrollContainerY=$viewportBottomR:$viewportScrollContainerX=$viewportScrollContainerY=$viewportTopR):($headerScrollContainer=$headerScrollerL,$headerRowScrollContainer=$headerRowScrollerL,$footerRowScrollContainer=$footerRowScrollerL,hasFrozenRows?options.frozenBottom?($viewportScrollContainerX=$viewportBottomL,$viewportScrollContainerY=$viewportTopL):$viewportScrollContainerX=$viewportScrollContainerY=$viewportBottomL:$viewportScrollContainerX=$viewportScrollContainerY=$viewportTopL)}function measureCellPaddingAndBorder(){var e,t=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];e=(0,_jquery2.default)("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers),headerColumnWidthDiff=headerColumnHeightDiff=0,"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&(_jquery2.default.each(t,(function(t,n){headerColumnWidthDiff+=parseFloat(e.css(n))||0})),_jquery2.default.each(n,(function(t,n){headerColumnHeightDiff+=parseFloat(e.css(n))||0}))),e.remove();var r=(0,_jquery2.default)("<div class='slick-row' />").appendTo($canvas);e=(0,_jquery2.default)("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(r),cellWidthDiff=cellHeightDiff=0,"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&(_jquery2.default.each(t,(function(t,n){cellWidthDiff+=parseFloat(e.css(n))||0})),_jquery2.default.each(n,(function(t,n){cellHeightDiff+=parseFloat(e.css(n))||0}))),r.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=(0,_jquery2.default)("<style type='text/css' rel='stylesheet' />").appendTo((0,_jquery2.default)("head"));for(var e=options.rowHeight-cellHeightDiff,t=["."+uid+" .slick-group-header-column { left: 1000px; }","."+uid+" .slick-header-column { left: 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-cell { height:"+e+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }","."+uid+" .slick-footerrow-columns { height:"+options.footerRowHeight+"px; }"],n=0;n<columns.length;n++)t.push("."+uid+" .l"+n+" { }"),t.push("."+uid+" .r"+n+" { }");$style[0].styleSheet?$style[0].styleSheet.cssText=t.join(" "):$style[0].appendChild(document.createTextNode(t.join(" ")))}function getColumnCssRules(e){if(!stylesheet){for(var t=document.styleSheets,n=0;n<t.length;n++)if((t[n].ownerNode||t[n].owningElement)==$style[0]){stylesheet=t[n];break}if(!stylesheet)throw new Error("Cannot find stylesheet.");columnCssRulesL=[],columnCssRulesR=[];var r,o,i=stylesheet.cssRules||stylesheet.rules;for(n=0;n<i.length;n++){var a=i[n].selectorText;(r=/\.l\d+/.exec(a))?(o=parseInt(r[0].substr(2,r[0].length-2),10),columnCssRulesL[o]=i[n]):(r=/\.r\d+/.exec(a))&&(o=parseInt(r[0].substr(2,r[0].length-2),10),columnCssRulesR[o]=i[n])}}return{left:columnCssRulesL[e],right:columnCssRulesR[e]}}function removeCssRules(){$style.remove(),stylesheet=null}function destroy(){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{});for(var e=plugins.length;e--;)unregisterPlugin(plugins[e]);unbindAncestorScrollEvents(),$container.unbind(".slickgrid"),removeCssRules(),$container.empty().removeClass(uid)}function trigger(e,t,n){return n=n||new _slick2.default.EventData,(t=t||{}).grid=self,e.notify(t,n,self)}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(e){return columnsById[e]}function autosizeColumns(){var e,t,n,r=[],o=0,i=0,a=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW;for(e=0;e<columns.length;e++)t=columns[e],r.push(t.width),i+=t.width,t.resizable&&(o+=t.width-Math.max(t.minWidth,absoluteColumnMinWidth));for(n=i;i>a&&o;){var s=(i-a)/o;for(e=0;e<columns.length&&i>a;e++){t=columns[e];var l=r[e];if(!(!t.resizable||l<=t.minWidth||l<=absoluteColumnMinWidth)){var c=Math.max(t.minWidth,absoluteColumnMinWidth),u=Math.floor(s*(l-c))||1;i-=u=Math.min(u,l-c),o-=u,r[e]-=u}}if(n<=i)break;n=i}for(n=i;i<a;){var d=a/i;for(e=0;e<columns.length&&i<a;e++){t=columns[e];var f,h=r[e];i+=f=!t.resizable||t.maxWidth<=h?0:Math.min(Math.floor(d*h)-h,t.maxWidth-h||1e6)||1,r[e]+=f}if(n>=i)break;n=i}var p=!1;for(e=0;e<columns.length;e++)columns[e].rerenderOnResize&&columns[e].width!=r[e]&&(p=!0),columns[e].width=r[e];applyColumnHeaderWidths(),applyColumnGroupHeaderWidths(),updateCanvasWidth(!0),p&&(invalidateAllRows(),render())}function applyColumnGroupHeaderWidths(){if(treeColumns.hasDepth())for(var e=$groupHeadersL.length-1;e>=0;e--)treeColumns.getColumnsInDepth(e),(0,_jquery2.default)().add($groupHeadersL[e]).add($groupHeadersR[e]).each((function(e){var t=(0,_jquery2.default)(this),n=0;t.width(0==e?getHeadersWidthL():getHeadersWidthR()),t.children().each((function(){var e=(0,_jquery2.default)(this),r=(0,_jquery2.default)(this).data("column");r.width=0,r.columns.forEach((function(){var e=t.next().children(":eq("+n+++")");r.width+=e.outerWidth()})),e.width(r.width-headerColumnWidthDiff)}))}))}function applyColumnHeaderWidths(){if(initialized){for(var e,t=0,n=$headers.children(),r=n.length;t<r;t++)(e=(0,_jquery2.default)(n[t])).width()!==columns[t].width-headerColumnWidthDiff&&e.width(columns[t].width-headerColumnWidthDiff);updateColumnCaches()}}function applyColumnWidths(){for(var e,t,n=0,r=0;r<columns.length;r++)e=columns[r].width,(t=getColumnCssRules(r)).left.style.left=n+"px",t.right.style.right=(-1!=options.frozenColumn&&r>options.frozenColumn?canvasWidthR:canvasWidthL)-n-e+"px",options.frozenColumn==r?n=0:n+=columns[r].width}function setSortColumn(e,t){setSortColumns([{columnId:e,sortAsc:t}])}function setSortColumns(e){sortColumns=e;var t=$headers.children();t.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),_jquery2.default.each(sortColumns,(function(e,n){null==n.sortAsc&&(n.sortAsc=!0);var r=getColumnIndex(n.columnId);null!=r&&t.eq(r).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(n.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")}))}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(e,t){selectedRows=[];for(var n={},r=0;r<t.length;r++)for(var o=t[r].fromRow;o<=t[r].toRow;o++){n[o]||(selectedRows.push(o),n[o]={});for(var i=t[r].fromCell;i<=t[r].toCell;i++)canCellBeSelected(o,i)&&(n[o][columns[i].id]=options.selectedCellCssClass)}setCellCssStyles(options.selectedCellCssClass,n),trigger(self.onSelectedRowsChanged,{rows:getSelectedRows()},e)}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[],columnPosRight=[];for(var e=0,t=0,n=columns.length;t<n;t++)columnPosLeft[t]=e,columnPosRight[t]=e+columns[t].width,options.frozenColumn==t?e=0:e+=columns[t].width}function setColumns(e){var t=new _slick2.default.TreeColumns(e);t.hasDepth()?columns=(treeColumns=t).extractColumns():columns=e,columnsById={};for(var n=0;n<columns.length;n++){var r=columns[n]=_jquery2.default.extend({},columnDefaults,columns[n]);columnsById[r.id]=n,r.minWidth&&r.width<r.minWidth&&(r.width=r.minWidth),r.maxWidth&&r.width>r.maxWidth&&(r.width=r.maxWidth)}updateColumnCaches(),initialized&&(setPaneVisibility(),setOverflow(),invalidateAllRows(),createColumnHeaders(),createColumnGroupHeaders(),createColumnFooter(),removeCssRules(),createCssRules(),resizeCanvas(),updateCanvasWidth(),applyColumnWidths(),handleScroll())}function getOptions(){return options}function setOptions(e){getEditorLock().commitCurrentEdit()&&(makeActiveCellNormal(),options.enableAddRow!==e.enableAddRow&&invalidateRow(getDataLength()),options=_jquery2.default.extend(options,e),validateAndEnforceOptions(),setFrozenOptions(),setScroller(),zombieRowNodeFromLastMouseWheelEvent=null,setColumns(treeColumns.extractColumns()),render())}function validateAndEnforceOptions(){options.autoHeight&&(options.leaveSpaceForNewRows=!1)}function setData(e,t){data=e,invalidateAllRows(),updateRowCount(),t&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data.length}function getDataLengthIncludingAddNew(){return getDataLength()+(options.enableAddRow?1:0)}function getDataItem(e){return data.getItem?data.getItem(e):data[e]}function getTopPanel(){return $topPanel[0]}function setTopPanelVisibility(e){options.showTopPanel!=e&&(options.showTopPanel=e,e?$topPanelScroller.slideDown("fast",resizeCanvas):$topPanelScroller.slideUp("fast",resizeCanvas))}function setHeaderRowVisibility(e){options.showHeaderRow!=e&&(options.showHeaderRow=e,e?$headerRowScroller.slideDown("fast",resizeCanvas):$headerRowScroller.slideUp("fast",resizeCanvas))}function setFooterRowVisibility(e){options.showFooterRow!=e&&(options.showFooterRow=e,e?$footerRowScroller.fadeIn("fast",resizeCanvas):$footerRowScroller.slideDown("fast",resizeCanvas))}function getContainerNode(){return $container.get(0)}function getRowTop(e){return options.rowHeight*e-offset}function getRowFromPosition(e){return Math.floor((e+offset)/options.rowHeight)}function scrollTo(e){e=Math.max(e,0),e=Math.min(e,th-$viewportScrollContainerY.height()+(viewportHasHScroll||hasFrozenColumns()?scrollbarDimensions.height:0));var t=offset;page=Math.min(n-1,Math.floor(e/ph));var r=e-(offset=Math.round(page*cj));offset!=t&&(cleanupRows(getVisibleRange(r)),updateRowPositions());prevScrollTop!=r&&(vScrollDir=prevScrollTop+t<r+offset?1:-1,lastRenderedScrollTop=scrollTop=prevScrollTop=r,hasFrozenColumns()&&($viewportTopL[0].scrollTop=r),hasFrozenRows&&($viewportBottomL[0].scrollTop=$viewportBottomR[0].scrollTop=r),$viewportScrollContainerY[0].scrollTop=r,trigger(self.onViewportChanged,{}))}function defaultFormatter(e,t,n,r,o){return null==n?"":(n+"").replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">")}function getFormatter(e,t){var n=data.getItemMetadata&&data.getItemMetadata(e),r=n&&n.columns&&(n.columns[t.id]||n.columns[getColumnIndex(t.id)]);return r&&r.formatter||n&&n.formatter||t.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(t)||options.defaultFormatter}function callFormatter(e,t,n,r,o){var i,a=data.getItemMetadata&&data.getItemMetadata(e);if(a=a&&a.columns){var s=a[r.id]||a[t];i=getFormatter(e,r)(e,t,n,r,o,s)}else i=getFormatter(e,r)(e,t,n,r,o);return i}function getEditor(e,t){var n=columns[t],r=data.getItemMetadata&&data.getItemMetadata(e),o=r&&r.columns;return o&&o[n.id]&&void 0!==o[n.id].editor?o[n.id].editor:o&&o[t]&&void 0!==o[t].editor?o[t].editor:n.editor||options.editorFactory&&options.editorFactory.getEditor(n)}function getDataItemValueForColumn(e,t){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(e,t):e[t.field]}function appendRowHtml(e,t,n,r,o){var i=getDataItem(n),a=n<o&&!i,s="slick-row"+(hasFrozenRows&&n<options.frozenRow?" frozen":"")+(a?" loading":"")+(n===activeRow?" active":"")+(n%2==1?" odd":" even");i||(s+=" "+options.addNewRowCssClass);var l=data.getItemMetadata&&data.getItemMetadata(n);l&&l.cssClasses&&(s+=" "+l.cssClasses);var c=getFrozenRowOffset(n),u="<div class='ui-widget-content "+s+"' style='top:"+(getRowTop(n)-c)+"px'>";e.push(u),hasFrozenColumns()&&t.push(u);for(var d,f,h=0,p=columns.length;h<p;h++){if(f=columns[h],d=1,l&&l.columns){var g=l.columns[f.id]||l.columns[h];"*"===(d=g&&g.colspan||1)&&(d=p-h)}if(columnPosRight[Math.min(p-1,h+d-1)]>r.leftPx){if(columnPosLeft[h]>r.rightPx)break;hasFrozenColumns()&&h>options.frozenColumn?appendCellHtml(t,n,h,d,i):appendCellHtml(e,n,h,d,i)}else hasFrozenColumns()&&h<=options.frozenColumn&&appendCellHtml(e,n,h,d,i);d>1&&(h+=d-1)}e.push("</div>"),hasFrozenColumns()&&t.push("</div>")}function appendCellHtml(e,t,n,r,o){var i=columns[n],a="slick-cell l"+n+" r"+Math.min(columns.length-1,n+r-1)+(i.cssClass?" "+i.cssClass:"");for(var s in hasFrozenColumns()&&n<=options.frozenColumn&&(a+=" frozen"),t===activeRow&&n===activeCell&&(a+=" active"),cellCssClasses)cellCssClasses[s][t]&&cellCssClasses[s][t][i.id]&&(a+=" "+cellCssClasses[s][t][i.id]);if(e.push("<div class='"+a+"'>"),o){var l=getDataItemValueForColumn(o,i);e.push(callFormatter(t,n,l,i,o))}e.push("</div>"),rowsCache[t].cellRenderQueue.push(n),rowsCache[t].cellColSpans[n]=r}function cleanupRows(e){for(var t in rowsCache){var n=!0;hasFrozenRows&&(options.frozenBottom&&t>=actualFrozenRow||!options.frozenBottom&&t<=actualFrozenRow)&&(n=!1),(t=parseInt(t,10))!==activeRow&&(t<e.top||t>e.bottom)&&n&&removeRowFromCache(t)}}function invalidate(){updateRowCount(),invalidateAllRows(),render()}function invalidateAllRows(){for(var e in currentEditor&&makeActiveCellNormal(),rowsCache)removeRowFromCache(e)}function removeRowFromCache(e){var t=rowsCache[e];t&&(rowNodeFromLastMouseWheelEvent==t.rowNode[0]||hasFrozenColumns()&&rowNodeFromLastMouseWheelEvent==t.rowNode[1]?(t.rowNode.hide(),zombieRowNodeFromLastMouseWheelEvent=t.rowNode):t.rowNode.each((function(){this.parentElement.removeChild(this)})),delete rowsCache[e],delete postProcessedRows[e],renderedRows--,counter_rows_removed++)}function invalidateRows(e){var t,n;if(e&&e.length)for(vScrollDir=0,t=0,n=e.length;t<n;t++)currentEditor&&activeRow===e[t]&&makeActiveCellNormal(),rowsCache[e[t]]&&removeRowFromCache(e[t])}function invalidateRow(e){invalidateRows([e])}function updateCell(e,t){var n=getCellNode(e,t);if(n){var r=columns[t],o=getDataItem(e);currentEditor&&activeRow===e&&activeCell===t?currentEditor.loadValue(o):(n.innerHTML=o?callFormatter(e,t,getDataItemValueForColumn(o,r),r,o):"",invalidatePostProcessingResults(e))}}function updateRow(e){var t=rowsCache[e];if(t){ensureCellNodesInRowsCache(e);var n=getDataItem(e);for(var r in t.cellNodesByColumnIdx)if(t.cellNodesByColumnIdx.hasOwnProperty(r)){var o=columns[r|=0],i=t.cellNodesByColumnIdx[r][0];e===activeRow&&r===activeCell&&currentEditor?currentEditor.loadValue(n):i.innerHTML=n?callFormatter(e,r,getDataItemValueForColumn(n,o),o,n):""}invalidatePostProcessingResults(e)}}function getViewportHeight(){options.autoHeight?viewportH=options.rowHeight*getDataLengthIncludingAddNew()+(-1==options.frozenColumn?$headers.outerHeight():0):(topPanelH=options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller):0,headerRowH=options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0,footerRowH=options.showFooterRow?options.footerRowHeight+getVBoxDelta($footerRowScroller):0,viewportH=parseFloat(_jquery2.default.css($container[0],"height",!0))-parseFloat(_jquery2.default.css($container[0],"paddingTop",!0))-parseFloat(_jquery2.default.css($container[0],"paddingBottom",!0))-parseFloat(_jquery2.default.css($headerScroller[0],"height"))-getVBoxDelta($headerScroller)-topPanelH-headerRowH-footerRowH),numVisibleRows=Math.ceil(viewportH/options.rowHeight)}function getViewportWidth(){viewportW=parseFloat(_jquery2.default.css($container[0],"width",!0))}function resizeCanvas(){if(initialized){paneTopH=0,paneBottomH=0,viewportTopH=0,getViewportWidth(),getViewportHeight(),hasFrozenRows?options.frozenBottom?(paneTopH=viewportH-frozenRowsHeight-scrollbarDimensions.height,paneBottomH=frozenRowsHeight+scrollbarDimensions.height):(paneTopH=frozenRowsHeight,paneBottomH=viewportH-frozenRowsHeight):paneTopH=viewportH,paneTopH+=topPanelH+headerRowH+footerRowH,hasFrozenColumns()&&options.autoHeight&&(paneTopH+=scrollbarDimensions.height),viewportTopH=paneTopH-topPanelH-headerRowH-footerRowH,options.autoHeight&&(hasFrozenColumns()&&$container.height(paneTopH+parseFloat(_jquery2.default.css($headerScrollerL[0],"height"))),$paneTopL.css("position","relative")),$paneTopL.css({top:$paneHeaderL.height(),height:paneTopH});var e=$paneTopL.position().top+paneTopH;$viewportTopL.height(viewportTopH),hasFrozenColumns()?($paneTopR.css({top:$paneHeaderL.height(),height:paneTopH}),$viewportTopR.height(viewportTopH),hasFrozenRows&&($paneBottomL.css({top:e,height:paneBottomH}),$paneBottomR.css({top:e,height:paneBottomH}),$viewportBottomR.height(paneBottomH))):hasFrozenRows&&($paneBottomL.css({width:"100%",height:paneBottomH}),$paneBottomL.css("top",e)),hasFrozenRows?($viewportBottomL.height(paneBottomH),options.frozenBottom?($canvasBottomL.height(frozenRowsHeight),hasFrozenColumns()&&$canvasBottomR.height(frozenRowsHeight)):($canvasTopL.height(frozenRowsHeight),hasFrozenColumns()&&$canvasTopR.height(frozenRowsHeight))):$viewportTopR.height(viewportTopH),options.forceFitColumns&&autosizeColumns(),updateRowCount(),handleScroll(),lastRenderedScrollLeft=-1,render()}}function updateRowCount(){if(initialized){var e=getDataLengthIncludingAddNew(),t=0,r=hasFrozenRows&&!options.frozenBottom?$canvasBottomL.height():$canvasTopL.height();if(hasFrozenRows)t=getDataLength()-options.frozenRow;else t=e+(options.leaveSpaceForNewRows?numVisibleRows-1:0);var o=$viewportScrollContainerY.height(),i=viewportHasVScroll;viewportHasVScroll=!options.autoHeight&&t*options.rowHeight>o,makeActiveCellNormal();var a=e-1;for(var s in rowsCache)s>=a&&removeRowFromCache(s);th=Math.max(options.rowHeight*t,o-scrollbarDimensions.height),activeCellNode&&activeRow>a&&resetActiveCell(),th<maxSupportedCssHeight?(h=ph=th,n=1,cj=0):(ph=(h=maxSupportedCssHeight)/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==r&&(hasFrozenRows&&!options.frozenBottom?($canvasBottomL.css("height",h),hasFrozenColumns()&&$canvasBottomR.css("height",h)):($canvasTopL.css("height",h),$canvasTopR.css("height",h)),scrollTop=$viewportScrollContainerY[0].scrollTop);var l=scrollTop+offset<=th-o;0==th||0==scrollTop?page=offset=0:scrollTo(l?scrollTop+offset:th-o),h!=r&&options.autoHeight&&resizeCanvas(),options.forceFitColumns&&i!=viewportHasVScroll&&autosizeColumns(),updateCanvasWidth(!1)}}function getVisibleRange(e,t){return null==e&&(e=scrollTop),null==t&&(t=scrollLeft),{top:getRowFromPosition(e),bottom:getRowFromPosition(e+viewportH)+1,leftPx:t,rightPx:t+viewportW}}function getRenderedRange(e,t){var n=getVisibleRange(e,t),r=Math.round(viewportH/options.rowHeight);return-1==vScrollDir?(n.top-=r,n.bottom+=3):1==vScrollDir?(n.top-=3,n.bottom+=r):(n.top-=3,n.bottom+=3),n.top=Math.max(0,n.top),n.bottom=Math.min(getDataLengthIncludingAddNew()-1,n.bottom),n.leftPx-=viewportW,n.rightPx+=viewportW,n.leftPx=Math.max(0,n.leftPx),n.rightPx=Math.min(canvasWidth,n.rightPx),n}function ensureCellNodesInRowsCache(e){var t=rowsCache[e];if(t&&t.cellRenderQueue.length)for(var n=t.rowNode.children().last();t.cellRenderQueue.length;){var r=t.cellRenderQueue.pop();t.cellNodesByColumnIdx[r]=n,0==(n=n.prev()).length&&(n=(0,_jquery2.default)(t.rowNode[0]).children().last())}}function cleanUpCells(e,t){if(!hasFrozenRows||!(options.frozenBottom&&t>actualFrozenRow||t<=actualFrozenRow)){var n,r=rowsCache[t],o=[];for(var i in r.cellNodesByColumnIdx)if(r.cellNodesByColumnIdx.hasOwnProperty(i)&&!((i|=0)<=options.frozenColumn)){var a=r.cellColSpans[i];(columnPosLeft[i]>e.rightPx||columnPosRight[Math.min(columns.length-1,i+a-1)]<e.leftPx)&&(t==activeRow&&i==activeCell||o.push(i))}for(;null!=(n=o.pop());)r.cellNodesByColumnIdx[n][0].parentElement.removeChild(r.cellNodesByColumnIdx[n][0]),delete r.cellColSpans[n],delete r.cellNodesByColumnIdx[n],postProcessedRows[t]&&delete postProcessedRows[t][n]}}function cleanUpAndRenderCells(e){for(var t,n,r,o=[],i=[],a=e.top,s=e.bottom;a<=s;a++)if(t=rowsCache[a]){ensureCellNodesInRowsCache(a),cleanUpCells(e,a),n=0;var l=data.getItemMetadata&&data.getItemMetadata(a);l=l&&l.columns;for(var c=getDataItem(a),u=0,d=columns.length;u<d&&!(columnPosLeft[u]>e.rightPx);u++)if(null==(r=t.cellColSpans[u])){if(r=1,l){var f=l[columns[u].id]||l[u];"*"===(r=f&&f.colspan||1)&&(r=d-u)}columnPosRight[Math.min(d-1,u+r-1)]>e.leftPx&&(appendCellHtml(o,a,u,r,c),n++),u+=r>1?r-1:0}else u+=r>1?r-1:0;n&&i.push(a)}if(o.length){var h,p,g=document.createElement("div");for(g.innerHTML=o.join("");null!=(h=i.pop());){t=rowsCache[h];for(var m;null!=(m=t.cellRenderQueue.pop());)p=(0,_jquery2.default)(g).children().last(),hasFrozenColumns()&&m>options.frozenColumn?(0,_jquery2.default)(t.rowNode[1]).append(p):(0,_jquery2.default)(t.rowNode[0]).append(p),t.cellNodesByColumnIdx[m]=p}}}function renderRows(e){for(var t=[],n=[],r=[],o=!1,i=getDataLength(),a=e.top,s=e.bottom;a<=s;a++)rowsCache[a]||hasFrozenRows&&options.frozenBottom&&a==getDataLength()||(renderedRows++,r.push(a),rowsCache[a]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},appendRowHtml(t,n,a,e,i),activeCellNode&&activeRow===a&&(o=!0),counter_rows_rendered++);if(r.length){var l=document.createElement("div"),c=document.createElement("div");l.innerHTML=t.join(""),c.innerHTML=n.join("");for(a=0,s=r.length;a<s;a++)hasFrozenRows&&r[a]>=actualFrozenRow?hasFrozenColumns()?rowsCache[r[a]].rowNode=(0,_jquery2.default)().add((0,_jquery2.default)(l.firstChild).appendTo($canvasBottomL)).add((0,_jquery2.default)(c.firstChild).appendTo($canvasBottomR)):rowsCache[r[a]].rowNode=(0,_jquery2.default)().add((0,_jquery2.default)(l.firstChild).appendTo($canvasBottomL)):hasFrozenColumns()?rowsCache[r[a]].rowNode=(0,_jquery2.default)().add((0,_jquery2.default)(l.firstChild).appendTo($canvasTopL)).add((0,_jquery2.default)(c.firstChild).appendTo($canvasTopR)):rowsCache[r[a]].rowNode=(0,_jquery2.default)().add((0,_jquery2.default)(l.firstChild).appendTo($canvasTopL));o&&(activeCellNode=getCellNode(activeRow,activeCell))}}function startPostProcessing(){options.enableAsyncPostRender&&(clearTimeout(h_postrender),h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}function invalidatePostProcessingResults(e){delete postProcessedRows[e],postProcessFromRow=Math.min(postProcessFromRow,e),postProcessToRow=Math.max(postProcessToRow,e),startPostProcessing()}function updateRowPositions(){for(var e in rowsCache)rowsCache[e].rowNode.css("top",getRowTop(e)+"px")}function render(){if(initialized){var e=getVisibleRange(),t=getRenderedRange();if(cleanupRows(t),lastRenderedScrollLeft!=scrollLeft){if(hasFrozenRows){var n=_jquery2.default.extend(!0,{},t);options.frozenBottom?(n.top=actualFrozenRow,n.bottom=getDataLength()):(n.top=0,n.bottom=options.frozenRow),cleanUpAndRenderCells(n)}cleanUpAndRenderCells(t)}renderRows(t),hasFrozenRows&&renderRows(options.frozenBottom?{top:actualFrozenRow,bottom:getDataLength()-1,leftPx:t.leftPx,rightPx:t.rightPx}:{top:0,bottom:options.frozenRow-1,leftPx:t.leftPx,rightPx:t.rightPx}),postProcessFromRow=e.top,postProcessToRow=Math.min(getDataLengthIncludingAddNew()-1,e.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,lastRenderedScrollLeft=scrollLeft,h_render=null}}function handleHeaderRowScroll(){var e=$headerRowScrollContainer[0].scrollLeft;e!=$viewportScrollContainerX[0].scrollLeft&&($viewportScrollContainerX[0].scrollLeft=e)}function handleFooterRowScroll(){var e=$footerRowScrollContainer[0].scrollLeft;e!=$viewportScrollContainerX[0].scrollLeft&&($viewportScrollContainerX[0].scrollLeft=e)}function handleMouseWheel(e,t,n,r){var o=(0,_jquery2.default)(e.target).closest(".slick-row"),i=o[0];if(i!=rowNodeFromLastMouseWheelEvent){var a=o.parents(".grid-canvas").hasClass("grid-canvas-left");if(zombieRowNodeFromLastMouseWheelEvent&&zombieRowNodeFromLastMouseWheelEvent[a?0:1]!=i){var s=zombieRowNodeFromLastMouseWheelEvent[a||1==zombieRowNodeFromLastMouseWheelEvent.length?0:1];s.parentElement.removeChild(s),zombieRowNodeFromLastMouseWheelEvent=null}rowNodeFromLastMouseWheelEvent=i}scrollTop=Math.max(0,$viewportScrollContainerY[0].scrollTop-r*options.rowHeight),scrollLeft=$viewportScrollContainerX[0].scrollLeft+10*n,_handleScroll(!0)&&e.preventDefault()}function handleScroll(){return scrollTop=$viewportScrollContainerY[0].scrollTop,scrollLeft=$viewportScrollContainerX[0].scrollLeft,_handleScroll(!1)}function _handleScroll(e){var t=$viewportScrollContainerY[0].scrollHeight-$viewportScrollContainerY[0].clientHeight,r=$viewportScrollContainerY[0].scrollWidth-$viewportScrollContainerY[0].clientWidth,o=hasFrozenColumns();scrollTop>t&&(scrollTop=t),scrollLeft>r&&(scrollLeft=r);var i=Math.abs(scrollTop-prevScrollTop),a=Math.abs(scrollLeft-prevScrollLeft);if(a&&(prevScrollLeft=scrollLeft,$viewportScrollContainerX[0].scrollLeft=scrollLeft,$headerScrollContainer[0].scrollLeft=scrollLeft,$topPanelScroller[0].scrollLeft=scrollLeft,$headerRowScrollContainer[0].scrollLeft=scrollLeft,$footerRowScrollContainer[0].scrollLeft=scrollLeft,o?hasFrozenRows&&($viewportTopR[0].scrollLeft=scrollLeft):hasFrozenRows&&($viewportTopL[0].scrollLeft=scrollLeft)),i)if(vScrollDir=prevScrollTop<scrollTop?1:-1,prevScrollTop=scrollTop,e&&($viewportScrollContainerY[0].scrollTop=scrollTop),o&&(hasFrozenRows&&!options.frozenBottom?$viewportBottomL[0].scrollTop=scrollTop:$viewportTopL[0].scrollTop=scrollTop),i<viewportH)scrollTo(scrollTop+offset);else{var s=offset;page=h==viewportH?0:Math.min(n-1,Math.floor(scrollTop*((th-viewportH)/(h-viewportH))*(1/ph))),s!=(offset=Math.round(page*cj))&&invalidateAllRows()}return(a||i)&&(h_render&&clearTimeout(h_render),(Math.abs(lastRenderedScrollTop-scrollTop)>20||Math.abs(lastRenderedScrollLeft-scrollLeft)>20)&&(options.forceSyncScrolling||Math.abs(lastRenderedScrollTop-scrollTop)<viewportH&&Math.abs(lastRenderedScrollLeft-scrollLeft)<viewportW?render():h_render=setTimeout(render,50),trigger(self.onViewportChanged,{}))),trigger(self.onScroll,{scrollLeft:scrollLeft,scrollTop:scrollTop}),!(!a&&!i)}function asyncPostProcessRows(){for(var e=getDataLength();postProcessFromRow<=postProcessToRow;){var t=vScrollDir>=0?postProcessFromRow++:postProcessToRow--,n=rowsCache[t];if(n&&!(t>=e)){for(var r in postProcessedRows[t]||(postProcessedRows[t]={}),ensureCellNodesInRowsCache(t),n.cellNodesByColumnIdx)if(n.cellNodesByColumnIdx.hasOwnProperty(r)){var o=columns[r|=0];if(o.asyncPostRender&&!postProcessedRows[t][r]){var i=n.cellNodesByColumnIdx[r];i&&o.asyncPostRender(i,t,getDataItem(t),o),postProcessedRows[t][r]=!0}}return void(h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}}}function updateCellCssStylesOnRenderedRows(e,t){var n,r,o,i;for(var a in rowsCache){if(i=t&&t[a],o=e&&e[a],i)for(r in i)o&&i[r]==o[r]||(n=getCellNode(a,getColumnIndex(r)))&&(0,_jquery2.default)(n).removeClass(i[r]);if(o)for(r in o)i&&i[r]==o[r]||(n=getCellNode(a,getColumnIndex(r)))&&(0,_jquery2.default)(n).addClass(o[r])}}function addCellCssStyles(e,t){if(cellCssClasses[e])throw"addCellCssStyles: cell CSS hash with key '"+e+"' already exists.";cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,null),trigger(self.onCellCssStylesChanged,{key:e,hash:t})}function removeCellCssStyles(e){cellCssClasses[e]&&(updateCellCssStylesOnRenderedRows(null,cellCssClasses[e]),delete cellCssClasses[e],trigger(self.onCellCssStylesChanged,{key:e,hash:null}))}function setCellCssStyles(e,t){var n=cellCssClasses[e];cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,n),trigger(self.onCellCssStylesChanged,{key:e,hash:t})}function getCellCssStyles(e){return cellCssClasses[e]}function flashCell(e,t,n){if(n=n||100,rowsCache[e]){var r=(0,_jquery2.default)(getCellNode(e,t));!function e(t){t&&setTimeout((function(){r.queue((function(){r.toggleClass(options.cellFlashingCssClass).dequeue(),e(t-1)}))}),n)}(4)}}function handleDragStart(e){var t=_jquery2.default.Event(e.originalEvent.type,e.originalEvent),n=getCellFromEvent(t);if(!n||!cellExists(n.row,n.cell))return!1;var r=trigger(self.onDragStart,e,t);return!!t.isImmediatePropagationStopped()&&r}function handleDrag(e){var t=_jquery2.default.Event(e.originalEvent.type,e.originalEvent);return trigger(self.onDrag,e,t)}function handleDragEnd(e){trigger(self.onDragEnd,e,_jquery2.default.Event("mousedown"))}function handleKeyDown(e){trigger(self.onKeyDown,{row:activeRow,cell:activeCell},e);var t=e.isImmediatePropagationStopped();if(!t)if(e.shiftKey||e.altKey||e.ctrlKey)9!=e.which||!e.shiftKey||e.ctrlKey||e.altKey||(t=navigatePrev());else if(27==e.which){if(!getEditorLock().isActive())return;cancelEditAndSetFocus()}else 34==e.which?(navigatePageDown(),t=!0):33==e.which?(navigatePageUp(),t=!0):37==e.which?t=navigateLeft():39==e.which?t=navigateRight():38==e.which?t=navigateUp():40==e.which?t=navigateDown():9==e.which?t=navigateNext():13==e.which&&(options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable()),t=!0);if(t){e.stopPropagation(),e.preventDefault();try{e.originalEvent.keyCode=0}catch(e){}}}function handleClick(e){currentEditor||(e.target!=document.activeElement||(0,_jquery2.default)(e.target).hasClass("slick-cell"))&&setFocus();var t=getCellFromEvent(e);!t||null!==currentEditor&&activeRow==t.row&&activeCell==t.cell||(trigger(self.onClick,{row:t.row,cell:t.cell},e),e.isImmediatePropagationStopped()||activeCell==t.cell&&activeRow==t.row||!canCellBeActive(t.row,t.cell)||getEditorLock().isActive()&&!getEditorLock().commitCurrentEdit()||(scrollRowIntoView(t.row,!1),setActiveCellInternal(getCellNode(t.row,t.cell))))}function handleContextMenu(e){var t=(0,_jquery2.default)(e.target).closest(".slick-cell",$canvas);0!==t.length&&(activeCellNode===t[0]&&null!==currentEditor||trigger(self.onContextMenu,{},e))}function handleDblClick(e){var t=getCellFromEvent(e);!t||null!==currentEditor&&activeRow==t.row&&activeCell==t.cell||(trigger(self.onDblClick,{row:t.row,cell:t.cell},e),e.isImmediatePropagationStopped()||options.editable&&gotoCell(t.row,t.cell,!0))}function handleHeaderMouseEnter(e){trigger(self.onHeaderMouseEnter,{column:(0,_jquery2.default)(this).data("column")},e)}function handleHeaderMouseLeave(e){trigger(self.onHeaderMouseLeave,{column:(0,_jquery2.default)(this).data("column")},e)}function handleHeaderContextMenu(e){var t=(0,_jquery2.default)(e.target).closest(".slick-header-column",".slick-header-columns"),n=t&&t.data("column");trigger(self.onHeaderContextMenu,{column:n},e)}function handleHeaderClick(e){var t=(0,_jquery2.default)(e.target).closest(".slick-header-column",".slick-header-columns"),n=t&&t.data("column");n&&trigger(self.onHeaderClick,{column:n},e)}function handleMouseEnter(e){trigger(self.onMouseEnter,{},e)}function handleMouseLeave(e){trigger(self.onMouseLeave,{},e)}function cellExists(e,t){return!(e<0||e>=getDataLength()||t<0||t>=columns.length)}function getCellFromPoint(e,t){for(var n=getRowFromPosition(t),r=0,o=0,i=0;i<columns.length&&o<e;i++)o+=columns[i].width,r++;return r<0&&(r=0),{row:n,cell:r-1}}function getCellFromNode(e){var t=/l\d+/.exec(e.className);if(!t)throw"getCellFromNode: cannot get cell - "+e.className;return parseInt(t[0].substr(1,t[0].length-1),10)}function getRowFromNode(e){for(var t in rowsCache)for(var n in rowsCache[t].rowNode)if(rowsCache[t].rowNode[n]===e)return 0|t;return null}function getFrozenRowOffset(e){return hasFrozenRows?options.frozenBottom?e>=actualFrozenRow?h<viewportTopH?actualFrozenRow*options.rowHeight:h:0:e>=actualFrozenRow?frozenRowsHeight:0:0}function getCellFromEvent(e){var t,n,r=(0,_jquery2.default)(e.target).closest(".slick-cell",$canvas);if(!r.length)return null;if(t=getRowFromNode(r[0].parentNode),hasFrozenRows){var o=r.parents(".grid-canvas").offset(),i=0;r.parents(".grid-canvas-bottom").length&&(i=options.frozenBottom?$canvasTopL.height():frozenRowsHeight),t=getCellFromPoint(e.clientX-o.left,e.clientY-o.top+i+(0,_jquery2.default)(document).scrollTop()).row}return n=getCellFromNode(r[0]),null==t||null==n?null:{row:t,cell:n}}function getCellNodeBox(e,t){if(!cellExists(e,t))return null;for(var n=getFrozenRowOffset(e),r=getRowTop(e)-n,o=r+options.rowHeight-1,i=0,a=0;a<t;a++)i+=columns[a].width,options.frozenColumn==a&&(i=0);return{top:r,left:i,bottom:o,right:i+columns[t].width}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){-1==tabbingDirection?$focusSink[0].focus():$focusSink2[0].focus()}function scrollCellIntoView(e,t,n){if(!(t<=options.frozenColumn)){e<actualFrozenRow&&scrollRowIntoView(e,n);var r=getColspan(e,t),o=columnPosLeft[t],i=columnPosRight[t+(r>1?r-1:0)],a=scrollLeft+$viewportScrollContainerX.width();o<scrollLeft?($viewportScrollContainerX.scrollLeft(o),handleScroll(),render()):i>a&&($viewportScrollContainerX.scrollLeft(Math.min(o,i-$viewportScrollContainerX[0].clientWidth)),handleScroll(),render())}}function setActiveCellInternal(e,t){null!==activeCellNode&&(makeActiveCellNormal(),(0,_jquery2.default)(activeCellNode).removeClass("active"),rowsCache[activeRow]&&(0,_jquery2.default)(rowsCache[activeRow].rowNode).removeClass("active"));var n=activeCellNode!==e;if(null!=(activeCellNode=e)){var r=(0,_jquery2.default)(activeCellNode),o=r.offset(),i=Math.floor(r.parents(".grid-canvas").offset().top),a=r.parents(".grid-canvas-bottom").length;hasFrozenRows&&a&&(i-=options.frozenBottom?$canvasTopL.height():frozenRowsHeight);var s=getCellFromPoint(o.left,Math.ceil(o.top)-i);activeRow=s.row,activeCell=activePosX=activeCell=activePosX=getCellFromNode(activeCellNode[0]),r.addClass("active"),rowsCache[activeRow]&&(0,_jquery2.default)(rowsCache[activeRow].rowNode).addClass("active"),null==t&&(t=activeRow==getDataLength()||options.autoEdit),options.editable&&t&&isCellPotentiallyEditable(activeRow,activeCell)&&(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout((function(){makeActiveCellEditable()}),options.asyncEditorLoadDelay):makeActiveCellEditable())}else activeRow=activeCell=null;n&&(setTimeout(scrollActiveCellIntoView,50),trigger(self.onActiveCellChanged,getActiveCell()))}function clearTextSelection(){if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}else if(window.getSelection){var e=window.getSelection();e&&e.removeAllRanges&&e.removeAllRanges()}}function isCellPotentiallyEditable(e,t){var n=getDataLength();return!(e<n&&!getDataItem(e)||columns[t].cannotTriggerInsert&&e>=n||!getEditor(e,t))}function makeActiveCellNormal(){if(currentEditor){if(trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor}),currentEditor.destroy(),currentEditor=null,activeCellNode){var e=getDataItem(activeRow);if((0,_jquery2.default)(activeCellNode).removeClass("editable invalid"),e){var t=columns[activeCell];activeCellNode[0].innerHTML=callFormatter(activeRow,activeCell,getDataItemValueForColumn(e,t),t,e),invalidatePostProcessingResults(activeRow)}}navigator.userAgent.toLowerCase().match(/msie/)&&clearTextSelection(),getEditorLock().deactivate(editController)}}function makeActiveCellEditable(e){if(activeCellNode){if(!options.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";if(clearTimeout(h_editorLoader),isCellPotentiallyEditable(activeRow,activeCell)){var t=columns[activeCell],n=getDataItem(activeRow);if(!1===trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:n,column:t}))return void setFocus();getEditorLock().activate(editController),(0,_jquery2.default)(activeCellNode).addClass("editable"),e||(activeCellNode[0].innerHTML=""),currentEditor=new(e||getEditor(activeRow,activeCell))({grid:self,gridPosition:absBox($container[0]),position:absBox(activeCellNode[0]),container:activeCellNode,column:t,item:n||{},commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus}),n&&currentEditor.loadValue(n),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()}}}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(e){var t={top:e.offsetTop,left:e.offsetLeft,bottom:0,right:0,width:(0,_jquery2.default)(e).outerWidth(),height:(0,_jquery2.default)(e).outerHeight(),visible:!0};t.bottom=t.top+t.height,t.right=t.left+t.width;for(var n=e.offsetParent;(e=e.parentNode)!=document.body;)t.visible&&e.scrollHeight!=e.offsetHeight&&"visible"!=(0,_jquery2.default)(e).css("overflowY")&&(t.visible=t.bottom>e.scrollTop&&t.top<e.scrollTop+e.clientHeight),t.visible&&e.scrollWidth!=e.offsetWidth&&"visible"!=(0,_jquery2.default)(e).css("overflowX")&&(t.visible=t.right>e.scrollLeft&&t.left<e.scrollLeft+e.clientWidth),t.left-=e.scrollLeft,t.top-=e.scrollTop,e===n&&(t.left+=e.offsetLeft,t.top+=e.offsetTop,n=e.offsetParent),t.bottom=t.top+t.height,t.right=t.left+t.width;return t}function getActiveCellPosition(){return absBox(activeCellNode[0])}function getGridPosition(){return absBox($container[0])}function handleActiveCellPositionChange(){if(activeCellNode&&(trigger(self.onActiveCellPositionChanged,{}),currentEditor)){var e=getActiveCellPosition();currentEditor.show&&currentEditor.hide&&(e.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(e)}}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell}:null}function getActiveCellNode(){return activeCellNode}function scrollActiveCellIntoView(){null!=activeRow&&null!=activeCell&&scrollCellIntoView(activeRow,activeCell)}function scrollRowIntoView(e,t){if(!hasFrozenRows||!options.frozenBottom&&e>actualFrozenRow-1||options.frozenBottom&&e<actualFrozenRow-1){var n=$viewportScrollContainerY.height(),r=e*options.rowHeight,o=(e+1)*options.rowHeight-n+(viewportHasHScroll?scrollbarDimensions.height:0);(e+1)*options.rowHeight>scrollTop+n+offset?(scrollTo(t?r:o),render()):e*options.rowHeight<scrollTop+offset&&(scrollTo(t?o:r),render())}}function scrollRowToTop(e){scrollTo(e*options.rowHeight),render()}function scrollPage(e){var t=e*numVisibleRows;if(scrollTo((getRowFromPosition(scrollTop)+t)*options.rowHeight),render(),options.enableCellNavigation&&null!=activeRow){var n=activeRow+t,r=getDataLengthIncludingAddNew();n>=r&&(n=r-1),n<0&&(n=0);for(var o=0,i=null,a=activePosX;o<=activePosX;)canCellBeActive(n,o)&&(i=o),o+=getColspan(n,o);null!==i?(setActiveCellInternal(getCellNode(n,i)),activePosX=a):resetActiveCell()}}function navigatePageDown(){scrollPage(1)}function navigatePageUp(){scrollPage(-1)}function getColspan(e,t){var n=data.getItemMetadata&&data.getItemMetadata(e);if(!n||!n.columns)return 1;var r=columns[t]&&(n.columns[columns[t].id]||n.columns[t]),o=r&&r.colspan;return"*"===o?columns.length-t:o||1}function findFirstFocusableCell(e){for(var t=0;t<columns.length;){if(canCellBeActive(e,t))return t;t+=getColspan(e,t)}return null}function findLastFocusableCell(e){for(var t=0,n=null;t<columns.length;)canCellBeActive(e,t)&&(n=t),t+=getColspan(e,t);return n}function gotoRight(e,t,n){if(t>=columns.length)return null;do{t+=getColspan(e,t)}while(t<columns.length&&!canCellBeActive(e,t));return t<columns.length?{row:e,cell:t,posX:t}:null}function gotoLeft(e,t,n){if(t<=0)return null;var r=findFirstFocusableCell(e);if(null===r||r>=t)return null;for(var o,i={row:e,cell:r,posX:r};;){if(!(o=gotoRight(i.row,i.cell,i.posX)))return null;if(o.cell>=t)return i;i=o}}function gotoDown(e,t,n){for(var r,o=getDataLengthIncludingAddNew();;){if(++e>=o)return null;for(r=t=0;t<=n;)r=t,t+=getColspan(e,t);if(canCellBeActive(e,r))return{row:e,cell:r,posX:n}}}function gotoUp(e,t,n){for(var r;;){if(--e<0)return null;for(r=t=0;t<=n;)r=t,t+=getColspan(e,t);if(canCellBeActive(e,r))return{row:e,cell:r,posX:n}}}function gotoNext(e,t,n){if(null==e&&null==t&&canCellBeActive(e=t=n=0,t))return{row:e,cell:t,posX:t};var r=gotoRight(e,t,n);if(r)return r;for(var o=null,i=getDataLengthIncludingAddNew();++e<i;)if(null!==(o=findFirstFocusableCell(e)))return{row:e,cell:o,posX:o};return null}function gotoPrev(e,t,n){if(null==e&&null==t&&canCellBeActive(e=getDataLengthIncludingAddNew()-1,t=n=columns.length-1))return{row:e,cell:t,posX:t};for(var r,o;!r&&!(r=gotoLeft(e,t,n));){if(--e<0)return null;t=0,null!==(o=findLastFocusableCell(e))&&(r={row:e,cell:o,posX:o})}return r}function navigateRight(){return navigate("right")}function navigateLeft(){return navigate("left")}function navigateDown(){return navigate("down")}function navigateUp(){return navigate("up")}function navigateNext(){return navigate("next")}function navigatePrev(){return navigate("prev")}function navigate(e){if(!options.enableCellNavigation)return!1;if(!activeCellNode&&"prev"!=e&&"next"!=e)return!1;if(!getEditorLock().commitCurrentEdit())return!0;setFocus();tabbingDirection={up:-1,down:1,left:-1,right:1,prev:-1,next:1}[e];var t=(0,{up:gotoUp,down:gotoDown,left:gotoLeft,right:gotoRight,prev:gotoPrev,next:gotoNext}[e])(activeRow,activeCell,activePosX);if(t){if(hasFrozenRows&&options.frozenBottom&t.row==getDataLength())return;var n=t.row==getDataLength();return(!options.frozenBottom&&t.row>=actualFrozenRow||options.frozenBottom&&t.row<actualFrozenRow)&&scrollCellIntoView(t.row,t.cell,!n),setActiveCellInternal(getCellNode(t.row,t.cell)),activePosX=t.posX,!0}return setActiveCellInternal(getCellNode(activeRow,activeCell)),!1}function getCellNode(e,t){return rowsCache[e]?(ensureCellNodesInRowsCache(e),rowsCache[e].cellNodesByColumnIdx[t]):null}function setActiveCell(e,t){initialized&&(e>getDataLength()||e<0||t>=columns.length||t<0||options.enableCellNavigation&&(scrollCellIntoView(e,t,!1),setActiveCellInternal(getCellNode(e,t),!1)))}function canCellBeActive(e,t){if(!options.enableCellNavigation||e>=getDataLengthIncludingAddNew()||e<0||t>=columns.length||t<0)return!1;var n=data.getItemMetadata&&data.getItemMetadata(e);if(n&&"boolean"==typeof n.focusable)return n.focusable;var r=n&&n.columns;return r&&columns[t]&&r[columns[t].id]&&"boolean"==typeof r[columns[t].id].focusable?r[columns[t].id].focusable:r&&r[t]&&"boolean"==typeof r[t].focusable?r[t].focusable:columns[t]&&columns[t].focusable}function canCellBeSelected(e,t){if(e>=getDataLength()||e<0||t>=columns.length||t<0)return!1;var n=data.getItemMetadata&&data.getItemMetadata(e);if(n&&"boolean"==typeof n.selectable)return n.selectable;var r=n&&n.columns&&(n.columns[columns[t].id]||n.columns[t]);return r&&"boolean"==typeof r.selectable?r.selectable:columns[t].selectable}function gotoCell(e,t,n){initialized&&canCellBeActive(e,t)&&getEditorLock().commitCurrentEdit()&&(scrollCellIntoView(e,t,!1),setActiveCellInternal(getCellNode(e,t),n||e===getDataLength()||options.autoEdit),currentEditor||setFocus())}function commitCurrentEdit(){var e=getDataItem(activeRow),t=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var n=currentEditor.validate();if(n.valid){if(activeRow<getDataLength()){var r={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(e,this.serializedValue),updateRow(this.row),trigger(self.onCellChange,{row:activeRow,cell:activeCell,item:e})},undo:function(){this.editor.applyValue(e,this.prevSerializedValue),updateRow(this.row),trigger(self.onCellChange,{row:activeRow,cell:activeCell,item:e})}};options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(e,t,r)):(r.execute(),makeActiveCellNormal())}else{var o={};currentEditor.applyValue(o,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:o,column:t})}return!getEditorLock().isActive()}return(0,_jquery2.default)(activeCellNode).removeClass("invalid"),(0,_jquery2.default)(activeCellNode).width(),(0,_jquery2.default)(activeCellNode).addClass("invalid"),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:n,row:activeRow,cell:activeCell,column:t}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(e){for(var t=[],n=columns.length-1,r=0;r<e.length;r++)t.push(new _slick2.default.Range(e[r],0,e[r],n));return t}function getSelectedRows(){if(!selectionModel)throw"Selection model is not set";return selectedRows}function setSelectedRows(e){if(!selectionModel)throw"Selection model is not set";selectionModel.setSelectedRanges(rowsToRanges(e))}var defaults={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,autoHeight:!1,editorLock:_slick2.default.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showFooterRow:!1,footerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,frozenBottom:!1,frozenColumn:-1,frozenRow:-1,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:defaultFormatter,forceSyncScrolling:!1,addNewRowCssClass:"new-row"},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},th,h,ph,n,cj,page=0,offset=0,vScrollDir=1,initialized=!1,$container,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$focusSink,$focusSink2,$groupHeaders=(0,_jquery2.default)(),$headerScroller,$headers,$headerRow,$headerRowScroller,$headerRowSpacerL,$headerRowSpacerR,$footerRow,$footerRowScroller,$footerRowSpacerL,$footerRowSpacerR,$topPanelScroller,$topPanel,$viewport,$canvas,$style,$boundAncestors,treeColumns,stylesheet,columnCssRulesL,columnCssRulesR,viewportH,viewportW,canvasWidth,canvasWidthL,canvasWidthR,headersWidth,headersWidthL,headersWidthR,viewportHasHScroll,viewportHasVScroll,headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,absoluteColumnMinWidth,hasFrozenRows=!1,frozenRowsHeight=0,actualFrozenRow=-1,paneTopH=0,paneBottomH=0,viewportTopH=0,topPanelH=0,headerRowH=0,footerRowH=0,tabbingDirection=1,$activeCanvasNode,$activeViewportNode,activePosX,activeRow,activeCell,activeCellNode=null,currentEditor=null,serializedEditorValue,editController,rowsCache={},renderedRows=0,numVisibleRows=0,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,lastRenderedScrollLeft=0,prevScrollLeft=0,scrollLeft=0,selectionModel,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumns=[],columnPosLeft=[],columnPosRight=[],h_editorLoader=null,h_render=null,h_postrender=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,counter_rows_rendered=0,counter_rows_removed=0,rowNodeFromLastMouseWheelEvent,zombieRowNodeFromLastMouseWheelEvent,$paneHeaderL,$paneHeaderR,$paneTopL,$paneTopR,$paneBottomL,$paneBottomR,$headerScrollerL,$headerScrollerR,$headerL,$headerR,$groupHeadersL,$groupHeadersR,$headerRowScrollerL,$headerRowScrollerR,$footerRowScrollerL,$footerRowScrollerR,$headerRowL,$headerRowR,$footerRowL,$footerRowR,$topPanelScrollerL,$topPanelScrollerR,$topPanelL,$topPanelR,$viewportTopL,$viewportTopR,$viewportBottomL,$viewportBottomR,$canvasTopL,$canvasTopR,$canvasBottomL,$canvasBottomR,$viewportScrollContainerX,$viewportScrollContainerY,$headerScrollContainer,$headerRowScrollContainer,$footerRowScrollContainer;this.debug=function(){var e="";e+="\ncounter_rows_rendered:  "+counter_rows_rendered,e+="\ncounter_rows_removed:  "+counter_rows_removed,e+="\nrenderedRows:  "+renderedRows,e+="\nnumVisibleRows:  "+numVisibleRows,e+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,e+="\nn(umber of pages):  "+n,e+="\n(current) page:  "+page,e+="\npage height (ph):  "+ph,e+="\nvScrollDir:  "+vScrollDir,alert(e)},this.eval=function(expr){return eval(expr)},_jquery2.default.extend(this,{slickGridVersion:"2.1",onScroll:new _slick2.default.Event,onSort:new _slick2.default.Event,onHeaderMouseEnter:new _slick2.default.Event,onHeaderMouseLeave:new _slick2.default.Event,onHeaderContextMenu:new _slick2.default.Event,onHeaderClick:new _slick2.default.Event,onHeaderCellRendered:new _slick2.default.Event,onBeforeHeaderCellDestroy:new _slick2.default.Event,onHeaderRowCellRendered:new _slick2.default.Event,onFooterRowCellRendered:new _slick2.default.Event,onBeforeHeaderRowCellDestroy:new _slick2.default.Event,onBeforeFooterRowCellDestroy:new _slick2.default.Event,onMouseEnter:new _slick2.default.Event,onMouseLeave:new _slick2.default.Event,onClick:new _slick2.default.Event,onDblClick:new _slick2.default.Event,onContextMenu:new _slick2.default.Event,onKeyDown:new _slick2.default.Event,onAddNewRow:new _slick2.default.Event,onValidationError:new _slick2.default.Event,onViewportChanged:new _slick2.default.Event,onColumnsReordered:new _slick2.default.Event,onColumnsResized:new _slick2.default.Event,onCellChange:new _slick2.default.Event,onBeforeEditCell:new _slick2.default.Event,onBeforeCellEditorDestroy:new _slick2.default.Event,onBeforeDestroy:new _slick2.default.Event,onActiveCellChanged:new _slick2.default.Event,onActiveCellPositionChanged:new _slick2.default.Event,onDragInit:new _slick2.default.Event,onDragStart:new _slick2.default.Event,onDrag:new _slick2.default.Event,onDragEnd:new _slick2.default.Event,onSelectedRowsChanged:new _slick2.default.Event,onCellCssStylesChanged:new _slick2.default.Event,registerPlugin:registerPlugin,unregisterPlugin:unregisterPlugin,getColumns:getColumns,setColumns:setColumns,getColumnIndex:getColumnIndex,updateColumnHeader:updateColumnHeader,setSortColumn:setSortColumn,setSortColumns:setSortColumns,getSortColumns:getSortColumns,autosizeColumns:autosizeColumns,getOptions:getOptions,setOptions:setOptions,getData:getData,getDataLength:getDataLength,getDataItem:getDataItem,setData:setData,getSelectionModel:getSelectionModel,setSelectionModel:setSelectionModel,getSelectedRows:getSelectedRows,setSelectedRows:setSelectedRows,getContainerNode:getContainerNode,render:render,invalidate:invalidate,invalidateRow:invalidateRow,invalidateRows:invalidateRows,invalidateAllRows:invalidateAllRows,updateCell:updateCell,updateRow:updateRow,getViewport:getVisibleRange,getRenderedRange:getRenderedRange,resizeCanvas:resizeCanvas,updateRowCount:updateRowCount,scrollRowIntoView:scrollRowIntoView,scrollRowToTop:scrollRowToTop,scrollCellIntoView:scrollCellIntoView,getCanvasNode:getCanvasNode,getCanvases:getCanvases,getActiveCanvasNode:getActiveCanvasNode,setActiveCanvasNode:setActiveCanvasNode,getViewportNode:getViewportNode,getActiveViewportNode:getActiveViewportNode,setActiveViewportNode:setActiveViewportNode,focus:setFocus,getCellFromPoint:getCellFromPoint,getCellFromEvent:getCellFromEvent,getActiveCell:getActiveCell,setActiveCell:setActiveCell,getActiveCellNode:getActiveCellNode,getActiveCellPosition:getActiveCellPosition,resetActiveCell:resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor:getCellEditor,getCellNode:getCellNode,getCellNodeBox:getCellNodeBox,canCellBeSelected:canCellBeSelected,canCellBeActive:canCellBeActive,navigatePrev:navigatePrev,navigateNext:navigateNext,navigateUp:navigateUp,navigateDown:navigateDown,navigateLeft:navigateLeft,navigateRight:navigateRight,navigatePageUp:navigatePageUp,navigatePageDown:navigatePageDown,gotoCell:gotoCell,getTopPanel:getTopPanel,setTopPanelVisibility:setTopPanelVisibility,setHeaderRowVisibility:setHeaderRowVisibility,getHeaderRow:getHeaderRow,getHeaderRowColumn:getHeaderRowColumn,setFooterRowVisibility:setFooterRowVisibility,getFooterRow:getFooterRow,getFooterRowColumn:getFooterRowColumn,getGridPosition:getGridPosition,flashCell:flashCell,addCellCssStyles:addCellCssStyles,setCellCssStyles:setCellCssStyles,removeCellCssStyles:removeCellCssStyles,getCellCssStyles:getCellCssStyles,getFrozenRowOffset:getFrozenRowOffset,init:finishInitialization,destroy:destroy,getEditorLock:getEditorLock,getEditController:getEditController}),init()}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=__webpack_require__(2),_jquery2=_interopRequireDefault(_jquery),_interact=__webpack_require__(5),_interact2=_interopRequireDefault(_interact),_slick=__webpack_require__(1),_slick2=_interopRequireDefault(_slick),scrollbarDimensions,maxSupportedCssHeight;_slick2.default.FrozenGrid=SlickGrid,exports.default=SlickGrid},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),i=r(n(2)),a={Avg:function(e){this.field_=e,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(e){var t=e[this.field_];this.count_++,null==t||""===t||isNaN(t)||(this.nonNullCount_++,this.sum_+=parseFloat(t))},this.storeResult=function(e){e.avg||(e.avg={}),0!=this.nonNullCount_&&(e.avg[this.field_]=this.sum_/this.nonNullCount_)}},Min:function(e){this.field_=e,this.init=function(){this.min_=null},this.accumulate=function(e){var t=e[this.field_];null==t||""===t||isNaN(t)||(null==this.min_||t<this.min_)&&(this.min_=t)},this.storeResult=function(e){e.min||(e.min={}),e.min[this.field_]=this.min_}},Max:function(e){this.field_=e,this.init=function(){this.max_=null},this.accumulate=function(e){var t=e[this.field_];null==t||""===t||isNaN(t)||(null==this.max_||t>this.max_)&&(this.max_=t)},this.storeResult=function(e){e.max||(e.max={}),e.max[this.field_]=this.max_}},Sum:function(e){this.field_=e,this.init=function(){this.sum_=null},this.accumulate=function(e){var t=e[this.field_];null==t||""===t||isNaN(t)||(this.sum_+=parseFloat(t))},this.storeResult=function(e){e.sum||(e.sum={}),e.sum[this.field_]=this.sum_}}},s={DataView:function(e){function t(e){for(var t=void 0,n=e=e||0,r=$.length;n<r;n++){if(void 0===(t=$[n][R]))throw"Each data element must implement a unique 'id' property";S[t]=n}}function n(){var e=G?Math.max(1,Math.ceil(X/G)):1;return{pageSize:G,pageNum:Y,totalRows:X,totalPages:e,dataView:_}}function r(e,n){P=n,D=e,L=null,!1===n&&$.reverse(),$.sort(e),!1===n&&$.reverse(),S={},t(),x()}function a(e,n){P=n,L=e,D=null;var r=Object.prototype.toString;Object.prototype.toString="function"==typeof e?e:function(){return this[e]},!1===n&&$.reverse(),$.sort(),Object.prototype.toString=r,!1===n&&$.reverse(),S={},t(),x()}function s(t){e.groupItemMetadataProvider||(e.groupItemMetadataProvider=GroupItemMetadataProvider()),q=[],V=[],B=(t=t||[])instanceof Array?t:[t];for(var n=0;n<B.length;n++){var r=B[n]=i.default.extend(!0,{},H,B[n]);r.getterIsAFn="function"==typeof r.getter,r.compiledAccumulators=[];for(var o=r.aggregators.length;o--;)r.compiledAccumulators[o]=v(r.aggregators[o]);V[n]={}}x()}function l(){if(!E){E={};for(var e=0,t=A.length;e<t;e++)E[A[e][R]]=e}}function c(e,t){if(null==e)for(var n=0;n<B.length;n++)V[n]={},B[n].collapsed=t;else V[e]={},B[e].collapsed=t;x()}function u(e,t,n){V[e][t]=B[e].collapsed^n,x()}function d(e,t){for(var n=void 0,r=void 0,i=[],a={},s=void 0,l=t?t.level+1:0,c=B[l],u=0,f=c.predefinedValues.length;u<f;u++)(n=a[r=c.predefinedValues[u]])||((n=new o.default.Group).value=r,n.level=l,n.groupingKey=(t?t.groupingKey+U:"")+r,i[i.length]=n,a[r]=n);for(var h=0,p=e.length;h<p;h++)s=e[h],(n=a[r=c.getterIsAFn?c.getter(s):s[c.getter]])||((n=new o.default.Group).value=r,n.level=l,n.groupingKey=(t?t.groupingKey+U:"")+r,i[i.length]=n,a[r]=n),n.rows[n.count++]=s;if(l<B.length-1)for(var g=0;g<i.length;g++)(n=i[g]).groups=d(n.rows,n);return i.sort(B[l].comparer),i}function f(e){var t=e.group,n=B[t.level],r=t.level==B.length,o=void 0,i=n.aggregators.length;if(!r&&n.aggregateChildGroups)for(var a=t.groups.length;a--;)t.groups[a].totals.initialized||f(t.groups[a].totals);for(;i--;)(o=n.aggregators[i]).init(),!r&&n.aggregateChildGroups?n.compiledAccumulators[i].call(o,t.groups):n.compiledAccumulators[i].call(o,t.rows),o.storeResult(e);e.initialized=!0}function h(e){var t=B[e.level],n=new o.default.GroupTotals;n.group=e,e.totals=n,t.lazyTotalsCalculation||f(n)}function p(e,t){for(var n=B[t=t||0],r=n.collapsed,o=V[t],i=e.length,a=void 0;i--;)(a=e[i]).collapsed&&!n.aggregateCollapsed||(a.groups&&p(a.groups,t+1),n.aggregators.length&&(n.aggregateEmpty||a.rows.length||a.groups&&a.groups.length)&&h(a),a.collapsed=r^o[a.groupingKey],a.title=n.formatter?n.formatter(a):a.value)}function g(e,t){for(var n=B[t=t||0],r=[],o=void 0,i=0,a=void 0,s=0,l=e.length;s<l;s++){if(a=e[s],r[i++]=a,!a.collapsed)for(var c=0,u=(o=a.groups?g(a.groups,t+1):a.rows).length;c<u;c++)r[i++]=o[c];a.totals&&n.displayTotalsRow&&(!a.collapsed||n.aggregateCollapsed)&&(r[i++]=a.totals)}return r}function m(e){var t=e.toString().match(/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/);return{params:t[1].split(","),body:t[2]}}function v(e){var t=m(e.accumulate),n=new Function("_items","for (let "+t.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+t.params[0]+" = _items[_i]; "+t.body+"}");return n.displayName="compiledAccumulatorLoop",n}function y(e,t){for(var n=[],r=0,o=0,i=e.length;o<i;o++)T(e[o],t)&&(n[r++]=e[o]);return n}function b(e,t,n){for(var r=[],o=0,i=void 0,a=0,s=e.length;a<s;a++)i=e[a],n[a]?r[o++]=i:T(i,t)&&(r[o++]=i,n[a]=!0);return r}function w(t){if(T){var n=e.inlineFilters?j:y,r=e.inlineFilters?z:b;I.isFilterNarrowing?O=n(O,F):I.isFilterExpanding?O=r(t,F,W):I.isFilterUnchanged||(O=n(t,F))}else O=G?t:t.concat();var o=void 0;return G?(O.length<Y*G&&(Y=Math.floor(O.length/G)),o=O.slice(G*Y,G*Y+G)):o=O,{totalRows:O.length,rows:o}}function C(e){E=null,I.isFilterNarrowing==N.isFilterNarrowing&&I.isFilterExpanding==N.isFilterExpanding||(W=[]);var t=w(e);X=t.totalRows;var n=t.rows;q=[],B.length&&((q=d(n)).length&&(p(q),n=g(q)));var r=function(e,t){var n=void 0,r=void 0,o=void 0,i=[],a=0,s=t.length;I&&I.ignoreDiffsBefore&&(a=Math.max(0,Math.min(t.length,I.ignoreDiffsBefore))),I&&I.ignoreDiffsAfter&&(s=Math.min(t.length,Math.max(0,I.ignoreDiffsAfter)));for(var l=a,c=e.length;l<s;l++)l>=c?i[i.length]=l:(n=t[l],r=e[l],(B.length&&(o=n.__nonDataRow||r.__nonDataRow)&&n.__group!==r.__group||n.__group&&!n.equals(r)||o&&(n.__groupTotals||r.__groupTotals)||n[R]!=r[R]||k&&k[n[R]])&&(i[i.length]=l));return i}(A,n);return A=n,r}function x(){if(!M){var e=A.length,t=X,r=C($);G&&X<Y*G&&(Y=Math.max(0,Math.ceil(X/G)-1),r=C($)),k=null,N=I,I={},t!==X&&Z.notify(n(),null,_),e!==A.length&&K.notify({previous:e,current:A.length,dataView:_},null,_),r.length>0&&Q.notify({rows:r,dataView:_},null,_)}}var _=this,R="id",$=[],A=[],S={},E=null,T=null,k=null,M=!1,P=!0,L=void 0,D=void 0,I={},N={},F=void 0,O=[],j=void 0,z=void 0,W=[],H={getter:null,formatter:null,comparer:function(e,t){return e.value===t.value?0:e.value>t.value?1:-1},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0,lazyTotalsCalculation:!1},B=[],q=[],V=[],U=":|:",G=0,Y=0,X=0,K=new o.default.Event,Q=new o.default.Event,Z=new o.default.Event;e=i.default.extend(!0,{},{groupItemMetadataProvider:null,inlineFilters:!1},e),i.default.extend(this,{beginUpdate:function(){M=!0},endUpdate:function(){M=!1,x()},setPagingOptions:function(e){null!=e.pageSize&&(G=e.pageSize,Y=G?Math.min(Y,Math.max(0,Math.ceil(X/G)-1)):0),null!=e.pageNum&&(Y=Math.min(e.pageNum,Math.max(0,Math.ceil(X/G)-1))),Z.notify(n(),null,_),x()},getPagingInfo:n,getItems:function(){return $},setItems:function(e,n){void 0!==n&&(R=n),$=O=e,S={},t(),function(){for(var e=void 0,t=0,n=$.length;t<n;t++)if(void 0===(e=$[t][R])||S[e]!==t)throw"Each data element must implement a unique 'id' property"}(),x()},setFilter:function(t){T=t,e.inlineFilters&&(j=function(){var e=m(T),t="{ continue _coreloop; }$1",n="{ _retval[_idx++] = $item$; continue _coreloop; }$1",r=e.body.replace(/return false\s*([;}]|\}|$)/gi,t).replace(/return!1([;}]|\}|$)/gi,t).replace(/return true\s*([;}]|\}|$)/gi,n).replace(/return!0([;}]|\}|$)/gi,n).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),o=["let _retval = [], _idx = 0; ","let $item$, $args$ = _args; ","_coreloop: ","for (let _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");o=o.replace(/\$filter\$/gi,r),o=o.replace(/\$item\$/gi,e.params[0]),o=o.replace(/\$args\$/gi,e.params[1]);var i=new Function("_items,_args",o);return i.displayName="compiledFilter",i}(),z=function(){var e=m(T),t="{ continue _coreloop; }$1",n="{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1",r=e.body.replace(/return false\s*([;}]|\}|$)/gi,t).replace(/return!1([;}]|\}|$)/gi,t).replace(/return true\s*([;}]|\}|$)/gi,n).replace(/return!0([;}]|\}|$)/gi,n).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),o=["let _retval = [], _idx = 0; ","let $item$, $args$ = _args; ","_coreloop: ","for (let _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");o=o.replace(/\$filter\$/gi,r),o=o.replace(/\$item\$/gi,e.params[0]),o=o.replace(/\$args\$/gi,e.params[1]);var i=new Function("_items,_args,_cache",o);return i.displayName="compiledFilterWithCaching",i}()),x()},sort:r,fastSort:a,reSort:function(){D?r(D,P):L&&a(L,P)},setGrouping:s,getGrouping:function(){return B},groupBy:function(e,t,n){return null==e?void s([]):void s({getter:e,formatter:t,comparer:n})},setAggregators:function(e,t){if(!B.length)throw new Error("At least one grouping must be specified before calling setAggregators().");B[0].aggregators=e,B[0].aggregateCollapsed=t,s(B)},collapseAllGroups:function(e){c(e,!0)},expandAllGroups:function(e){c(e,!1)},collapseGroup:function(e){var t=Array.prototype.slice.call(arguments),n=t[0];1==t.length&&-1!=n.indexOf(U)?u(n.split(U).length-1,n,!0):u(t.length-1,t.join(U),!0)},expandGroup:function(e){var t=Array.prototype.slice.call(arguments),n=t[0];1==t.length&&-1!=n.indexOf(U)?u(n.split(U).length-1,n,!1):u(t.length-1,t.join(U),!1)},getGroups:function(){return q},getIdxById:function(e){return S[e]},getRowById:function(e){return l(),E[e]},getItemById:function(e){return $[S[e]]},getItemByIdx:function(e){return $[e]},mapRowsToIds:function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]<A.length&&(t[t.length]=A[e[n]][R]);return t},mapIdsToRows:function(e){var t=[];l();for(var n=0,r=e.length;n<r;n++){var o=E[e[n]];null!=o&&(t[t.length]=o)}return t},setRefreshHints:function(e){I=e},setFilterArgs:function(e){F=e},refresh:x,updateItem:function(e,t){if(void 0===S[e]||e!==t[R])throw"Invalid or non-matching id";$[S[e]]=t,k||(k={}),k[e]=!0,x()},insertItem:function(e,n){$.splice(e,0,n),t(e),x()},addItem:function(e){$.push(e),t($.length-1),x()},deleteItem:function(e){var n=S[e];if(void 0===n)throw"Invalid id";delete S[e],$.splice(n,1),t(n),x()},syncGridSelection:function(e,t,n){function r(t){c.join(",")!=t.join(",")&&(c=t,u.notify({grid:e,ids:c,dataView:s},new o.default.EventData,s))}function a(){if(c.length>0){l=!0;var n=s.mapIdsToRows(c);t||r(s.mapRowsToIds(n)),e.setSelectedRows(n),l=!1}}var s=this,l=void 0,c=s.mapRowsToIds(e.getSelectedRows()),u=new o.default.Event;return e.onSelectedRowsChanged.subscribe((function(t,o){if(!l){var a=s.mapRowsToIds(e.getSelectedRows());if(n&&e.getOptions().multiSelect){var u=i.default.grep(c,(function(e){return void 0===s.getRowById(e)}));r(u.concat(a))}else r(a)}})),this.onRowsChanged.subscribe(a),this.onRowCountChanged.subscribe(a),u},syncGridCellCssStyles:function(e,t){function n(e){for(var t in o={},e){var n=A[t][R];o[n]=e[t]}}function r(){if(o){i=!0,l();var n={};for(var r in o){var a=E[r];null!=a&&(n[a]=o[r])}e.setCellCssStyles(t,n),i=!1}}var o=void 0,i=void 0;n(e.getCellCssStyles(t)),e.onCellCssStylesChanged.subscribe((function(e,r){i||t==r.key&&r.hash&&n(r.hash)})),this.onRowsChanged.subscribe(r),this.onRowCountChanged.subscribe(r)},getLength:function(){return A.length},getItem:function(e){var t=A[e];if(t&&t.__group&&t.totals&&!t.totals.initialized){var n=B[t.level];n.displayTotalsRow||(f(t.totals),t.title=n.formatter?n.formatter(t):t.value)}else t&&t.__groupTotals&&!t.initialized&&f(t);return t},getItemMetadata:function(t){var n=A[t];return void 0===n?null:n.__group?e.groupItemMetadataProvider.getGroupRowMetadata(n):n.__groupTotals?e.groupItemMetadataProvider.getTotalsRowMetadata(n):null},onRowCountChanged:K,onRowsChanged:Q,onPagingInfoChanged:Z})},GroupMetaDataProvider:r(n(31)).default,Aggregators:a};t.default=s},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function o(e){function t(){var t=e.column.editorFixedDecimalPlaces;return void 0===t&&(t=o.DefaultDecimalPlaces),t||0===t?t:null}var n=void 0,r=void 0;this.init=function(){(n=(0,s.default)("<INPUT type=text class='editor-text' />")).bind("keydown.nav",(function(e){e.keyCode!==l.LEFT&&e.keyCode!==l.RIGHT||e.stopImmediatePropagation()})),n.appendTo(e.container),n.focus().select()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(o){r=o[e.column.field];var i=t();null!==i&&(r||0===r)&&r.toFixed&&(r=r.toFixed(i)),n.val(r),n[0].defaultValue=r,n.select()},this.serializeValue=function(){var e=parseFloat(n.val())||0,r=t();return null!==r&&(e||0===e)&&e.toFixed&&(e=parseFloat(e.toFixed(r))),e},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==r)&&n.val()!=r},this.validate=function(){if(isNaN(n.val()))return{valid:!1,msg:"Please enter a valid number"};if(e.column.validator){var t=e.column.validator(n.val(),e);if(!t.valid)return t}return{valid:!0,msg:null}},this.init()}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=r(n(32)),s=r(n(2)),l=i.default.keyCode,c={Text:function(e){var t=void 0,n=void 0;this.init=function(){t=(0,s.default)("<INPUT type=text class='editor-text' />").appendTo(e.container).bind("keydown.nav",(function(e){e.keyCode!==l.LEFT&&e.keyCode!==l.RIGHT||e.stopImmediatePropagation()})).focus().select()},this.destroy=function(){t.remove()},this.focus=function(){t.focus()},this.getValue=function(){return t.val()},this.setValue=function(e){t.val(e)},this.loadValue=function(r){n=r[e.column.field]||"",t.val(n),t[0].defaultValue=n,t.select()},this.serializeValue=function(){return t.val()},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==t.val()&&null==n)&&t.val()!=n},this.validate=function(){if(e.column.validator){var n=e.column.validator(t.val(),e);n.valid,n.msg}return{valid:!0,msg:null}},this.init()},Integer:function(e){var t=void 0,n=void 0;this.init=function(){(t=(0,s.default)("<INPUT type=text class='editor-text' />")).bind("keydown.nav",(function(e){e.keyCode!==l.LEFT&&e.keyCode!==l.RIGHT||e.stopImmediatePropagation()})),t.appendTo(e.container),t.focus().select()},this.destroy=function(){t.remove()},this.focus=function(){t.focus()},this.loadValue=function(r){n=r[e.column.field],t.val(n),t[0].defaultValue=n,t.select()},this.serializeValue=function(){return parseInt(t.val(),10)||0},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==t.val()&&null==n)&&t.val()!=n},this.validate=function(){if(isNaN(t.val()))return{valid:!1,msg:"Please enter a valid integer"};if(e.column.validator){var n=e.column.validator(t.val());if(!n.valid)return n}return{valid:!0,msg:null}},this.init()},Float:o,Date:function(e){var t=void 0,n=void 0,r=void 0,o=e.column.options&&e.column.options.date?e.column.options.date:{};this.init=function(){r=o.defaultDate=e.item[e.column.field],(t=(0,s.default)('<input type=text data-default-date="'+r+'" class="editor-text" />')).appendTo(e.container),t.focus().val(r).select(),n=(0,a.default)(t[0],o)},this.destroy=function(){n.destroy(),t.remove()},this.show=function(){n.open(),n.positionCalendar()},this.hide=function(){n.close()},this.position=function(e){n.positionCalendar()},this.focus=function(){t.focus()},this.loadValue=function(n){r=n[e.column.field],t.val(r),t.select()},this.serializeValue=function(){return t.val()},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==t.val()&&null==r)&&t.val()!=r},this.validate=function(){if(e.column.validator){var n=e.column.validator(t.val(),e);if(!n.valid)return n}return{valid:!0,msg:null}},this.init()},YesNoSelect:function(e){var t=void 0,n=void 0;this.init=function(){(t=(0,s.default)("<select tabIndex='0' class='editor-yesno'><option value='yes'>Yes</option><option value='no'>No</option></select>")).appendTo(e.container),t.focus()},this.destroy=function(){t.remove()},this.focus=function(){t.focus()},this.loadValue=function(r){t.val((n=r[e.column.field])?"yes":"no"),t.select()},this.serializeValue=function(){return"yes"==t.val()},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return t.val()!=n},this.validate=function(){if(e.column.validator){var n=e.column.validator(t.val(),e);n.valid,n.msg}return{valid:!0,msg:null}},this.init()},Checkbox:function(e){var t=void 0,n=void 0;this.init=function(){(t=(0,s.default)("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>")).appendTo(e.container),t.focus()},this.destroy=function(){t.remove()},this.focus=function(){t.focus()},this.loadValue=function(r){(n=!!r[e.column.field])?t.prop("checked",!0):t.prop("checked",!1)},this.serializeValue=function(){return t.prop("checked")},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return this.serializeValue()!==n},this.validate=function(){if(e.column.validator){var n=e.column.validator(t.val(),e);n.valid,n.msg}return{valid:!0,msg:null}},this.init()},LongText:function(e){var t=void 0,n=void 0,r=void 0,o=this;this.init=function(){var r=(0,s.default)("body");n=(0,s.default)("<div class='slick-large-editor-text' />").appendTo(r),t=(0,s.default)("<textarea hidefocus rows=5 />").appendTo(n),(0,s.default)("<div><button>Save</button> <button>Cancel</button></div>").appendTo(n),n.find("button:first").bind("click",this.save),n.find("button:last").bind("click",this.cancel),t.bind("keydown",this.handleKeyDown),o.position(e.position),t.focus().select()},this.handleKeyDown=function(t){t.which==l.ENTER&&t.ctrlKey?o.save():t.which==l.ESCAPE?(t.preventDefault(),o.cancel()):t.which==l.TAB&&t.shiftKey?(t.preventDefault(),e.grid.navigatePrev()):t.which==l.TAB&&(t.preventDefault(),e.grid.navigateNext())},this.save=function(){e.commitChanges()},this.cancel=function(){t.val(r),e.cancelChanges()},this.hide=function(){n.hide()},this.show=function(){n.show()},this.position=function(e){n.css("top",e.top-5).css("left",e.left-5)},this.destroy=function(){n.remove()},this.focus=function(){t.focus()},this.loadValue=function(n){t.val(r=n[e.column.field]),t.select()},this.serializeValue=function(){return t.val()},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==t.val()&&null==r)&&t.val()!=r},this.validate=function(){if(e.column.validator){var t=e.column.validator($select.val(),e);t.valid,t.msg}return{valid:!0,msg:null}},this.init()}};i.default.Editors=c,t.default=c,o.DefaultDecimalPlaces=null},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={PercentComplete:function(e,t,n,r,o){return null==n||""===n?"-":n<50?"<span style='color:red;font-weight:bold;'>"+n+"%</span>":"<span style='color:green'>"+n+"%</span>"},PercentCompleteBar:function(e,t,n,r,o){return null==n||""===n?"":"<span class='percent-complete-bar' style='background:"+(n<30?"red":n<70?"silver":"green")+";width:"+n+"%'></span>"},YesNo:function(e,t,n,r,o){return n?"Yes":"No"},Checkmark:function(e,t,n,r,o){return n?"":""}}},function(module,exports,__webpack_require__){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function SlickGrid(container,data,columns,options){function init(){if(($container=(0,_jquery2.default)(container)).length<1)throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.");cacheCssForHiddenInit(),maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight(),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),options=_jquery2.default.extend({},defaults,options),validateAndEnforceOptions(),columnDefaults.width=options.defaultColumnWidth,columnsById={};for(var e=0;e<columns.length;e++){var t=columns[e]=_jquery2.default.extend({},columnDefaults,columns[e]);columnsById[t.id]=e,t.minWidth&&t.width<t.minWidth&&(t.width=t.minWidth),t.maxWidth&&t.width>t.maxWidth&&(t.width=t.maxWidth)}editController={commitCurrentEdit:commitCurrentEdit,cancelCurrentEdit:cancelCurrentEdit},$container.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($container.css("position"))||$container.css("position","relative"),$focusSink=(0,_jquery2.default)("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo($container),$headerScroller=(0,_jquery2.default)("<div class='slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),($headers=(0,_jquery2.default)("<div class='slick-header-columns' />").appendTo($headerScroller)).width(getHeadersWidth()),$headerRowScroller=(0,_jquery2.default)("<div class='slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$headerRow=(0,_jquery2.default)("<div class='slick-headerrow-columns' />").appendTo($headerRowScroller),$headerRowSpacer=(0,_jquery2.default)("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($headerRowScroller),$topPanelScroller=(0,_jquery2.default)("<div class='slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$topPanel=(0,_jquery2.default)("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScroller),options.showTopPanel||$topPanelScroller.hide(),options.showHeaderRow||$headerRowScroller.hide(),($viewport=(0,_jquery2.default)("<div class='slick-viewport' style='width:100%;overflow:auto;outline:0;position:relative;;'>").appendTo($container)).css("overflow-y",options.autoHeight?"hidden":"auto"),$canvas=(0,_jquery2.default)("<div class='grid-canvas' />").appendTo($viewport),options.createFooterRow&&($footerRowScroller=(0,_jquery2.default)("<div class='slick-footerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$footerRow=(0,_jquery2.default)("<div class='slick-footerrow-columns' />").appendTo($footerRowScroller),$footerRowSpacer=(0,_jquery2.default)("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($footerRowScroller),options.showFooterRow||$footerRowScroller.hide()),$focusSink2=$focusSink.clone().appendTo($container),options.explicitInitialization||finishInitialization()}function finishInitialization(){initialized||(initialized=!0,viewportW=parseFloat(_jquery2.default.css($container[0],"width",!0)),measureCellPaddingAndBorder(),disableSelection($headers),options.enableTextSelectionOnCells||$viewport.bind("selectstart.ui",(function(e){return(0,_jquery2.default)(e.target).is("input,textarea")})),updateColumnCaches(),createColumnHeaders(),setupColumnSort(),createCssRules(),resizeCanvas(),bindAncestorScrollEvents(),$container.bind("resize.slickgrid",resizeCanvas),$viewport.bind("scroll",handleScroll),$headerScroller.bind("contextmenu",handleHeaderContextMenu).bind("click",handleHeaderClick).delegate(".slick-header-column","mouseenter",handleHeaderMouseEnter).delegate(".slick-header-column","mouseleave",handleHeaderMouseLeave),$headerRowScroller.bind("scroll",handleHeaderRowScroll),options.createFooterRow&&$footerRowScroller.bind("scroll",handleFooterRowScroll),$focusSink.add($focusSink2).bind("keydown",handleKeyDown),$canvas.bind("keydown",handleKeyDown).bind("click",handleClick).bind("dblclick",handleDblClick).bind("contextmenu",handleContextMenu).delegate(".slick-cell","mouseenter",handleMouseEnter).delegate(".slick-cell","mouseleave",handleMouseLeave),(0,_interact2.default)($canvas[0]).allowFrom("div.slick-cell").draggable({onmove:handleDrag,onstart:handleDragStart,onend:handleDragEnd}).styleCursor(!1),navigator.userAgent.toLowerCase().match(/webkit/)&&navigator.userAgent.toLowerCase().match(/macintosh/)&&$canvas.bind("mousewheel",handleMouseWheel),restoreCssFromHiddenInit())}function cacheCssForHiddenInit(){($hiddenParents=$container.parents().addBack().not(":visible")).each((function(){var e={};for(var t in cssShow)e[t]=this.style[t],this.style[t]=cssShow[t];oldProps.push(e)}))}function restoreCssFromHiddenInit(){$hiddenParents.each((function(e){var t=oldProps[e];for(var n in cssShow)this.style[n]=t[n]}))}function registerPlugin(e){plugins.unshift(e),e.init(self)}function unregisterPlugin(e){for(var t=plugins.length;t>=0;t--)if(plugins[t]===e){plugins[t].destroy&&plugins[t].destroy(),plugins.splice(t,1);break}}function setSelectionModel(e){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),(selectionModel=e)&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(){return $canvas[0]}function measureScrollbar(){var e=(0,_jquery2.default)("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),t={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),t}function getHeadersWidth(){for(var e=0,t=0,n=columns.length;t<n;t++){e+=columns[t].width}return e+=scrollbarDimensions.width,Math.max(e,viewportW)+1e3}function getCanvasWidth(){for(var e=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW,t=0,n=columns.length;n--;)t+=columns[n].width;return options.fullWidthRows?Math.max(t,e):t}function updateCanvasWidth(e){var t=canvasWidth;(canvasWidth=getCanvasWidth())!=t&&($canvas.width(canvasWidth),$headerRow.width(canvasWidth),options.createFooterRow&&$footerRow.width(canvasWidth),$headers.width(getHeadersWidth()),viewportHasHScroll=canvasWidth>viewportW-scrollbarDimensions.width);var n=canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0);$headerRowSpacer.width(n),options.createFooterRow&&$footerRowSpacer.width(n),(canvasWidth!=t||e)&&applyColumnWidths()}function disableSelection(e){e&&e.jquery&&e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",(function(){return!1}))}function getMaxSupportedCssHeight(){for(var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=(0,_jquery2.default)("<div style='display:none' />").appendTo(document.body);;){var r=2*e;if(n.css("height",r),r>t||n.height()!==r)break;e=r}return n.remove(),e}function bindAncestorScrollEvents(){for(var e=$canvas[0];(e=e.parentNode)!=document.body&&null!=e;)if(e==$viewport[0]||e.scrollWidth!=e.clientWidth||e.scrollHeight!=e.clientHeight){var t=(0,_jquery2.default)(e);$boundAncestors=$boundAncestors?$boundAncestors.add(t):t,t.bind("scroll."+uid,handleActiveCellPositionChange)}}function unbindAncestorScrollEvents(){$boundAncestors&&($boundAncestors.unbind("scroll."+uid),$boundAncestors=null)}function updateColumnHeader(e,t,n){if(initialized){var r=getColumnIndex(e);if(null!=r){var o=columns[r],i=$headers.children().eq(r);i&&(void 0!==t&&(columns[r].name=t),void 0!==n&&(columns[r].toolTip=n),trigger(self.onBeforeHeaderCellDestroy,{node:i[0],column:o,grid:self}),i.attr("title",n||"").children().eq(0).html(t),trigger(self.onHeaderCellRendered,{node:i[0],column:o,grid:self}))}}}function getHeaderRow(){return $headerRow[0]}function getFooterRow(){return $footerRow[0]}function getHeaderRowColumn(e){var t=getColumnIndex(e),n=$headerRow.children().eq(t);return n&&n[0]}function getFooterRowColumn(e){var t=getColumnIndex(e),n=$footerRow.children().eq(t);return n&&n[0]}function createColumnHeaders(){function e(){(0,_jquery2.default)(this).addClass("ui-state-hover")}function t(){(0,_jquery2.default)(this).removeClass("ui-state-hover")}$headers.find(".slick-header-column").each((function(){var e=(0,_jquery2.default)(this).data("column");e&&trigger(self.onBeforeHeaderCellDestroy,{node:this,column:e,grid:self})})),$headers.empty(),$headers.width(getHeadersWidth()),$headerRow.find(".slick-headerrow-column").each((function(){var e=(0,_jquery2.default)(this).data("column");e&&trigger(self.onBeforeHeaderRowCellDestroy,{node:this,column:e,grid:self})})),$headerRow.empty(),options.createFooterRow&&($footerRow.find(".slick-footerrow-column").each((function(){var e=(0,_jquery2.default)(this).data("column");e&&trigger(self.onBeforeFooterRowCellDestroy,{node:this,column:e})})),$footerRow.empty());for(var n=0;n<columns.length;n++){var r=columns[n],o=(0,_jquery2.default)("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+r.name+"</span>").width(r.width-headerColumnWidthDiff).attr("id",""+uid+r.id).attr("title",r.toolTip||"").data("column",r).addClass(r.headerCssClass||"").appendTo($headers);if((options.enableColumnReorder||r.sortable)&&o.on("mouseenter",e).on("mouseleave",t),r.sortable&&(o.addClass("slick-header-sortable"),o.append("<span class='slick-sort-indicator' />")),trigger(self.onHeaderCellRendered,{node:o[0],column:r,grid:self}),options.showHeaderRow){var i=(0,_jquery2.default)("<div class='ui-state-default slick-headerrow-column l"+n+" r"+n+"'></div>").data("column",r).appendTo($headerRow);trigger(self.onHeaderRowCellRendered,{node:i[0],column:r,grid:self})}if(options.createFooterRow&&options.showFooterRow){var a=(0,_jquery2.default)("<div class='ui-state-default slick-footerrow-column l"+n+" r"+n+"'></div>").data("column",r).appendTo($footerRow);trigger(self.onFooterRowCellRendered,{node:a[0],column:r})}}setSortColumns(sortColumns),setupColumnResize(),options.enableColumnReorder&&setupColumnReorder()}function setupColumnSort(){$headers.click((function(e){if(e.metaKey=e.metaKey||e.ctrlKey,!(0,_jquery2.default)(e.target).hasClass("slick-resizable-handle")){var t=(0,_jquery2.default)(e.target).closest(".slick-header-column");if(t.length){var n=t.data("column");if(n.sortable){if(!getEditorLock().commitCurrentEdit())return;for(var r=null,o=0;o<sortColumns.length;o++)if(sortColumns[o].columnId==n.id){(r=sortColumns[o]).sortAsc=!r.sortAsc;break}e.metaKey&&options.multiColumnSort?r&&sortColumns.splice(o,1):((e.shiftKey||e.metaKey)&&options.multiColumnSort||(sortColumns=[]),r?0==sortColumns.length&&sortColumns.push(r):(r={columnId:n.id,sortAsc:n.defaultSortAsc},sortColumns.push(r))),setSortColumns(sortColumns),options.multiColumnSort?trigger(self.onSort,{multiColumnSort:!0,sortCols:_jquery2.default.map(sortColumns,(function(e){return{sortCol:columns[getColumnIndex(e.columnId)],sortAsc:e.sortAsc}})),grid:self},e):trigger(self.onSort,{multiColumnSort:!1,sortCol:n,sortAsc:r.sortAsc,grid:self},e)}}}}))}function setupColumnReorder(){var e=0,t=0,n=document.createElement("div");n.className="interact-placeholder",(0,_interact2.default)(".slick-header-column",{context:$container[0]}).ignoreFrom(".slick-resizable-handle").draggable({inertia:!0,restrict:{restriction:"parent",endOnly:!0,elementRect:{top:0,left:0,bottom:0,right:0}},autoScroll:!0,axis:"x",onstart:function(r){e=0,t=r.target.offsetWidth,$headers.find(".slick-header-column").each((function(e){(0,_jquery2.default)(this).data("index",e)})),n.style.height=r.target.offsetHeight+"px",n.style.width=t+"px",(0,_jquery2.default)(r.target).after(n).css({position:"absolute",zIndex:1e3,marginLeft:(0,_jquery2.default)(r.target).position().left})},onmove:function(t){e+=t.dx,t.target.style.transform="translate3d("+e+"px, -3px, 100px)"},onend:function(r){e=0,t=0,(0,_jquery2.default)(r.target).css({position:"relative",zIndex:"",marginLeft:0,transform:"none"}),n.parentNode.removeChild(n);var o=[];$headers.find(".slick-header-column").each((function(e){o.push(columns[(0,_jquery2.default)(this).data("index")]),(0,_jquery2.default)(this).removeData("index")})),setColumns(o),trigger(self.onColumnsReordered,{grid:self}),setupColumnResize()}}).dropzone({accept:".slick-header-column",ondragenter:function(e){e.target.classList.add("interact-drop-active"),e.relatedTarget.classList.add("interact-can-drop")},ondragleave:function(e){e.target.classList.remove("interact-drop-active"),e.relatedTarget.classList.remove("interact-can-drop")},ondrop:function(t){t.target.classList.remove("interact-drop-active"),t.relatedTarget.classList.remove("interact-can-drop"),(0,_jquery2.default)(t.target)[e>0?"after":"before"](t.relatedTarget)}}).styleCursor(!1)}function setupColumnResize(){var e,t,n,r;(t=$headers.children()).find(".slick-resizable-handle").remove(),t.each((function(e,t){columns[e].resizable&&(void 0===n&&(n=e),r=e)})),void 0!==n&&t.each((function(t,o){if(!(t<n||options.forceFitColumns&&t>=r)&&(e=(0,_jquery2.default)(o),(0,_jquery2.default)("<div class='slick-resizable-handle' />").appendTo(o),!e.data("resizable"))){var i=columns[t];i.resizable&&(e.data("resizable",!0),(0,_interact2.default)(o).resizable({preserveAspectRatio:!1,edges:{left:!0,right:!0,bottom:!1,top:!1}}).on("resizestart",(function(e){return!!getEditorLock().commitCurrentEdit()&&(i.previousWidth=e.rect.width,void e.target.classList.add("slick-header-column-active"))})).on("resizemove",(function(e){var t=e.dx,n=i.width+=t;i.minWidth>0&&i.minWidth>n?n=i.minWidth:i.maxWidth>0&&i.maxWidth<n&&(n=i.maxWidth),i.width=n,options.forceFitColumns&&autosizeColumns(),applyColumnHeaderWidths(),options.syncColumnCellResize&&applyColumnWidths()})).on("resizeend",(function(e){e.target.classList.remove("slick-header-column-active"),invalidateAllRows(),updateCanvasWidth(!0),render(),trigger(self.onColumnsResized,{grid:self})})))}}))}function getVBoxDelta(e){var t=0;return _jquery2.default.each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],(function(n,r){t+=parseFloat(e.css(r))||0})),t}function measureCellPaddingAndBorder(){var e,t=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],r=_jquery2.default.fn.jquery.split(".");jQueryNewWidthBehaviour=1==r[0]&&r[1]>=8||r[0]>=2,e=(0,_jquery2.default)("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers),headerColumnWidthDiff=headerColumnHeightDiff=0,"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&(_jquery2.default.each(t,(function(t,n){headerColumnWidthDiff+=parseFloat(e.css(n))||0})),_jquery2.default.each(n,(function(t,n){headerColumnHeightDiff+=parseFloat(e.css(n))||0}))),e.remove();var o=(0,_jquery2.default)("<div class='slick-row' />").appendTo($canvas);e=(0,_jquery2.default)("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(o),cellWidthDiff=cellHeightDiff=0,"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&(_jquery2.default.each(t,(function(t,n){cellWidthDiff+=parseFloat(e.css(n))||0})),_jquery2.default.each(n,(function(t,n){cellHeightDiff+=parseFloat(e.css(n))||0}))),o.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=(0,_jquery2.default)("<style type='text/css' rel='stylesheet' />").appendTo((0,_jquery2.default)("head"));for(var e=options.rowHeight-cellHeightDiff,t=["."+uid+" .slick-header-column { left: 0; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-footerrow-columns { height:"+options.footerRowHeight+"px; }","."+uid+" .slick-cell { height:"+e+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }"],n=0;n<columns.length;n++)t.push("."+uid+" .l"+n+" { }"),t.push("."+uid+" .r"+n+" { }");$style[0].styleSheet?$style[0].styleSheet.cssText=t.join(" "):$style[0].appendChild(document.createTextNode(t.join(" ")))}function getColumnCssRules(e){if(!stylesheet){for(var t=document.styleSheets,n=0;n<t.length;n++)if((t[n].ownerNode||t[n].owningElement)==$style[0]){stylesheet=t[n];break}if(!stylesheet)throw new Error("Cannot find stylesheet.");columnCssRulesL=[],columnCssRulesR=[];var r,o,i=stylesheet.cssRules||stylesheet.rules;for(n=0;n<i.length;n++){var a=i[n].selectorText;(r=/\.l\d+/.exec(a))?(o=parseInt(r[0].substr(2,r[0].length-2),10),columnCssRulesL[o]=i[n]):(r=/\.r\d+/.exec(a))&&(o=parseInt(r[0].substr(2,r[0].length-2),10),columnCssRulesR[o]=i[n])}}return{left:columnCssRulesL[e],right:columnCssRulesR[e]}}function removeCssRules(){$style.remove(),stylesheet=null}function destroy(){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{grid:self});for(var e=plugins.length;e--;)unregisterPlugin(plugins[e]);unbindAncestorScrollEvents(),$container.unbind(".slickgrid"),removeCssRules(),$container.empty().removeClass(uid)}function trigger(e,t,n){return n=n||new _slick2.default.EventData,(t=t||{}).grid=self,e.notify(t,n,self)}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(e){return columnsById[e]}function autosizeColumns(){var e,t,n,r=[],o=0,i=0,a=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW;for(e=0;e<columns.length;e++)t=columns[e],r.push(t.width),i+=t.width,t.resizable&&(o+=t.width-Math.max(t.minWidth,absoluteColumnMinWidth));for(n=i;i>a&&o;){var s=(i-a)/o;for(e=0;e<columns.length&&i>a;e++){t=columns[e];var l=r[e];if(!(!t.resizable||l<=t.minWidth||l<=absoluteColumnMinWidth)){var c=Math.max(t.minWidth,absoluteColumnMinWidth),u=Math.floor(s*(l-c))||1;i-=u=Math.min(u,l-c),o-=u,r[e]-=u}}if(n<=i)break;n=i}for(n=i;i<a;){var d=a/i;for(e=0;e<columns.length&&i<a;e++){t=columns[e];var f,h=r[e];i+=f=!t.resizable||t.maxWidth<=h?0:Math.min(Math.floor(d*h)-h,t.maxWidth-h||1e6)||1,r[e]+=i<=a?f:0}if(n>=i)break;n=i}var p=!1;for(e=0;e<columns.length;e++)columns[e].rerenderOnResize&&columns[e].width!=r[e]&&(p=!0),columns[e].width=r[e];applyColumnHeaderWidths(),updateCanvasWidth(!0),p&&(invalidateAllRows(),render())}function applyColumnHeaderWidths(){if(initialized){for(var e,t=0,n=$headers.children("[id]"),r=n.length;t<r;t++)e=(0,_jquery2.default)(n[t]),jQueryNewWidthBehaviour?e.outerWidth()!==columns[t].width&&e.outerWidth(columns[t].width):e.width()!==columns[t].width-headerColumnWidthDiff&&e.width(columns[t].width-headerColumnWidthDiff);updateColumnCaches()}}function applyColumnWidths(){for(var e,t,n=0,r=0;r<columns.length;r++)e=columns[r].width,(t=getColumnCssRules(r)).left.style.left=n+"px",t.right.style.right=canvasWidth-n-e+"px",n+=columns[r].width}function setSortColumn(e,t){setSortColumns([{columnId:e,sortAsc:t}])}function setSortColumns(e){sortColumns=e;var t=$headers.children();t.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),_jquery2.default.each(sortColumns,(function(e,n){null==n.sortAsc&&(n.sortAsc=!0);var r=getColumnIndex(n.columnId);null!=r&&t.eq(r).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(n.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")}))}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(e,t){selectedRows=[];for(var n={},r=0;r<t.length;r++)for(var o=t[r].fromRow;o<=t[r].toRow;o++){n[o]||(selectedRows.push(o),n[o]={});for(var i=t[r].fromCell;i<=t[r].toCell;i++)canCellBeSelected(o,i)&&(n[o][columns[i].id]=options.selectedCellCssClass)}setCellCssStyles(options.selectedCellCssClass,n),trigger(self.onSelectedRowsChanged,{rows:getSelectedRows(),grid:self},e)}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[],columnPosRight=[];for(var e=0,t=0,n=columns.length;t<n;t++)columnPosLeft[t]=e,columnPosRight[t]=e+columns[t].width,e+=columns[t].width}function setColumns(e){columns=e,columnsById={};for(var t=0;t<columns.length;t++){var n=columns[t]=_jquery2.default.extend({},columnDefaults,columns[t]);columnsById[n.id]=t,n.minWidth&&n.width<n.minWidth&&(n.width=n.minWidth),n.maxWidth&&n.width>n.maxWidth&&(n.width=n.maxWidth)}updateColumnCaches(),initialized&&(invalidateAllRows(),createColumnHeaders(),removeCssRules(),createCssRules(),resizeCanvas(),applyColumnWidths(),handleScroll())}function getOptions(){return options}function setOptions(e){getEditorLock().commitCurrentEdit()&&(makeActiveCellNormal(),options.enableAddRow!==e.enableAddRow&&invalidateRow(getDataLength()),options=_jquery2.default.extend(options,e),validateAndEnforceOptions(),$viewport.css("overflow-y",options.autoHeight?"hidden":"auto"),render())}function validateAndEnforceOptions(){options.autoHeight&&(options.leaveSpaceForNewRows=!1)}function setData(e,t){data=e,invalidateAllRows(),updateRowCount(),t&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data.length}function getDataLengthIncludingAddNew(){return getDataLength()+(options.enableAddRow?1:0)}function getDataItem(e){return data.getItem?data.getItem(e):data[e]}function getTopPanel(){return $topPanel[0]}function setTopPanelVisibility(e){options.showTopPanel!=e&&(options.showTopPanel=e,e?$topPanelScroller.slideDown("fast",resizeCanvas):$topPanelScroller.slideUp("fast",resizeCanvas))}function setHeaderRowVisibility(e){options.showHeaderRow!=e&&(options.showHeaderRow=e,e?$headerRowScroller.slideDown("fast",resizeCanvas):$headerRowScroller.slideUp("fast",resizeCanvas))}function setFooterRowVisibility(e){options.showFooterRow!=e&&(options.showFooterRow=e,e?$footerRowScroller.slideDown("fast",resizeCanvas):$footerRowScroller.slideUp("fast",resizeCanvas))}function getContainerNode(){return $container.get(0)}function getRowTop(e){return options.rowHeight*e-offset}function getRowFromPosition(e){return Math.floor((e+offset)/options.rowHeight)}function scrollTo(e){e=Math.max(e,0),e=Math.min(e,th-viewportH+(viewportHasHScroll?scrollbarDimensions.height:0));var t=offset;page=Math.min(n-1,Math.floor(e/ph));var r=e-(offset=Math.round(page*cj));offset!=t&&(cleanupRows(getVisibleRange(r)),updateRowPositions());prevScrollTop!=r&&(vScrollDir=prevScrollTop+t<r+offset?1:-1,$viewport[0].scrollTop=lastRenderedScrollTop=scrollTop=prevScrollTop=r,trigger(self.onViewportChanged,{grid:self}))}function defaultFormatter(e,t,n,r,o){return null==n?"":(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getFormatter(e,t){var n=data.getItemMetadata&&data.getItemMetadata(e),r=n&&n.columns&&(n.columns[t.id]||n.columns[getColumnIndex(t.id)]);return r&&r.formatter||n&&n.formatter||t.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(t)||options.defaultFormatter}function getEditor(e,t){var n=columns[t],r=data.getItemMetadata&&data.getItemMetadata(e),o=r&&r.columns;return o&&o[n.id]&&void 0!==o[n.id].editor?o[n.id].editor:o&&o[t]&&void 0!==o[t].editor?o[t].editor:n.editor||options.editorFactory&&options.editorFactory.getEditor(n)}function getDataItemValueForColumn(e,t){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(e,t):e[t.field]}function appendRowHtml(e,t,n,r){var o=getDataItem(t),i="slick-row"+(t<r&&!o?" loading":"")+(t===activeRow?" active":"")+(t%2==1?" odd":" even");o||(i+=" "+options.addNewRowCssClass);var a=data.getItemMetadata&&data.getItemMetadata(t);a&&a.cssClasses&&(i+=" "+a.cssClasses),e.push("<div class='ui-widget-content "+i+"' style='top:"+getRowTop(t)+"px'>");for(var s,l,c=0,u=columns.length;c<u;c++){if(l=columns[c],s=1,a&&a.columns){var d=a.columns[l.id]||a.columns[c];"*"===(s=d&&d.colspan||1)&&(s=u-c)}if(columnPosRight[Math.min(u-1,c+s-1)]>n.leftPx){if(columnPosLeft[c]>n.rightPx)break;appendCellHtml(e,t,c,s,o)}s>1&&(c+=s-1)}e.push("</div>")}function appendCellHtml(e,t,n,r,o){var i=columns[n],a="slick-cell l"+n+" r"+Math.min(columns.length-1,n+r-1)+(i.cssClass?" "+i.cssClass:"");for(var s in t===activeRow&&n===activeCell&&(a+=" active"),cellCssClasses)cellCssClasses[s][t]&&cellCssClasses[s][t][i.id]&&(a+=" "+cellCssClasses[s][t][i.id]);if(e.push("<div class='"+a+"'>"),o){var l=getDataItemValueForColumn(o,i);e.push(getFormatter(t,i)(t,n,l,i,o))}e.push("</div>"),rowsCache[t].cellRenderQueue.push(n),rowsCache[t].cellColSpans[n]=r}function cleanupRows(e){for(var t in rowsCache)(t=parseInt(t,10))!==activeRow&&(t<e.top||t>e.bottom)&&removeRowFromCache(t);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}function invalidate(){updateRowCount(),invalidateAllRows(),render()}function invalidateAllRows(){for(var e in currentEditor&&makeActiveCellNormal(),rowsCache)removeRowFromCache(e);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}function queuePostProcessedRowForCleanup(e,t,n){for(var r in postProcessgroupId++,t)t.hasOwnProperty(r)&&postProcessedCleanupQueue.push({actionType:"C",groupId:postProcessgroupId,node:e.cellNodesByColumnIdx[0|r],columnIdx:0|r,rowIdx:n});postProcessedCleanupQueue.push({actionType:"R",groupId:postProcessgroupId,node:e.rowNode}),(0,_jquery2.default)(e.rowNode).detach()}function queuePostProcessedCellForCleanup(e,t,n){postProcessedCleanupQueue.push({actionType:"C",groupId:postProcessgroupId,node:e,columnIdx:t,rowIdx:n}),(0,_jquery2.default)(e).detach()}function removeRowFromCache(e){var t=rowsCache[e];t&&(rowNodeFromLastMouseWheelEvent===t.rowNode?(t.rowNode.style.display="none",zombieRowNodeFromLastMouseWheelEvent=rowNodeFromLastMouseWheelEvent,zombieRowCacheFromLastMouseWheelEvent=t,zombieRowPostProcessedFromLastMouseWheelEvent=postProcessedRows[e]):options.enableAsyncPostRenderCleanup&&postProcessedRows[e]?queuePostProcessedRowForCleanup(t,postProcessedRows[e],e):$canvas[0].removeChild(t.rowNode),delete rowsCache[e],delete postProcessedRows[e],renderedRows--,counter_rows_removed++)}function invalidateRows(e){var t,n;if(e&&e.length){for(vScrollDir=0,t=0,n=e.length;t<n;t++)currentEditor&&activeRow===e[t]&&makeActiveCellNormal(),rowsCache[e[t]]&&removeRowFromCache(e[t]);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}}function invalidateRow(e){invalidateRows([e])}function updateCell(e,t){var n=getCellNode(e,t);if(n){var r=columns[t],o=getDataItem(e);currentEditor&&activeRow===e&&activeCell===t?currentEditor.loadValue(o):(n.innerHTML=o?getFormatter(e,r)(e,t,getDataItemValueForColumn(o,r),r,o):"",invalidatePostProcessingResults(e))}}function updateRow(e){var t=rowsCache[e];if(t){ensureCellNodesInRowsCache(e);var n=getDataItem(e);for(var r in t.cellNodesByColumnIdx)if(t.cellNodesByColumnIdx.hasOwnProperty(r)){var o=columns[r|=0],i=t.cellNodesByColumnIdx[r];e===activeRow&&r===activeCell&&currentEditor?currentEditor.loadValue(n):i.innerHTML=n?getFormatter(e,o)(e,r,getDataItemValueForColumn(n,o),o,n):""}invalidatePostProcessingResults(e)}}function getViewportHeight(){return parseFloat(_jquery2.default.css($container[0],"height",!0))-parseFloat(_jquery2.default.css($container[0],"paddingTop",!0))-parseFloat(_jquery2.default.css($container[0],"paddingBottom",!0))-parseFloat(_jquery2.default.css($headerScroller[0],"height"))-getVBoxDelta($headerScroller)-(options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller):0)-(options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0)-(options.createFooterRow&&options.showFooterRow?options.footerRowHeight+getVBoxDelta($footerRowScroller):0)}function resizeCanvas(){initialized&&(viewportH=options.autoHeight?options.rowHeight*getDataLengthIncludingAddNew():getViewportHeight(),numVisibleRows=Math.ceil(viewportH/options.rowHeight),viewportW=parseFloat(_jquery2.default.css($container[0],"width",!0)),options.autoHeight||$viewport.height(viewportH),options.forceFitColumns&&autosizeColumns(),updateRowCount(),handleScroll(),lastRenderedScrollLeft=-1,render())}function updateRowCount(){if(initialized){var e=getDataLengthIncludingAddNew(),t=e+(options.leaveSpaceForNewRows?numVisibleRows-1:0),r=viewportHasVScroll;viewportHasVScroll=!options.autoHeight&&t*options.rowHeight>viewportH,viewportHasHScroll=canvasWidth>viewportW-scrollbarDimensions.width,makeActiveCellNormal();var o=e-1;for(var i in rowsCache)i>o&&removeRowFromCache(i);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup(),activeCellNode&&activeRow>o&&resetActiveCell();var a=h;(th=Math.max(options.rowHeight*t,viewportH-scrollbarDimensions.height))<maxSupportedCssHeight?(h=ph=th,n=1,cj=0):(ph=(h=maxSupportedCssHeight)/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==a&&($canvas.css("height",h),scrollTop=$viewport[0].scrollTop);var s=scrollTop+offset<=th-viewportH;0==th||0==scrollTop?page=offset=0:scrollTo(s?scrollTop+offset:th-viewportH),h!=a&&options.autoHeight&&resizeCanvas(),options.forceFitColumns&&r!=viewportHasVScroll&&autosizeColumns(),updateCanvasWidth(!1)}}function getVisibleRange(e,t){return null==e&&(e=scrollTop),null==t&&(t=scrollLeft),{top:getRowFromPosition(e),bottom:getRowFromPosition(e+viewportH)+1,leftPx:t,rightPx:t+viewportW}}function getRenderedRange(e,t){var n=getVisibleRange(e,t),r=Math.round(viewportH/options.rowHeight);return-1==vScrollDir?(n.top-=r,n.bottom+=3):1==vScrollDir?(n.top-=3,n.bottom+=r):(n.top-=3,n.bottom+=3),n.top=Math.max(0,n.top),n.bottom=Math.min(getDataLengthIncludingAddNew()-1,n.bottom),n.leftPx-=viewportW,n.rightPx+=viewportW,n.leftPx=Math.max(0,n.leftPx),n.rightPx=Math.min(canvasWidth,n.rightPx),n}function ensureCellNodesInRowsCache(e){var t=rowsCache[e];if(t&&t.cellRenderQueue.length)for(var n=t.rowNode.lastChild;t.cellRenderQueue.length;){var r=t.cellRenderQueue.pop();t.cellNodesByColumnIdx[r]=n,n=n.previousSibling}}function cleanUpCells(e,t){var n,r,o=rowsCache[t],i=[];for(var a in o.cellNodesByColumnIdx)if(o.cellNodesByColumnIdx.hasOwnProperty(a)){a|=0;var s=o.cellColSpans[a];(columnPosLeft[a]>e.rightPx||columnPosRight[Math.min(columns.length-1,a+s-1)]<e.leftPx)&&(t==activeRow&&a==activeCell||i.push(a))}for(postProcessgroupId++;null!=(n=i.pop());)r=o.cellNodesByColumnIdx[n],options.enableAsyncPostRenderCleanup&&postProcessedRows[t]&&postProcessedRows[t][n]?queuePostProcessedCellForCleanup(r,n,t):o.rowNode.removeChild(r),delete o.cellColSpans[n],delete o.cellNodesByColumnIdx[n],postProcessedRows[t]&&delete postProcessedRows[t][n]}function cleanUpAndRenderCells(e){for(var t,n,r,o=[],i=[],a=e.top,s=e.bottom;a<=s;a++)if(t=rowsCache[a]){ensureCellNodesInRowsCache(a),cleanUpCells(e,a),n=0;var l=data.getItemMetadata&&data.getItemMetadata(a);l=l&&l.columns;for(var c=getDataItem(a),u=0,d=columns.length;u<d&&!(columnPosLeft[u]>e.rightPx);u++)if(null==(r=t.cellColSpans[u])){if(r=1,l){var f=l[columns[u].id]||l[u];"*"===(r=f&&f.colspan||1)&&(r=d-u)}columnPosRight[Math.min(d-1,u+r-1)]>e.leftPx&&(appendCellHtml(o,a,u,r,c),n++),u+=r>1?r-1:0}else u+=r>1?r-1:0;n&&i.push(a)}if(o.length){var h,p,g=document.createElement("div");for(g.innerHTML=o.join("");null!=(h=i.pop());){t=rowsCache[h];for(var m;null!=(m=t.cellRenderQueue.pop());)p=g.lastChild,t.rowNode.appendChild(p),t.cellNodesByColumnIdx[m]=p}}}function renderRows(e){for(var t=$canvas[0],n=[],r=[],o=!1,i=getDataLength(),a=e.top,s=e.bottom;a<=s;a++)rowsCache[a]||(renderedRows++,r.push(a),rowsCache[a]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},appendRowHtml(n,a,e,i),activeCellNode&&activeRow===a&&(o=!0),counter_rows_rendered++);if(r.length){var l=document.createElement("div");l.innerHTML=n.join("");for(a=0,s=r.length;a<s;a++)rowsCache[r[a]].rowNode=t.appendChild(l.firstChild);o&&(activeCellNode=getCellNode(activeRow,activeCell))}}function startPostProcessing(){options.enableAsyncPostRender&&(clearTimeout(h_postrender),h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}function startPostProcessingCleanup(){options.enableAsyncPostRenderCleanup&&(clearTimeout(h_postrenderCleanup),h_postrenderCleanup=setTimeout(asyncPostProcessCleanupRows,options.asyncPostRenderCleanupDelay))}function invalidatePostProcessingResults(e){for(var t in postProcessedRows[e])postProcessedRows[e].hasOwnProperty(t)&&(postProcessedRows[e][t]="C");postProcessFromRow=Math.min(postProcessFromRow,e),postProcessToRow=Math.max(postProcessToRow,e),startPostProcessing()}function updateRowPositions(){for(var e in rowsCache)rowsCache[e].rowNode.style.top=getRowTop(e)+"px"}function render(){if(initialized){var e=getVisibleRange(),t=getRenderedRange();cleanupRows(t),lastRenderedScrollLeft!=scrollLeft&&cleanUpAndRenderCells(t),renderRows(t),postProcessFromRow=e.top,postProcessToRow=Math.min(getDataLengthIncludingAddNew()-1,e.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,lastRenderedScrollLeft=scrollLeft,h_render=null}}function handleHeaderRowScroll(){var e=$headerRowScroller[0].scrollLeft;e!=$viewport[0].scrollLeft&&($viewport[0].scrollLeft=e)}function handleFooterRowScroll(){var e=$footerRowScroller[0].scrollLeft;e!=$viewport[0].scrollLeft&&($viewport[0].scrollLeft=e)}function handleScroll(){scrollTop=$viewport[0].scrollTop,scrollLeft=$viewport[0].scrollLeft;var e=Math.abs(scrollTop-prevScrollTop),t=Math.abs(scrollLeft-prevScrollLeft);if(t&&(prevScrollLeft=scrollLeft,$headerScroller[0].scrollLeft=scrollLeft,$topPanelScroller[0].scrollLeft=scrollLeft,$headerRowScroller[0].scrollLeft=scrollLeft,options.createFooterRow&&($footerRowScroller[0].scrollLeft=scrollLeft)),e)if(vScrollDir=prevScrollTop<scrollTop?1:-1,prevScrollTop=scrollTop,e<viewportH)scrollTo(scrollTop+offset);else{var r=offset;page=h==viewportH?0:Math.min(n-1,Math.floor(scrollTop*((th-viewportH)/(h-viewportH))*(1/ph))),r!=(offset=Math.round(page*cj))&&invalidateAllRows()}(t||e)&&(h_render&&clearTimeout(h_render),(Math.abs(lastRenderedScrollTop-scrollTop)>20||Math.abs(lastRenderedScrollLeft-scrollLeft)>20)&&(options.forceSyncScrolling||Math.abs(lastRenderedScrollTop-scrollTop)<viewportH&&Math.abs(lastRenderedScrollLeft-scrollLeft)<viewportW?render():h_render=setTimeout(render,50),trigger(self.onViewportChanged,{grid:self}))),trigger(self.onScroll,{scrollLeft:scrollLeft,scrollTop:scrollTop,grid:self})}function asyncPostProcessRows(){for(var e=getDataLength();postProcessFromRow<=postProcessToRow;){var t=vScrollDir>=0?postProcessFromRow++:postProcessToRow--,n=rowsCache[t];if(n&&!(t>=e)){for(var r in postProcessedRows[t]||(postProcessedRows[t]={}),ensureCellNodesInRowsCache(t),n.cellNodesByColumnIdx)if(n.cellNodesByColumnIdx.hasOwnProperty(r)){var o=columns[r|=0],i=postProcessedRows[t][r];if(o.asyncPostRender&&"R"!==i){var a=n.cellNodesByColumnIdx[r];a&&o.asyncPostRender(a,t,getDataItem(t),o,"C"===i),postProcessedRows[t][r]="R"}}return void(h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}}}function asyncPostProcessCleanupRows(){if(postProcessedCleanupQueue.length>0){for(var e=postProcessedCleanupQueue[0].groupId;postProcessedCleanupQueue.length>0&&postProcessedCleanupQueue[0].groupId==e;){var t=postProcessedCleanupQueue.shift();if("R"==t.actionType&&(0,_jquery2.default)(t.node).remove(),"C"==t.actionType){var n=columns[t.columnIdx];n.asyncPostRenderCleanup&&t.node&&n.asyncPostRenderCleanup(t.node,t.rowIdx,n)}}h_postrenderCleanup=setTimeout(asyncPostProcessCleanupRows,options.asyncPostRenderCleanupDelay)}}function updateCellCssStylesOnRenderedRows(e,t){var n,r,o,i;for(var a in rowsCache){if(i=t&&t[a],o=e&&e[a],i)for(r in i)o&&i[r]==o[r]||(n=getCellNode(a,getColumnIndex(r)))&&(0,_jquery2.default)(n).removeClass(i[r]);if(o)for(r in o)i&&i[r]==o[r]||(n=getCellNode(a,getColumnIndex(r)))&&(0,_jquery2.default)(n).addClass(o[r])}}function addCellCssStyles(e,t){if(cellCssClasses[e])throw"addCellCssStyles: cell CSS hash with key '"+e+"' already exists.";cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,null),trigger(self.onCellCssStylesChanged,{key:e,hash:t,grid:self})}function removeCellCssStyles(e){cellCssClasses[e]&&(updateCellCssStylesOnRenderedRows(null,cellCssClasses[e]),delete cellCssClasses[e],trigger(self.onCellCssStylesChanged,{key:e,hash:null,grid:self}))}function setCellCssStyles(e,t){var n=cellCssClasses[e];cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,n),trigger(self.onCellCssStylesChanged,{key:e,hash:t,grid:self})}function getCellCssStyles(e){return cellCssClasses[e]}function flashCell(e,t,n){if(n=n||100,rowsCache[e]){var r=(0,_jquery2.default)(getCellNode(e,t));!function e(t){t&&setTimeout((function(){r.queue((function(){r.toggleClass(options.cellFlashingCssClass).dequeue(),e(t-1)}))}),n)}(4)}}function handleMouseWheel(e){var t=(0,_jquery2.default)(e.target).closest(".slick-row")[0];t!=rowNodeFromLastMouseWheelEvent&&(zombieRowNodeFromLastMouseWheelEvent&&zombieRowNodeFromLastMouseWheelEvent!=t&&(options.enableAsyncPostRenderCleanup&&zombieRowPostProcessedFromLastMouseWheelEvent?queuePostProcessedRowForCleanup(zombieRowCacheFromLastMouseWheelEvent,zombieRowPostProcessedFromLastMouseWheelEvent):$canvas[0].removeChild(zombieRowNodeFromLastMouseWheelEvent),zombieRowNodeFromLastMouseWheelEvent=null,zombieRowCacheFromLastMouseWheelEvent=null,zombieRowPostProcessedFromLastMouseWheelEvent=null,options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()),rowNodeFromLastMouseWheelEvent=t)}function handleDragStart(e){var t=_jquery2.default.Event(e.originalEvent.type,e.originalEvent),n=getCellFromEvent(t);if(!n||!cellExists(n.row,n.cell))return!1;var r=trigger(self.onDragStart,e,t);return!!t.isImmediatePropagationStopped()&&r}function handleDrag(e){var t=_jquery2.default.Event(e.originalEvent.type,e.originalEvent);return trigger(self.onDrag,e,t)}function handleDragEnd(e){trigger(self.onDragEnd,e,_jquery2.default.Event("mousedown"))}function handleKeyDown(e){trigger(self.onKeyDown,{row:activeRow,cell:activeCell,grid:self},e);var t=e.isImmediatePropagationStopped(),n=_slick2.default.keyCode;if(!t)if(e.shiftKey||e.altKey||e.ctrlKey)e.which!=n.TAB||!e.shiftKey||e.ctrlKey||e.altKey||(t=navigatePrev());else{if(options.editable&&currentEditor&&currentEditor.keyCaptureList&&currentEditor.keyCaptureList.indexOf(e.which)>-1)return;if(e.which==n.ESCAPE){if(!getEditorLock().isActive())return;cancelEditAndSetFocus()}else e.which==n.PAGE_DOWN?(navigatePageDown(),t=!0):e.which==n.PAGE_UP?(navigatePageUp(),t=!0):e.which==n.LEFT?t=navigateLeft():e.which==n.RIGHT?t=navigateRight():e.which==n.UP?t=navigateUp():e.which==n.DOWN?t=navigateDown():e.which==n.TAB?t=navigateNext():e.which==n.ENTER&&(options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable()),t=!0)}if(t){e.stopPropagation(),e.preventDefault();try{e.originalEvent.keyCode=0}catch(e){}}}function handleClick(e){currentEditor||(e.target!=document.activeElement||(0,_jquery2.default)(e.target).hasClass("slick-cell"))&&setFocus();var t=getCellFromEvent(e);!t||null!==currentEditor&&activeRow==t.row&&activeCell==t.cell||(trigger(self.onClick,{row:t.row,cell:t.cell,grid:self},e),e.isImmediatePropagationStopped()||activeCell==t.cell&&activeRow==t.row||!canCellBeActive(t.row,t.cell)||getEditorLock().isActive()&&!getEditorLock().commitCurrentEdit()||(scrollRowIntoView(t.row,!1),setActiveCellInternal(getCellNode(t.row,t.cell))))}function handleContextMenu(e){var t=(0,_jquery2.default)(e.target).closest(".slick-cell",$canvas);0!==t.length&&(activeCellNode===t[0]&&null!==currentEditor||trigger(self.onContextMenu,{grid:self},e))}function handleDblClick(e){var t=getCellFromEvent(e);!t||null!==currentEditor&&activeRow==t.row&&activeCell==t.cell||(trigger(self.onDblClick,{row:t.row,cell:t.cell,grid:self},e),e.isImmediatePropagationStopped()||options.editable&&gotoCell(t.row,t.cell,!0))}function handleHeaderMouseEnter(e){trigger(self.onHeaderMouseEnter,{column:(0,_jquery2.default)(this).data("column"),grid:self},e)}function handleHeaderMouseLeave(e){trigger(self.onHeaderMouseLeave,{column:(0,_jquery2.default)(this).data("column"),grid:self},e)}function handleHeaderContextMenu(e){var t=(0,_jquery2.default)(e.target).closest(".slick-header-column",".slick-header-columns"),n=t&&t.data("column");trigger(self.onHeaderContextMenu,{column:n,grid:self},e)}function handleHeaderClick(e){var t=(0,_jquery2.default)(e.target).closest(".slick-header-column",".slick-header-columns"),n=t&&t.data("column");n&&trigger(self.onHeaderClick,{column:n,grid:self},e)}function handleMouseEnter(e){trigger(self.onMouseEnter,{grid:self},e)}function handleMouseLeave(e){trigger(self.onMouseLeave,{grid:self},e)}function cellExists(e,t){return!(e<0||e>=getDataLength()||t<0||t>=columns.length)}function getCellFromPoint(e,t){for(var n=getRowFromPosition(t),r=0,o=0,i=0;i<columns.length&&o<e;i++)o+=columns[i].width,r++;return r<0&&(r=0),{row:n,cell:r-1}}function getCellFromNode(e){var t=/l\d+/.exec(e.className);if(!t)throw"getCellFromNode: cannot get cell - "+e.className;return parseInt(t[0].substr(1,t[0].length-1),10)}function getRowFromNode(e){for(var t in rowsCache)if(rowsCache[t].rowNode===e)return 0|t;return null}function getCellFromEvent(e){var t=(0,_jquery2.default)(e.target).closest(".slick-cell",$canvas);if(!t.length)return null;var n=getRowFromNode(t[0].parentNode),r=getCellFromNode(t[0]);return null==n||null==r?null:{row:n,cell:r}}function getCellNodeBox(e,t){if(!cellExists(e,t))return null;for(var n=getRowTop(e),r=n+options.rowHeight-1,o=0,i=0;i<t;i++)o+=columns[i].width;return{top:n,left:o,bottom:r,right:o+columns[t].width}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){-1==tabbingDirection?$focusSink[0].focus():$focusSink2[0].focus()}function scrollCellIntoView(e,t,n){scrollRowIntoView(e,n);var r=getColspan(e,t),o=columnPosLeft[t],i=columnPosRight[t+(r>1?r-1:0)],a=scrollLeft+viewportW;o<scrollLeft?($viewport.scrollLeft(o),handleScroll(),render()):i>a&&($viewport.scrollLeft(Math.min(o,i-$viewport[0].clientWidth)),handleScroll(),render())}function setActiveCellInternal(e,t){null!==activeCellNode&&(makeActiveCellNormal(),(0,_jquery2.default)(activeCellNode).removeClass("active"),rowsCache[activeRow]&&(0,_jquery2.default)(rowsCache[activeRow].rowNode).removeClass("active"));var n=activeCellNode!==e;null!=(activeCellNode=e)?(activeRow=getRowFromNode(activeCellNode.parentNode),activeCell=activePosX=getCellFromNode(activeCellNode),null==t&&(t=activeRow==getDataLength()||options.autoEdit),(0,_jquery2.default)(activeCellNode).addClass("active"),(0,_jquery2.default)(rowsCache[activeRow].rowNode).addClass("active"),options.editable&&t&&isCellPotentiallyEditable(activeRow,activeCell)&&(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout((function(){makeActiveCellEditable()}),options.asyncEditorLoadDelay):makeActiveCellEditable())):activeRow=activeCell=null,n&&trigger(self.onActiveCellChanged,getActiveCell())}function clearTextSelection(){if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}else if(window.getSelection){var e=window.getSelection();e&&e.removeAllRanges&&e.removeAllRanges()}}function isCellPotentiallyEditable(e,t){var n=getDataLength();return!(e<n&&!getDataItem(e)||columns[t].cannotTriggerInsert&&e>=n||!getEditor(e,t))}function makeActiveCellNormal(){if(currentEditor){if(trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor,grid:self}),currentEditor.destroy(),currentEditor=null,activeCellNode){var e=getDataItem(activeRow);if((0,_jquery2.default)(activeCellNode).removeClass("editable invalid"),e){var t=columns[activeCell],n=getFormatter(activeRow,t);activeCellNode.innerHTML=n(activeRow,activeCell,getDataItemValueForColumn(e,t),t,e,self),invalidatePostProcessingResults(activeRow)}}navigator.userAgent.toLowerCase().match(/msie/)&&clearTextSelection(),getEditorLock().deactivate(editController)}}function makeActiveCellEditable(e){if(activeCellNode){if(!options.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";if(clearTimeout(h_editorLoader),isCellPotentiallyEditable(activeRow,activeCell)){var t=columns[activeCell],n=getDataItem(activeRow);if(!1===trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:n,column:t,grid:self}))return void setFocus();getEditorLock().activate(editController),(0,_jquery2.default)(activeCellNode).addClass("editable");var r=e||getEditor(activeRow,activeCell);e||r.suppressClearOnEdit||(activeCellNode.innerHTML=""),currentEditor=new r({grid:self,gridPosition:absBox($container[0]),position:absBox(activeCellNode),container:activeCellNode,column:t,item:n||{},commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus}),n&&currentEditor.loadValue(n),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()}}}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(e){var t={top:e.offsetTop,left:e.offsetLeft,bottom:0,right:0,width:(0,_jquery2.default)(e).outerWidth(),height:(0,_jquery2.default)(e).outerHeight(),visible:!0};t.bottom=t.top+t.height,t.right=t.left+t.width;for(var n=e.offsetParent;(e=e.parentNode)!=document.body&&null!=e;)t.visible&&e.scrollHeight!=e.offsetHeight&&"visible"!=(0,_jquery2.default)(e).css("overflowY")&&(t.visible=t.bottom>e.scrollTop&&t.top<e.scrollTop+e.clientHeight),t.visible&&e.scrollWidth!=e.offsetWidth&&"visible"!=(0,_jquery2.default)(e).css("overflowX")&&(t.visible=t.right>e.scrollLeft&&t.left<e.scrollLeft+e.clientWidth),t.left-=e.scrollLeft,t.top-=e.scrollTop,e===n&&(t.left+=e.offsetLeft,t.top+=e.offsetTop,n=e.offsetParent),t.bottom=t.top+t.height,t.right=t.left+t.width;return t}function getActiveCellPosition(){return absBox(activeCellNode)}function getGridPosition(){return absBox($container[0])}function handleActiveCellPositionChange(){if(activeCellNode&&(trigger(self.onActiveCellPositionChanged,{grid:self}),currentEditor)){var e=getActiveCellPosition();currentEditor.show&&currentEditor.hide&&(e.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(e)}}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell,grid:self}:null}function getActiveCellNode(){return activeCellNode}function scrollRowIntoView(e,t){var n=e*options.rowHeight,r=(e+1)*options.rowHeight-viewportH+(viewportHasHScroll?scrollbarDimensions.height:0);(e+1)*options.rowHeight>scrollTop+viewportH+offset?(scrollTo(t?n:r),render()):e*options.rowHeight<scrollTop+offset&&(scrollTo(t?r:n),render())}function scrollRowToTop(e){scrollTo(e*options.rowHeight),render()}function scrollPage(e){var t=e*numVisibleRows;if(scrollTo((getRowFromPosition(scrollTop)+t)*options.rowHeight),render(),options.enableCellNavigation&&null!=activeRow){var n=activeRow+t,r=getDataLengthIncludingAddNew();n>=r&&(n=r-1),n<0&&(n=0);for(var o=0,i=null,a=activePosX;o<=activePosX;)canCellBeActive(n,o)&&(i=o),o+=getColspan(n,o);null!==i?(setActiveCellInternal(getCellNode(n,i)),activePosX=a):resetActiveCell()}}function navigatePageDown(){scrollPage(1)}function navigatePageUp(){scrollPage(-1)}function getColspan(e,t){var n=data.getItemMetadata&&data.getItemMetadata(e);if(!n||!n.columns)return 1;var r=n.columns[columns[t].id]||n.columns[t],o=r&&r.colspan;return"*"===o?columns.length-t:o||1}function findFirstFocusableCell(e){for(var t=0;t<columns.length;){if(canCellBeActive(e,t))return t;t+=getColspan(e,t)}return null}function findLastFocusableCell(e){for(var t=0,n=null;t<columns.length;)canCellBeActive(e,t)&&(n=t),t+=getColspan(e,t);return n}function gotoRight(e,t,n){if(t>=columns.length)return null;do{t+=getColspan(e,t)}while(t<columns.length&&!canCellBeActive(e,t));return t<columns.length?{row:e,cell:t,posX:t}:null}function gotoLeft(e,t,n){if(t<=0)return null;var r=findFirstFocusableCell(e);if(null===r||r>=t)return null;for(var o,i={row:e,cell:r,posX:r};;){if(!(o=gotoRight(i.row,i.cell,i.posX)))return null;if(o.cell>=t)return i;i=o}}function gotoDown(e,t,n){for(var r,o=getDataLengthIncludingAddNew();;){if(++e>=o)return null;for(r=t=0;t<=n;)r=t,t+=getColspan(e,t);if(canCellBeActive(e,r))return{row:e,cell:r,posX:n}}}function gotoUp(e,t,n){for(var r;;){if(--e<0)return null;for(r=t=0;t<=n;)r=t,t+=getColspan(e,t);if(canCellBeActive(e,r))return{row:e,cell:r,posX:n}}}function gotoNext(e,t,n){if(null==e&&null==t&&canCellBeActive(e=t=n=0,t))return{row:e,cell:t,posX:t};var r=gotoRight(e,t,n);if(r)return r;for(var o=null,i=getDataLengthIncludingAddNew();++e<i;)if(null!==(o=findFirstFocusableCell(e)))return{row:e,cell:o,posX:o};return null}function gotoPrev(e,t,n){if(null==e&&null==t&&canCellBeActive(e=getDataLengthIncludingAddNew()-1,t=n=columns.length-1))return{row:e,cell:t,posX:t};for(var r,o;!r&&!(r=gotoLeft(e,t,n));){if(--e<0)return null;t=0,null!==(o=findLastFocusableCell(e))&&(r={row:e,cell:o,posX:o})}return r}function navigateRight(){return navigate("right")}function navigateLeft(){return navigate("left")}function navigateDown(){return navigate("down")}function navigateUp(){return navigate("up")}function navigateNext(){return navigate("next")}function navigatePrev(){return navigate("prev")}function navigate(e){if(!options.enableCellNavigation)return!1;if(!activeCellNode&&"prev"!=e&&"next"!=e)return!1;if(!getEditorLock().commitCurrentEdit())return!0;setFocus();tabbingDirection={up:-1,down:1,left:-1,right:1,prev:-1,next:1}[e];var t=(0,{up:gotoUp,down:gotoDown,left:gotoLeft,right:gotoRight,prev:gotoPrev,next:gotoNext}[e])(activeRow,activeCell,activePosX);if(t){var n=t.row==getDataLength();return scrollCellIntoView(t.row,t.cell,!n),setActiveCellInternal(getCellNode(t.row,t.cell)),activePosX=t.posX,!0}return setActiveCellInternal(getCellNode(activeRow,activeCell)),!1}function getCellNode(e,t){return rowsCache[e]?(ensureCellNodesInRowsCache(e),rowsCache[e].cellNodesByColumnIdx[t]):null}function setActiveCell(e,t){initialized&&(e>getDataLength()||e<0||t>=columns.length||t<0||options.enableCellNavigation&&(scrollCellIntoView(e,t,!1),setActiveCellInternal(getCellNode(e,t),!1)))}function canCellBeActive(e,t){if(!options.enableCellNavigation||e>=getDataLengthIncludingAddNew()||e<0||t>=columns.length||t<0)return!1;var n=data.getItemMetadata&&data.getItemMetadata(e);if(n&&"boolean"==typeof n.focusable)return n.focusable;var r=n&&n.columns;return r&&r[columns[t].id]&&"boolean"==typeof r[columns[t].id].focusable?r[columns[t].id].focusable:r&&r[t]&&"boolean"==typeof r[t].focusable?r[t].focusable:columns[t].focusable}function canCellBeSelected(e,t){if(e>=getDataLength()||e<0||t>=columns.length||t<0)return!1;var n=data.getItemMetadata&&data.getItemMetadata(e);if(n&&"boolean"==typeof n.selectable)return n.selectable;var r=n&&n.columns&&(n.columns[columns[t].id]||n.columns[t]);return r&&"boolean"==typeof r.selectable?r.selectable:columns[t].selectable}function gotoCell(e,t,n){initialized&&canCellBeActive(e,t)&&getEditorLock().commitCurrentEdit()&&(scrollCellIntoView(e,t,!1),setActiveCellInternal(getCellNode(e,t),n||e===getDataLength()||options.autoEdit),currentEditor||setFocus())}function commitCurrentEdit(){var e=getDataItem(activeRow),t=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var n=currentEditor.validate();if(n.valid){if(activeRow<getDataLength()){var r={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(e,this.serializedValue),updateRow(this.row),trigger(self.onCellChange,{row:activeRow,cell:activeCell,item:e,grid:self})},undo:function(){this.editor.applyValue(e,this.prevSerializedValue),updateRow(this.row),trigger(self.onCellChange,{row:activeRow,cell:activeCell,item:e,grid:self})}};options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(e,t,r)):(r.execute(),makeActiveCellNormal())}else{var o={};currentEditor.applyValue(o,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:o,column:t,grid:self})}return!getEditorLock().isActive()}return(0,_jquery2.default)(activeCellNode).removeClass("invalid"),(0,_jquery2.default)(activeCellNode).width(),(0,_jquery2.default)(activeCellNode).addClass("invalid"),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:n,row:activeRow,cell:activeCell,column:t,grid:self}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(e){for(var t=[],n=columns.length-1,r=0;r<e.length;r++)t.push(new _slick2.default.Range(e[r],0,e[r],n));return t}function getSelectedRows(){if(!selectionModel)throw"Selection model is not set";return selectedRows}function setSelectedRows(e){if(!selectionModel)throw"Selection model is not set";selectionModel.setSelectedRanges(rowsToRanges(e))}var defaults={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,enableAsyncPostRenderCleanup:!1,asyncPostRenderCleanupDelay:40,autoHeight:!1,editorLock:_slick2.default.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,createFooterRow:!1,showFooterRow:!1,footerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:defaultFormatter,forceSyncScrolling:!1,addNewRowCssClass:"new-row"},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},th,h,ph,n,cj,page=0,offset=0,vScrollDir=1,initialized=!1,$container,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$focusSink,$focusSink2,$headerScroller,$headers,$headerRow,$headerRowScroller,$headerRowSpacer,$footerRow,$footerRowScroller,$footerRowSpacer,$topPanelScroller,$topPanel,$viewport,$canvas,$style,$boundAncestors,stylesheet,columnCssRulesL,columnCssRulesR,viewportH,viewportW,canvasWidth,viewportHasHScroll,viewportHasVScroll,headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,jQueryNewWidthBehaviour=!1,absoluteColumnMinWidth,tabbingDirection=1,activePosX,activeRow,activeCell,activeCellNode=null,currentEditor=null,serializedEditorValue,editController,rowsCache={},renderedRows=0,numVisibleRows,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,lastRenderedScrollLeft=0,prevScrollLeft=0,scrollLeft=0,selectionModel,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumns=[],columnPosLeft=[],columnPosRight=[],h_editorLoader=null,h_render=null,h_postrender=null,h_postrenderCleanup=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,postProcessedCleanupQueue=[],postProcessgroupId=0,counter_rows_rendered=0,counter_rows_removed=0,rowNodeFromLastMouseWheelEvent,zombieRowNodeFromLastMouseWheelEvent,zombieRowCacheFromLastMouseWheelEvent,zombieRowPostProcessedFromLastMouseWheelEvent,cssShow={position:"absolute",visibility:"hidden",display:"block"},$hiddenParents,oldProps=[];this.debug=function(){var e="";e+="\ncounter_rows_rendered:  "+counter_rows_rendered,e+="\ncounter_rows_removed:  "+counter_rows_removed,e+="\nrenderedRows:  "+renderedRows,e+="\nnumVisibleRows:  "+numVisibleRows,e+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,e+="\nn(umber of pages):  "+n,e+="\n(current) page:  "+page,e+="\npage height (ph):  "+ph,e+="\nvScrollDir:  "+vScrollDir,alert(e)},this.eval=function(expr){return eval(expr)},_jquery2.default.extend(this,{slickGridVersion:"2.2.4",onScroll:new _slick2.default.Event,onSort:new _slick2.default.Event,onHeaderMouseEnter:new _slick2.default.Event,onHeaderMouseLeave:new _slick2.default.Event,onHeaderContextMenu:new _slick2.default.Event,onHeaderClick:new _slick2.default.Event,onHeaderCellRendered:new _slick2.default.Event,onBeforeHeaderCellDestroy:new _slick2.default.Event,onHeaderRowCellRendered:new _slick2.default.Event,onFooterRowCellRendered:new _slick2.default.Event,onBeforeHeaderRowCellDestroy:new _slick2.default.Event,onBeforeFooterRowCellDestroy:new _slick2.default.Event,onMouseEnter:new _slick2.default.Event,onMouseLeave:new _slick2.default.Event,onClick:new _slick2.default.Event,onDblClick:new _slick2.default.Event,onContextMenu:new _slick2.default.Event,onKeyDown:new _slick2.default.Event,onAddNewRow:new _slick2.default.Event,onValidationError:new _slick2.default.Event,onViewportChanged:new _slick2.default.Event,onColumnsReordered:new _slick2.default.Event,onColumnsResized:new _slick2.default.Event,onCellChange:new _slick2.default.Event,onBeforeEditCell:new _slick2.default.Event,onBeforeCellEditorDestroy:new _slick2.default.Event,onBeforeDestroy:new _slick2.default.Event,onActiveCellChanged:new _slick2.default.Event,onActiveCellPositionChanged:new _slick2.default.Event,onDragInit:new _slick2.default.Event,onDragStart:new _slick2.default.Event,onDrag:new _slick2.default.Event,onDragEnd:new _slick2.default.Event,onSelectedRowsChanged:new _slick2.default.Event,onCellCssStylesChanged:new _slick2.default.Event,registerPlugin:registerPlugin,unregisterPlugin:unregisterPlugin,getColumns:getColumns,setColumns:setColumns,getColumnIndex:getColumnIndex,updateColumnHeader:updateColumnHeader,setSortColumn:setSortColumn,setSortColumns:setSortColumns,getSortColumns:getSortColumns,autosizeColumns:autosizeColumns,getOptions:getOptions,setOptions:setOptions,getData:getData,getDataLength:getDataLength,getDataItem:getDataItem,setData:setData,getSelectionModel:getSelectionModel,setSelectionModel:setSelectionModel,getSelectedRows:getSelectedRows,setSelectedRows:setSelectedRows,getContainerNode:getContainerNode,render:render,invalidate:invalidate,invalidateRow:invalidateRow,invalidateRows:invalidateRows,invalidateAllRows:invalidateAllRows,updateCell:updateCell,updateRow:updateRow,getViewport:getVisibleRange,getRenderedRange:getRenderedRange,resizeCanvas:resizeCanvas,updateRowCount:updateRowCount,scrollRowIntoView:scrollRowIntoView,scrollRowToTop:scrollRowToTop,scrollCellIntoView:scrollCellIntoView,getCanvasNode:getCanvasNode,focus:setFocus,getCellFromPoint:getCellFromPoint,getCellFromEvent:getCellFromEvent,getActiveCell:getActiveCell,setActiveCell:setActiveCell,getActiveCellNode:getActiveCellNode,getActiveCellPosition:getActiveCellPosition,resetActiveCell:resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor:getCellEditor,getCellNode:getCellNode,getCellNodeBox:getCellNodeBox,canCellBeSelected:canCellBeSelected,canCellBeActive:canCellBeActive,navigatePrev:navigatePrev,navigateNext:navigateNext,navigateUp:navigateUp,navigateDown:navigateDown,navigateLeft:navigateLeft,navigateRight:navigateRight,navigatePageUp:navigatePageUp,navigatePageDown:navigatePageDown,gotoCell:gotoCell,getTopPanel:getTopPanel,setTopPanelVisibility:setTopPanelVisibility,setHeaderRowVisibility:setHeaderRowVisibility,getHeaderRow:getHeaderRow,getHeaderRowColumn:getHeaderRowColumn,setFooterRowVisibility:setFooterRowVisibility,getFooterRow:getFooterRow,getFooterRowColumn:getFooterRowColumn,getGridPosition:getGridPosition,flashCell:flashCell,addCellCssStyles:addCellCssStyles,setCellCssStyles:setCellCssStyles,removeCellCssStyles:removeCellCssStyles,getCellCssStyles:getCellCssStyles,init:finishInitialization,destroy:destroy,getEditorLock:getEditorLock,getEditController:getEditController}),init()}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=__webpack_require__(2),_jquery2=_interopRequireDefault(_jquery),_interact=__webpack_require__(5),_interact2=_interopRequireDefault(_interact),_slick=__webpack_require__(1),_slick2=_interopRequireDefault(_slick),scrollbarDimensions,maxSupportedCssHeight;_slick2.default.Grid=SlickGrid,exports.default=SlickGrid},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),i=r(n(1));t.default=function(e){function t(t,n){var a=this.getDataItem(n.row);if(a&&a instanceof i.default.Group&&(0,o.default)(t.target).hasClass(e.toggleCssClass)){var s=r.getRenderedRange();this.getData().setRefreshHints({ignoreDiffsBefore:s.top,ignoreDiffsAfter:s.bottom+1}),a.collapsed?this.getData().expandGroup(a.groupingKey):this.getData().collapseGroup(a.groupingKey),t.stopImmediatePropagation(),t.preventDefault()}}function n(t){if(e.enableExpandCollapse&&t.which==i.default.keyCode.SPACE){var n=this.getActiveCell();if(n){var o=this.getDataItem(n.row);if(o&&o instanceof i.default.Group){var a=r.getRenderedRange();this.getData().setRefreshHints({ignoreDiffsBefore:a.top,ignoreDiffsAfter:a.bottom+1}),o.collapsed?this.getData().expandGroup(o.groupingKey):this.getData().collapseGroup(o.groupingKey),t.stopImmediatePropagation(),t.preventDefault()}}}}var r=void 0,a={groupCssClass:"slick-group",groupTitleCssClass:"slick-group-title",totalsCssClass:"slick-group-totals",groupFocusable:!0,totalsFocusable:!1,toggleCssClass:"slick-group-toggle",toggleExpandedCssClass:"expanded",toggleCollapsedCssClass:"collapsed",enableExpandCollapse:!0,groupFormatter:function(t,n,r,o,i){if(!e.enableExpandCollapse)return i.title;var a=15*i.level+"px";return"<span class='"+e.toggleCssClass+" "+(i.collapsed?e.toggleCollapsedCssClass:e.toggleExpandedCssClass)+"' style='margin-left:"+a+"'></span><span class='"+e.groupTitleCssClass+"' level='"+i.level+"'>"+i.title+"</span>"},totalsFormatter:function(e,t,n,r,o){return r.groupTotalsFormatter&&r.groupTotalsFormatter(o,r)||""}};return e=o.default.extend(!0,{},a,e),{init:function(e){(r=e).onClick.subscribe(t),r.onKeyDown.subscribe(n)},destroy:function(){r&&(r.onClick.unsubscribe(t),r.onKeyDown.unsubscribe(n))},getGroupRowMetadata:function(t){return{selectable:!1,focusable:e.groupFocusable,cssClasses:e.groupCssClass,columns:{0:{colspan:"*",formatter:e.groupFormatter,editor:null}}}},getTotalsRowMetadata:function(t){return{selectable:!1,focusable:e.totalsFocusable,cssClasses:e.totalsCssClass,formatter:e.totalsFormatter,editor:null}}}}},function(e,t){e.exports=flatpickr_1}]))})),SlickGrid=unwrapExports(slick_es6_min),freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root$2=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root$2.Symbol,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(e){var t=hasOwnProperty.call(e,symToStringTag),n=e[symToStringTag];try{e[symToStringTag]=void 0}catch(e){}var r=nativeObjectToString.call(e);return t?e[symToStringTag]=n:delete e[symToStringTag],r}var objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString;function objectToString(e){return nativeObjectToString$1.call(e)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag$1&&symToStringTag$1 in Object(e)?getRawTag(e):objectToString(e)}function isObjectLike(e){return null!=e&&"object"==typeof e}var symbolTag="[object Symbol]";function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&baseGetTag(e)==symbolTag}var NAN=NaN;function baseToNumber(e){return"number"==typeof e?e:isSymbol(e)?NAN:+e}function arrayMap(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var isArray=Array.isArray,INFINITY=1/0,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(e){if("string"==typeof e)return e;if(isArray(e))return arrayMap(e,baseToString)+"";if(isSymbol(e))return symbolToString?symbolToString.call(e):"";var t=e+"";return"0"==t&&1/e==-INFINITY?"-0":t}function createMathOperation(e,t){return function(n,r){var o;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(o=n),void 0!==r){if(void 0===o)return r;"string"==typeof n||"string"==typeof r?(n=baseToString(n),r=baseToString(r)):(n=baseToNumber(n),r=baseToNumber(r)),o=e(n,r)}return o}}var add$2=createMathOperation((function(e,t){return e+t}),0);function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var NAN$1=NaN,reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return NAN$1;if(isObject(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(reTrim,"");var n=reIsBinary.test(e);return n||reIsOctal.test(e)?freeParseInt(e.slice(2),n?2:8):reIsBadHex.test(e)?NAN$1:+e}var INFINITY$1=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(e){return e?(e=toNumber(e))===INFINITY$1||e===-INFINITY$1?(e<0?-1:1)*MAX_INTEGER:e==e?e:0:0===e?e:0}function toInteger(e){var t=toFinite(e),n=t%1;return t==t?n?t-n:t:0}var FUNC_ERROR_TEXT="Expected a function";function after(e,t){if("function"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT);return e=toInteger(e),function(){if(--e<1)return t.apply(this,arguments)}}function identity$9(e){return e}var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(e){if(!isObject(e))return!1;var t=baseGetTag(e);return t==funcTag||t==genTag||t==asyncTag||t==proxyTag}var coreJsData=root$2["__core-js_shared__"],maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""),uid?"Symbol(src)_1."+uid:""),uid;function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}var funcProto=Function.prototype,funcToString=funcProto.toString;function toSource(e){if(null!=e){try{return funcToString.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$2=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$1=objectProto$2.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){return!(!isObject(e)||isMasked(e))&&(isFunction(e)?reIsNative:reIsHostCtor).test(toSource(e))}function getValue(e,t){return null==e?void 0:e[t]}function getNative(e,t){var n=getValue(e,t);return baseIsNative(n)?n:void 0}var WeakMap=getNative(root$2,"WeakMap"),metaMap=WeakMap&&new WeakMap,baseSetData=metaMap?function(e,t){return metaMap.set(e,t),e}:identity$9,objectCreate=Object.create,baseCreate=function(){function e(){}return function(t){if(!isObject(t))return{};if(objectCreate)return objectCreate(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function createCtor(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=baseCreate(e.prototype),r=e.apply(n,t);return isObject(r)?r:n}}var WRAP_BIND_FLAG=1;function createBind(e,t,n){var r=t&WRAP_BIND_FLAG,o=createCtor(e);return function t(){return(this&&this!==root$2&&this instanceof t?o:e).apply(r?n:this,arguments)}}function apply(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var nativeMax=Math.max;function composeArgs(e,t,n,r){for(var o=-1,i=e.length,a=n.length,s=-1,l=t.length,c=nativeMax(i-a,0),u=Array(l+c),d=!r;++s<l;)u[s]=t[s];for(;++o<a;)(d||o<i)&&(u[n[o]]=e[o]);for(;c--;)u[s++]=e[o++];return u}var nativeMax$1=Math.max;function composeArgsRight(e,t,n,r){for(var o=-1,i=e.length,a=-1,s=n.length,l=-1,c=t.length,u=nativeMax$1(i-s,0),d=Array(u+c),f=!r;++o<u;)d[o]=e[o];for(var h=o;++l<c;)d[h+l]=t[l];for(;++a<s;)(f||o<i)&&(d[h+n[a]]=e[o++]);return d}function countHolders(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function baseLodash(){}var MAX_ARRAY_LENGTH=4294967295;function LazyWrapper(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=MAX_ARRAY_LENGTH,this.__views__=[]}function noop$4(){}LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper;var getData=metaMap?function(e){return metaMap.get(e)}:noop$4,realNames={},objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function getFuncName(e){for(var t=e.name+"",n=realNames[t],r=hasOwnProperty$2.call(realNames,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function LodashWrapper(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function copyArray(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function wrapperClone(e){if(e instanceof LazyWrapper)return e.clone();var t=new LodashWrapper(e.__wrapped__,e.__chain__);return t.__actions__=copyArray(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper;var objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function lodash(e){if(isObjectLike(e)&&!isArray(e)&&!(e instanceof LazyWrapper)){if(e instanceof LodashWrapper)return e;if(hasOwnProperty$3.call(e,"__wrapped__"))return wrapperClone(e)}return new LodashWrapper(e)}function isLaziable(e){var t=getFuncName(e),n=lodash[t];if("function"!=typeof n||!(t in LazyWrapper.prototype))return!1;if(e===n)return!0;var r=getData(n);return!!r&&e===r[0]}lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash;var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(e){var t=0,n=0;return function(){var r=nativeNow(),o=HOT_SPAN-(r-n);if(n=r,o>0){if(++t>=HOT_COUNT)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var setData=shortOut(baseSetData),reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;function getWrapDetails(e){var t=e.match(reWrapDetails);return t?t[1].split(reSplitDetails):[]}var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function insertWrapDetails(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(reWrapComment,"{\n/* [wrapped with "+t+"] */\n")}function constant$e(e){return function(){return e}}var defineProperty=function(){try{var e=getNative(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),baseSetToString=defineProperty?function(e,t){return defineProperty(e,"toString",{configurable:!0,enumerable:!1,value:constant$e(t),writable:!0})}:identity$9,setToString=shortOut(baseSetToString);function arrayEach(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function baseFindIndex(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function baseIsNaN(e){return e!=e}function strictIndexOf(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function baseIndexOf(e,t,n){return t==t?strictIndexOf(e,t,n):baseFindIndex(e,baseIsNaN,n)}function arrayIncludes(e,t){return!!(null==e?0:e.length)&&baseIndexOf(e,t,0)>-1}var WRAP_BIND_FLAG$1=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512,wrapFlags=[["ary",WRAP_ARY_FLAG],["bind",WRAP_BIND_FLAG$1],["bindKey",WRAP_BIND_KEY_FLAG],["curry",WRAP_CURRY_FLAG],["curryRight",WRAP_CURRY_RIGHT_FLAG],["flip",WRAP_FLIP_FLAG],["partial",WRAP_PARTIAL_FLAG],["partialRight",WRAP_PARTIAL_RIGHT_FLAG],["rearg",WRAP_REARG_FLAG]];function updateWrapDetails(e,t){return arrayEach(wrapFlags,(function(n){var r="_."+n[0];t&n[1]&&!arrayIncludes(e,r)&&e.push(r)})),e.sort()}function setWrapToString(e,t,n){var r=t+"";return setToString(e,insertWrapDetails(r,updateWrapDetails(getWrapDetails(r),n)))}var WRAP_BIND_FLAG$2=1,WRAP_BIND_KEY_FLAG$1=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG$1=8,WRAP_PARTIAL_FLAG$1=32,WRAP_PARTIAL_RIGHT_FLAG$1=64;function createRecurry(e,t,n,r,o,i,a,s,l,c){var u=t&WRAP_CURRY_FLAG$1;t|=u?WRAP_PARTIAL_FLAG$1:WRAP_PARTIAL_RIGHT_FLAG$1,(t&=~(u?WRAP_PARTIAL_RIGHT_FLAG$1:WRAP_PARTIAL_FLAG$1))&WRAP_CURRY_BOUND_FLAG||(t&=~(WRAP_BIND_FLAG$2|WRAP_BIND_KEY_FLAG$1));var d=[e,t,o,u?i:void 0,u?a:void 0,u?void 0:i,u?void 0:a,s,l,c],f=n.apply(void 0,d);return isLaziable(e)&&setData(f,d),f.placeholder=r,setWrapToString(f,e,t)}function getHolder(e){return e.placeholder}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(e,t){var n=typeof e;return!!(t=null==t?MAX_SAFE_INTEGER:t)&&("number"==n||"symbol"!=n&&reIsUint.test(e))&&e>-1&&e%1==0&&e<t}var nativeMin=Math.min;function reorder$1(e,t){for(var n=e.length,r=nativeMin(t.length,n),o=copyArray(e);r--;){var i=t[r];e[r]=isIndex(i,n)?o[i]:void 0}return e}var PLACEHOLDER="__lodash_placeholder__";function replaceHolders(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==PLACEHOLDER||(e[n]=PLACEHOLDER,i[o++]=n)}return i}var WRAP_BIND_FLAG$3=1,WRAP_BIND_KEY_FLAG$2=2,WRAP_CURRY_FLAG$2=8,WRAP_CURRY_RIGHT_FLAG$1=16,WRAP_ARY_FLAG$1=128,WRAP_FLIP_FLAG$1=512;function createHybrid(e,t,n,r,o,i,a,s,l,c){var u=t&WRAP_ARY_FLAG$1,d=t&WRAP_BIND_FLAG$3,f=t&WRAP_BIND_KEY_FLAG$2,h=t&(WRAP_CURRY_FLAG$2|WRAP_CURRY_RIGHT_FLAG$1),p=t&WRAP_FLIP_FLAG$1,g=f?void 0:createCtor(e);return function m(){for(var v=arguments.length,y=Array(v),b=v;b--;)y[b]=arguments[b];if(h)var w=getHolder(m),C=countHolders(y,w);if(r&&(y=composeArgs(y,r,o,h)),i&&(y=composeArgsRight(y,i,a,h)),v-=C,h&&v<c){var x=replaceHolders(y,w);return createRecurry(e,t,createHybrid,m.placeholder,n,y,x,s,l,c-v)}var _=d?n:this,R=f?_[e]:e;return v=y.length,s?y=reorder$1(y,s):p&&v>1&&y.reverse(),u&&l<v&&(y.length=l),this&&this!==root$2&&this instanceof m&&(R=g||createCtor(R)),R.apply(_,y)}}function createCurry(e,t,n){var r=createCtor(e);return function o(){for(var i=arguments.length,a=Array(i),s=i,l=getHolder(o);s--;)a[s]=arguments[s];var c=i<3&&a[0]!==l&&a[i-1]!==l?[]:replaceHolders(a,l);return(i-=c.length)<n?createRecurry(e,t,createHybrid,o.placeholder,void 0,a,c,void 0,void 0,n-i):apply(this&&this!==root$2&&this instanceof o?r:e,this,a)}}var WRAP_BIND_FLAG$4=1;function createPartial(e,t,n,r){var o=t&WRAP_BIND_FLAG$4,i=createCtor(e);return function t(){for(var a=-1,s=arguments.length,l=-1,c=r.length,u=Array(c+s),d=this&&this!==root$2&&this instanceof t?i:e;++l<c;)u[l]=r[l];for(;s--;)u[l++]=arguments[++a];return apply(d,o?n:this,u)}}var PLACEHOLDER$1="__lodash_placeholder__",WRAP_BIND_FLAG$5=1,WRAP_BIND_KEY_FLAG$3=2,WRAP_CURRY_BOUND_FLAG$1=4,WRAP_CURRY_FLAG$3=8,WRAP_ARY_FLAG$2=128,WRAP_REARG_FLAG$1=256,nativeMin$1=Math.min;function mergeData(e,t){var n=e[1],r=t[1],o=n|r,i=o<(WRAP_BIND_FLAG$5|WRAP_BIND_KEY_FLAG$3|WRAP_ARY_FLAG$2),a=r==WRAP_ARY_FLAG$2&&n==WRAP_CURRY_FLAG$3||r==WRAP_ARY_FLAG$2&&n==WRAP_REARG_FLAG$1&&e[7].length<=t[8]||r==(WRAP_ARY_FLAG$2|WRAP_REARG_FLAG$1)&&t[7].length<=t[8]&&n==WRAP_CURRY_FLAG$3;if(!i&&!a)return e;r&WRAP_BIND_FLAG$5&&(e[2]=t[2],o|=n&WRAP_BIND_FLAG$5?0:WRAP_CURRY_BOUND_FLAG$1);var s=t[3];if(s){var l=e[3];e[3]=l?composeArgs(l,s,t[4]):s,e[4]=l?replaceHolders(e[3],PLACEHOLDER$1):t[4]}return(s=t[5])&&(l=e[5],e[5]=l?composeArgsRight(l,s,t[6]):s,e[6]=l?replaceHolders(e[5],PLACEHOLDER$1):t[6]),(s=t[7])&&(e[7]=s),r&WRAP_ARY_FLAG$2&&(e[8]=null==e[8]?t[8]:nativeMin$1(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}var FUNC_ERROR_TEXT$1="Expected a function",WRAP_BIND_FLAG$6=1,WRAP_BIND_KEY_FLAG$4=2,WRAP_CURRY_FLAG$4=8,WRAP_CURRY_RIGHT_FLAG$2=16,WRAP_PARTIAL_FLAG$2=32,WRAP_PARTIAL_RIGHT_FLAG$2=64,nativeMax$2=Math.max;function createWrap(e,t,n,r,o,i,a,s){var l=t&WRAP_BIND_KEY_FLAG$4;if(!l&&"function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$1);var c=r?r.length:0;if(c||(t&=~(WRAP_PARTIAL_FLAG$2|WRAP_PARTIAL_RIGHT_FLAG$2),r=o=void 0),a=void 0===a?a:nativeMax$2(toInteger(a),0),s=void 0===s?s:toInteger(s),c-=o?o.length:0,t&WRAP_PARTIAL_RIGHT_FLAG$2){var u=r,d=o;r=o=void 0}var f=l?void 0:getData(e),h=[e,t,n,r,o,u,d,i,a,s];if(f&&mergeData(h,f),e=h[0],t=h[1],n=h[2],r=h[3],o=h[4],!(s=h[9]=void 0===h[9]?l?0:e.length:nativeMax$2(h[9]-c,0))&&t&(WRAP_CURRY_FLAG$4|WRAP_CURRY_RIGHT_FLAG$2)&&(t&=~(WRAP_CURRY_FLAG$4|WRAP_CURRY_RIGHT_FLAG$2)),t&&t!=WRAP_BIND_FLAG$6)p=t==WRAP_CURRY_FLAG$4||t==WRAP_CURRY_RIGHT_FLAG$2?createCurry(e,t,s):t!=WRAP_PARTIAL_FLAG$2&&t!=(WRAP_BIND_FLAG$6|WRAP_PARTIAL_FLAG$2)||o.length?createHybrid.apply(void 0,h):createPartial(e,t,n,r);else var p=createBind(e,t,n);return setWrapToString((f?baseSetData:setData)(p,h),e,t)}var WRAP_ARY_FLAG$3=128;function ary(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,createWrap(e,WRAP_ARY_FLAG$3,void 0,void 0,void 0,void 0,t)}function baseAssignValue(e,t,n){"__proto__"==t&&defineProperty?defineProperty(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function eq(e,t){return e===t||e!=e&&t!=t}var objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function assignValue(e,t,n){var r=e[t];hasOwnProperty$4.call(e,t)&&eq(r,n)&&(void 0!==n||t in e)||baseAssignValue(e,t,n)}function copyObject(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),o?baseAssignValue(n,s,l):assignValue(n,s,l)}return n}var nativeMax$3=Math.max;function overRest(e,t,n){return t=nativeMax$3(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=nativeMax$3(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),apply(e,this,s)}}function baseRest(e,t){return setToString(overRest(e,t,identity$9),e+"")}var MAX_SAFE_INTEGER$1=9007199254740991;function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER$1}function isArrayLike(e){return null!=e&&isLength(e.length)&&!isFunction(e)}function isIterateeCall(e,t,n){if(!isObject(n))return!1;var r=typeof t;return!!("number"==r?isArrayLike(n)&&isIndex(t,n.length):"string"==r&&t in n)&&eq(n[t],e)}function createAssigner(e){return baseRest((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&isIterateeCall(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t}))}var objectProto$6=Object.prototype;function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||objectProto$6)}function baseTimes(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var argsTag="[object Arguments]";function baseIsArguments(e){return isObjectLike(e)&&baseGetTag(e)==argsTag}var objectProto$7=Object.prototype,hasOwnProperty$5=objectProto$7.hasOwnProperty,propertyIsEnumerable=objectProto$7.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike(e)&&hasOwnProperty$5.call(e,"callee")&&!propertyIsEnumerable.call(e,"callee")};function stubFalse(){return!1}var freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root$2.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$1="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag$1="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray(e){return isObjectLike(e)&&isLength(e.length)&&!!typedArrayTags[baseGetTag(e)]}function baseUnary(e){return function(t){return e(t)}}typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var freeExports$1="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=function(){try{var e=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return e||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$8=Object.prototype,hasOwnProperty$6=objectProto$8.hasOwnProperty;function arrayLikeKeys(e,t){var n=isArray(e),r=!n&&isArguments(e),o=!n&&!r&&isBuffer(e),i=!n&&!r&&!o&&isTypedArray(e),a=n||r||o||i,s=a?baseTimes(e.length,String):[],l=s.length;for(var c in e)!t&&!hasOwnProperty$6.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||isIndex(c,l))||s.push(c);return s}function overArg(e,t){return function(n){return e(t(n))}}var nativeKeys=overArg(Object.keys,Object),objectProto$9=Object.prototype,hasOwnProperty$7=objectProto$9.hasOwnProperty;function baseKeys(e){if(!isPrototype(e))return nativeKeys(e);var t=[];for(var n in Object(e))hasOwnProperty$7.call(e,n)&&"constructor"!=n&&t.push(n);return t}function keys$1(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}var objectProto$a=Object.prototype,hasOwnProperty$8=objectProto$a.hasOwnProperty,assign=createAssigner((function(e,t){if(isPrototype(t)||isArrayLike(t))copyObject(t,keys$1(t),e);else for(var n in t)hasOwnProperty$8.call(t,n)&&assignValue(e,n,t[n])}));function nativeKeysIn(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty;function baseKeysIn(e){if(!isObject(e))return nativeKeysIn(e);var t=isPrototype(e),n=[];for(var r in e)("constructor"!=r||!t&&hasOwnProperty$9.call(e,r))&&n.push(r);return n}function keysIn$1(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}var assignIn=createAssigner((function(e,t){copyObject(t,keysIn$1(t),e)})),assignInWith=createAssigner((function(e,t,n,r){copyObject(t,keysIn$1(t),e,r)})),assignWith=createAssigner((function(e,t,n,r){copyObject(t,keys$1(t),e,r)})),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(e,t){if(isArray(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!isSymbol(e))||(reIsPlainProp.test(e)||!reIsDeepProp.test(e)||null!=t&&e in Object(t))}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var HASH_UNDEFINED="__lodash_hash_undefined__",objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty;function hashGet(e){var t=this.__data__;if(nativeCreate){var n=t[e];return n===HASH_UNDEFINED?void 0:n}return hasOwnProperty$a.call(t,e)?t[e]:void 0}var objectProto$d=Object.prototype,hasOwnProperty$b=objectProto$d.hasOwnProperty;function hashHas(e){var t=this.__data__;return nativeCreate?void 0!==t[e]:hasOwnProperty$b.call(t,e)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nativeCreate&&void 0===t?HASH_UNDEFINED$1:t,this}function Hash(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(e,t){for(var n=e.length;n--;)if(eq(e[n][0],t))return n;return-1}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet;var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(e){var t=this.__data__,n=assocIndexOf(t,e);return!(n<0)&&(n==t.length-1?t.pop():splice.call(t,n,1),--this.size,!0)}function listCacheGet(e){var t=this.__data__,n=assocIndexOf(t,e);return n<0?void 0:t[n][1]}function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1}function listCacheSet(e,t){var n=this.__data__,r=assocIndexOf(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ListCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet;var Map$2=getNative(root$2,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function getMapData(e,t){var n=e.__data__;return isKeyable(t)?n["string"==typeof t?"string":"hash"]:n.map}function mapCacheDelete(e){var t=getMapData(this,e).delete(e);return this.size-=t?1:0,t}function mapCacheGet(e){return getMapData(this,e).get(e)}function mapCacheHas(e){return getMapData(this,e).has(e)}function mapCacheSet(e,t){var n=getMapData(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function MapCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT$2="Expected a function";function memoize(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT$2);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(memoize.Cache||MapCache),n}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(e){var t=memoize(e,(function(e){return n.size===MAX_MEMOIZE_SIZE&&n.clear(),e})),n=t.cache;return t}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(rePropName,(function(e,n,r,o){t.push(r?o.replace(reEscapeChar,"$1"):n||e)})),t}));function toString$1(e){return null==e?"":baseToString(e)}function castPath(e,t){return isArray(e)?e:isKey(e,t)?[e]:stringToPath(toString$1(e))}var INFINITY$2=1/0;function toKey(e){if("string"==typeof e||isSymbol(e))return e;var t=e+"";return"0"==t&&1/e==-INFINITY$2?"-0":t}function baseGet(e,t){for(var n=0,r=(t=castPath(t,e)).length;null!=e&&n<r;)e=e[toKey(t[n++])];return n&&n==r?e:void 0}function get$2(e,t,n){var r=null==e?void 0:baseGet(e,t);return void 0===r?n:r}function baseAt(e,t){for(var n=-1,r=t.length,o=Array(r),i=null==e;++n<r;)o[n]=i?void 0:get$2(e,t[n]);return o}function arrayPush(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable(e){return isArray(e)||isArguments(e)||!!(spreadableSymbol&&e&&e[spreadableSymbol])}function baseFlatten(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=isFlattenable),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?baseFlatten(s,t-1,n,r,o):arrayPush(o,s):r||(o[o.length]=s)}return o}function flatten(e){return(null==e?0:e.length)?baseFlatten(e,1):[]}function flatRest(e){return setToString(overRest(e,void 0,flatten),e+"")}var at=flatRest(baseAt),getPrototype=overArg(Object.getPrototypeOf,Object),objectTag$1="[object Object]",funcProto$2=Function.prototype,objectProto$e=Object.prototype,funcToString$2=funcProto$2.toString,hasOwnProperty$c=objectProto$e.hasOwnProperty,objectCtorString=funcToString$2.call(Object);function isPlainObject(e){if(!isObjectLike(e)||baseGetTag(e)!=objectTag$1)return!1;var t=getPrototype(e);if(null===t)return!0;var n=hasOwnProperty$c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&funcToString$2.call(n)==objectCtorString}var domExcTag="[object DOMException]",errorTag$1="[object Error]";function isError(e){if(!isObjectLike(e))return!1;var t=baseGetTag(e);return t==errorTag$1||t==domExcTag||"string"==typeof e.message&&"string"==typeof e.name&&!isPlainObject(e)}var attempt=baseRest((function(e,t){try{return apply(e,void 0,t)}catch(e){return isError(e)?e:new Error(e)}})),FUNC_ERROR_TEXT$3="Expected a function";function before(e,t){var n;if("function"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT$3);return e=toInteger(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var WRAP_BIND_FLAG$7=1,WRAP_PARTIAL_FLAG$3=32,bind=baseRest((function(e,t,n){var r=WRAP_BIND_FLAG$7;if(n.length){var o=replaceHolders(n,getHolder(bind));r|=WRAP_PARTIAL_FLAG$3}return createWrap(e,r,t,n,o)}));bind.placeholder={};var bindAll=flatRest((function(e,t){return arrayEach(t,(function(t){t=toKey(t),baseAssignValue(e,t,bind(e[t],e))})),e})),WRAP_BIND_FLAG$8=1,WRAP_BIND_KEY_FLAG$5=2,WRAP_PARTIAL_FLAG$4=32,bindKey$1=baseRest((function(e,t,n){var r=WRAP_BIND_FLAG$8|WRAP_BIND_KEY_FLAG$5;if(n.length){var o=replaceHolders(n,getHolder(bindKey$1));r|=WRAP_PARTIAL_FLAG$4}return createWrap(t,r,e,n,o)}));function baseSlice(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}function castSlice(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:baseSlice(e,t,n)}bindKey$1.placeholder={};var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsZWJ="\\u200d",reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");function hasUnicode(e){return reHasUnicode.test(e)}function asciiToArray(e){return e.split("")}var rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange$1+"]",rsCombo="["+rsComboRange$1+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange$1+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ$1="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange$1+"]?",rsOptJoin="(?:"+rsZWJ$1+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray(e){return e.match(reUnicode)||[]}function stringToArray(e){return hasUnicode(e)?unicodeToArray(e):asciiToArray(e)}function createCaseFirst(e){return function(t){var n=hasUnicode(t=toString$1(t))?stringToArray(t):void 0,r=n?n[0]:t.charAt(0),o=n?castSlice(n,1).join(""):t.slice(1);return r[e]()+o}}var upperFirst=createCaseFirst("toUpperCase");function capitalize(e){return upperFirst(toString$1(e).toLowerCase())}function arrayReduce(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function basePropertyOf(e){return function(t){return null==e?void 0:e[t]}}var deburredLetters={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},deburrLetter=basePropertyOf(deburredLetters),reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rsComboMarksRange$2="\\u0300-\\u036f",reComboHalfMarksRange$2="\\ufe20-\\ufe2f",rsComboSymbolsRange$2="\\u20d0-\\u20ff",rsComboRange$2=rsComboMarksRange$2+reComboHalfMarksRange$2+rsComboSymbolsRange$2,rsCombo$1="["+rsComboRange$2+"]",reComboMark=RegExp(rsCombo$1,"g");function deburr(e){return(e=toString$1(e))&&e.replace(reLatin,deburrLetter).replace(reComboMark,"")}var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function asciiWords(e){return e.match(reAsciiWord)||[]}var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function hasUnicodeWord(e){return reHasUnicodeWord.test(e)}var rsAstralRange$2="\\ud800-\\udfff",rsComboMarksRange$3="\\u0300-\\u036f",reComboHalfMarksRange$3="\\ufe20-\\ufe2f",rsComboSymbolsRange$3="\\u20d0-\\u20ff",rsComboRange$3=rsComboMarksRange$3+reComboHalfMarksRange$3+rsComboSymbolsRange$3,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange$2="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos="[']",rsBreak="["+rsBreakRange+"]",rsCombo$2="["+rsComboRange$3+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange$2+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz$1="\\ud83c[\\udffb-\\udfff]",rsModifier$1="(?:"+rsCombo$2+"|"+rsFitz$1+")",rsNonAstral$1="[^"+rsAstralRange$2+"]",rsRegional$1="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair$1="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ$2="\\u200d",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos+"(?:D|LL|M|RE|S|T|VE))?",reOptMod$1=rsModifier$1+"?",rsOptVar$1="["+rsVarRange$2+"]?",rsOptJoin$1="(?:"+rsZWJ$2+"(?:"+[rsNonAstral$1,rsRegional$1,rsSurrPair$1].join("|")+")"+rsOptVar$1+reOptMod$1+")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rsSeq$1=rsOptVar$1+reOptMod$1+rsOptJoin$1,rsEmoji="(?:"+[rsDingbat,rsRegional$1,rsSurrPair$1].join("|")+")"+rsSeq$1,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");function unicodeWords(e){return e.match(reUnicodeWord)||[]}function words(e,t,n){return e=toString$1(e),void 0===(t=n?void 0:t)?hasUnicodeWord(e)?unicodeWords(e):asciiWords(e):e.match(t)||[]}var rsApos$1="[']",reApos=RegExp(rsApos$1,"g");function createCompounder(e){return function(t){return arrayReduce(words(deburr(t).replace(reApos,"")),e,"")}}var camelCase=createCompounder((function(e,t,n){return t=t.toLowerCase(),e+(n?capitalize(t):t)}));function castArray(){if(!arguments.length)return[];var e=arguments[0];return isArray(e)?e:[e]}var nativeMin$2=Math.min;function createRound(e){var t=Math[e];return function(e,n){if(e=toNumber(e),n=null==n?0:nativeMin$2(toInteger(n),292)){var r=(toString$1(e)+"e").split("e");return+((r=(toString$1(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var ceil$1=createRound("ceil");function chain(e){var t=lodash(e);return t.__chain__=!0,t}var nativeCeil=Math.ceil,nativeMax$4=Math.max;function chunk(e,t,n){t=(n?isIterateeCall(e,t,n):void 0===t)?1:nativeMax$4(toInteger(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var o=0,i=0,a=Array(nativeCeil(r/t));o<r;)a[i++]=baseSlice(e,o,o+=t);return a}function baseClamp(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function clamp(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=toNumber(n))==n?n:0),void 0!==t&&(t=(t=toNumber(t))==t?t:0),baseClamp(toNumber(e),t,n)}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function stackGet(e){return this.__data__.get(e)}function stackHas(e){return this.__data__.has(e)}var LARGE_ARRAY_SIZE=200;function stackSet(e,t){var n=this.__data__;if(n instanceof ListCache){var r=n.__data__;if(!Map$2||r.length<LARGE_ARRAY_SIZE-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new MapCache(r)}return n.set(e,t),this.size=n.size,this}function Stack(e){var t=this.__data__=new ListCache(e);this.size=t.size}function baseAssign(e,t){return e&&copyObject(t,keys$1(t),e)}function baseAssignIn(e,t){return e&&copyObject(t,keysIn$1(t),e)}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var freeExports$2="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root$2.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(e,t){if(t)return e.slice();var n=e.length,r=allocUnsafe?allocUnsafe(n):new e.constructor(n);return e.copy(r),r}function arrayFilter(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function stubArray(){return[]}var objectProto$f=Object.prototype,propertyIsEnumerable$1=objectProto$f.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(e){return null==e?[]:(e=Object(e),arrayFilter(nativeGetSymbols(e),(function(t){return propertyIsEnumerable$1.call(e,t)})))}:stubArray;function copySymbols(e,t){return copyObject(e,getSymbols(e),t)}var nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols$1?function(e){for(var t=[];e;)arrayPush(t,getSymbols(e)),e=getPrototype(e);return t}:stubArray;function copySymbolsIn(e,t){return copyObject(e,getSymbolsIn(e),t)}function baseGetAllKeys(e,t,n){var r=t(e);return isArray(e)?r:arrayPush(r,n(e))}function getAllKeys(e){return baseGetAllKeys(e,keys$1,getSymbols)}function getAllKeysIn(e){return baseGetAllKeys(e,keysIn$1,getSymbolsIn)}var DataView=getNative(root$2,"DataView"),Promise$1=getNative(root$2,"Promise"),Set$1=getNative(root$2,"Set"),mapTag$1="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag$1||Map$2&&getTag(new Map$2)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$1||WeakMap&&getTag(new WeakMap)!=weakMapTag$1)&&(getTag=function(e){var t=baseGetTag(e),n=t==objectTag$2?e.constructor:void 0,r=n?toSource(n):"";if(r)switch(r){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag$1}return t});var getTag$1=getTag,objectProto$g=Object.prototype,hasOwnProperty$d=objectProto$g.hasOwnProperty;function initCloneArray(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&hasOwnProperty$d.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Uint8Array=root$2.Uint8Array;function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}function cloneDataView(e,t){var n=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var reFlags=/\w*$/;function cloneRegExp(e){var t=new e.constructor(e.source,reFlags.exec(e));return t.lastIndex=e.lastIndex,t}var symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(e){return symbolValueOf?Object(symbolValueOf.call(e)):{}}function cloneTypedArray(e,t){var n=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(e,t,n){var r=e.constructor;switch(t){case arrayBufferTag$1:return cloneArrayBuffer(e);case boolTag$1:case dateTag$1:return new r(+e);case dataViewTag$2:return cloneDataView(e,n);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(e,n);case mapTag$2:return new r;case numberTag$1:case stringTag$1:return new r(e);case regexpTag$1:return cloneRegExp(e);case setTag$2:return new r;case symbolTag$1:return cloneSymbol(e)}}function initCloneObject(e){return"function"!=typeof e.constructor||isPrototype(e)?{}:baseCreate(getPrototype(e))}var mapTag$3="[object Map]";function baseIsMap(e){return isObjectLike(e)&&getTag$1(e)==mapTag$3}var nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,setTag$3="[object Set]";function baseIsSet(e){return isObjectLike(e)&&getTag$1(e)==setTag$3}var nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,argsTag$2="[object Arguments]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",objectTag$3="[object Object]";function baseClone(e,t,n,r,o,i){var a,s=t&CLONE_DEEP_FLAG,l=t&CLONE_FLAT_FLAG,c=t&CLONE_SYMBOLS_FLAG;if(n&&(a=o?n(e,r,o,i):n(e)),void 0!==a)return a;if(!isObject(e))return e;var u=isArray(e);if(u){if(a=initCloneArray(e),!s)return copyArray(e,a)}else{var d=getTag$1(e),f=d==funcTag$2||d==genTag$1;if(isBuffer(e))return cloneBuffer(e,s);if(d!=objectTag$3&&d!=argsTag$2&&(!f||o))return o?e:{};if(a=l||f?{}:initCloneObject(e),!s)return l?copySymbolsIn(e,baseAssignIn(a,e)):copySymbols(e,baseAssign(a,e))}i||(i=new Stack);var h=i.get(e);if(h)return h;if(i.set(e,a),isSet(e))return e.forEach((function(r){a.add(baseClone(r,t,n,r,e,i))})),a;if(isMap(e))return e.forEach((function(r,o){a.set(o,baseClone(r,t,n,o,e,i))})),a;var p=c?l?getAllKeysIn:getAllKeys:l?keysIn:keys$1,g=u?void 0:p(e);return arrayEach(g||e,(function(r,o){g&&(r=e[o=r]),assignValue(a,o,baseClone(r,t,n,o,e,i))})),a}var CLONE_SYMBOLS_FLAG$1=4;function clone(e){return baseClone(e,CLONE_SYMBOLS_FLAG$1)}var CLONE_DEEP_FLAG$1=1,CLONE_SYMBOLS_FLAG$2=4;function cloneDeep(e){return baseClone(e,CLONE_DEEP_FLAG$1|CLONE_SYMBOLS_FLAG$2)}var CLONE_DEEP_FLAG$2=1,CLONE_SYMBOLS_FLAG$3=4;function cloneDeepWith(e,t){return baseClone(e,CLONE_DEEP_FLAG$2|CLONE_SYMBOLS_FLAG$3,t="function"==typeof t?t:void 0)}var CLONE_SYMBOLS_FLAG$4=4;function cloneWith(e,t){return baseClone(e,CLONE_SYMBOLS_FLAG$4,t="function"==typeof t?t:void 0)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function compact(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}function concat(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return arrayPush(isArray(n)?copyArray(n):[n],baseFlatten(t,1))}var HASH_UNDEFINED$2="__lodash_hash_undefined__";function setCacheAdd(e){return this.__data__.set(e,HASH_UNDEFINED$2),this}function setCacheHas(e){return this.__data__.has(e)}function SetCache(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new MapCache;++t<n;)this.add(e[t])}function arraySome(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function cacheHas(e,t){return e.has(t)}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas;var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function equalArrays(e,t,n,r,o,i){var a=n&COMPARE_PARTIAL_FLAG,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var u=-1,d=!0,f=n&COMPARE_UNORDERED_FLAG?new SetCache:void 0;for(i.set(e,t),i.set(t,e);++u<s;){var h=e[u],p=t[u];if(r)var g=a?r(p,h,u,t,e,i):r(h,p,u,e,t,i);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!arraySome(t,(function(e,t){if(!cacheHas(f,t)&&(h===e||o(h,e,n,r,i)))return f.push(t)}))){d=!1;break}}else if(h!==p&&!o(h,p,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function mapToArray(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function setToArray(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2,boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$3="[object Error]",mapTag$5="[object Map]",numberTag$3="[object Number]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",symbolTag$3="[object Symbol]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",symbolProto$2=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf$1=symbolProto$2?symbolProto$2.valueOf:void 0;function equalByTag(e,t,n,r,o,i,a){switch(n){case dataViewTag$4:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case arrayBufferTag$3:return!(e.byteLength!=t.byteLength||!i(new Uint8Array(e),new Uint8Array(t)));case boolTag$3:case dateTag$3:case numberTag$3:return eq(+e,+t);case errorTag$3:return e.name==t.name&&e.message==t.message;case regexpTag$3:case stringTag$3:return e==t+"";case mapTag$5:var s=mapToArray;case setTag$5:var l=r&COMPARE_PARTIAL_FLAG$1;if(s||(s=setToArray),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=COMPARE_UNORDERED_FLAG$1,a.set(e,t);var u=equalArrays(s(e),s(t),r,o,i,a);return a.delete(e),u;case symbolTag$3:if(symbolValueOf$1)return symbolValueOf$1.call(e)==symbolValueOf$1.call(t)}return!1}var COMPARE_PARTIAL_FLAG$2=1,objectProto$h=Object.prototype,hasOwnProperty$e=objectProto$h.hasOwnProperty;function equalObjects(e,t,n,r,o,i){var a=n&COMPARE_PARTIAL_FLAG$2,s=getAllKeys(e),l=s.length;if(l!=getAllKeys(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:hasOwnProperty$e.call(t,u)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var f=!0;i.set(e,t),i.set(t,e);for(var h=a;++c<l;){var p=e[u=s[c]],g=t[u];if(r)var m=a?r(g,p,u,t,e,i):r(p,g,u,e,t,i);if(!(void 0===m?p===g||o(p,g,n,r,i):m)){f=!1;break}h||(h="constructor"==u)}if(f&&!h){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(f=!1)}return i.delete(e),i.delete(t),f}var COMPARE_PARTIAL_FLAG$3=1,argsTag$3="[object Arguments]",arrayTag$2="[object Array]",objectTag$4="[object Object]",objectProto$i=Object.prototype,hasOwnProperty$f=objectProto$i.hasOwnProperty;function baseIsEqualDeep(e,t,n,r,o,i){var a=isArray(e),s=isArray(t),l=a?arrayTag$2:getTag$1(e),c=s?arrayTag$2:getTag$1(t),u=(l=l==argsTag$3?objectTag$4:l)==objectTag$4,d=(c=c==argsTag$3?objectTag$4:c)==objectTag$4,f=l==c;if(f&&isBuffer(e)){if(!isBuffer(t))return!1;a=!0,u=!1}if(f&&!u)return i||(i=new Stack),a||isTypedArray(e)?equalArrays(e,t,n,r,o,i):equalByTag(e,t,l,n,r,o,i);if(!(n&COMPARE_PARTIAL_FLAG$3)){var h=u&&hasOwnProperty$f.call(e,"__wrapped__"),p=d&&hasOwnProperty$f.call(t,"__wrapped__");if(h||p){var g=h?e.value():e,m=p?t.value():t;return i||(i=new Stack),o(g,m,n,r,i)}}return!!f&&(i||(i=new Stack),equalObjects(e,t,n,r,o,i))}function baseIsEqual(e,t,n,r,o){return e===t||(null==e||null==t||!isObjectLike(e)&&!isObjectLike(t)?e!=e&&t!=t:baseIsEqualDeep(e,t,n,r,baseIsEqual,o))}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2;function baseIsMatch(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var l=(s=n[o])[0],c=e[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new Stack;if(r)var f=r(c,u,l,e,t,d);if(!(void 0===f?baseIsEqual(u,c,COMPARE_PARTIAL_FLAG$4|COMPARE_UNORDERED_FLAG$2,r,d):f))return!1}}return!0}function isStrictComparable(e){return e==e&&!isObject(e)}function getMatchData(e){for(var t=keys$1(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,isStrictComparable(o)]}return t}function matchesStrictComparable(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function baseMatches(e){var t=getMatchData(e);return 1==t.length&&t[0][2]?matchesStrictComparable(t[0][0],t[0][1]):function(n){return n===e||baseIsMatch(n,e,t)}}function baseHasIn(e,t){return null!=e&&t in Object(e)}function hasPath(e,t,n){for(var r=-1,o=(t=castPath(t,e)).length,i=!1;++r<o;){var a=toKey(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&isLength(o)&&isIndex(a,o)&&(isArray(e)||isArguments(e))}function hasIn(e,t){return null!=e&&hasPath(e,t,baseHasIn)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function baseMatchesProperty(e,t){return isKey(e)&&isStrictComparable(t)?matchesStrictComparable(toKey(e),t):function(n){var r=get$2(n,e);return void 0===r&&r===t?hasIn(n,e):baseIsEqual(t,r,COMPARE_PARTIAL_FLAG$5|COMPARE_UNORDERED_FLAG$3)}}function baseProperty(e){return function(t){return null==t?void 0:t[e]}}function basePropertyDeep(e){return function(t){return baseGet(t,e)}}function property(e){return isKey(e)?baseProperty(toKey(e)):basePropertyDeep(e)}function baseIteratee(e){return"function"==typeof e?e:null==e?identity$9:"object"==typeof e?isArray(e)?baseMatchesProperty(e[0],e[1]):baseMatches(e):property(e)}var FUNC_ERROR_TEXT$4="Expected a function";function cond(e){var t=null==e?0:e.length,n=baseIteratee;return e=t?arrayMap(e,(function(e){if("function"!=typeof e[1])throw new TypeError(FUNC_ERROR_TEXT$4);return[n(e[0]),e[1]]})):[],baseRest((function(n){for(var r=-1;++r<t;){var o=e[r];if(apply(o[0],this,n))return apply(o[1],this,n)}}))}function baseConformsTo(e,t,n){var r=n.length;if(null==e)return!r;for(e=Object(e);r--;){var o=n[r],i=t[o],a=e[o];if(void 0===a&&!(o in e)||!i(a))return!1}return!0}function baseConforms(e){var t=keys$1(e);return function(n){return baseConformsTo(n,e,t)}}var CLONE_DEEP_FLAG$3=1;function conforms(e){return baseConforms(baseClone(e,CLONE_DEEP_FLAG$3))}function conformsTo(e,t){return null==t||baseConformsTo(e,t,keys$1(t))}function arrayAggregator(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function createBaseFor(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}var baseFor=createBaseFor();function baseForOwn(e,t){return e&&baseFor(e,t,keys$1)}function createBaseEach(e,t){return function(n,r){if(null==n)return n;if(!isArrayLike(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}var baseEach=createBaseEach(baseForOwn);function baseAggregator(e,t,n,r){return baseEach(e,(function(e,o,i){t(r,e,n(e),i)})),r}function createAggregator(e,t){return function(n,r){var o=isArray(n)?arrayAggregator:baseAggregator,i=t?t():{};return o(n,e,baseIteratee(r,2),i)}}var objectProto$j=Object.prototype,hasOwnProperty$g=objectProto$j.hasOwnProperty,countBy=createAggregator((function(e,t,n){hasOwnProperty$g.call(e,n)?++e[n]:baseAssignValue(e,n,1)}));function create$2(e,t){var n=baseCreate(e);return null==t?n:baseAssign(n,t)}var WRAP_CURRY_FLAG$5=8;function curry(e,t,n){var r=createWrap(e,WRAP_CURRY_FLAG$5,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=curry.placeholder,r}curry.placeholder={};var WRAP_CURRY_RIGHT_FLAG$3=16;function curryRight(e,t,n){var r=createWrap(e,WRAP_CURRY_RIGHT_FLAG$3,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=curryRight.placeholder,r}curryRight.placeholder={};var now$1=function(){return root$2.Date.now()},FUNC_ERROR_TEXT$5="Expected a function",nativeMax$5=Math.max,nativeMin$3=Math.min;function debounce(e,t,n){var r,o,i,a,s,l,c=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$5);function h(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=i}function g(){var e=now$1();if(p(e))return m(e);s=setTimeout(g,function(e){var n=t-(e-l);return d?nativeMin$3(n,i-(e-c)):n}(e))}function m(e){return s=void 0,f&&r?h(e):(r=o=void 0,a)}function v(){var e=now$1(),n=p(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(g,t),u?h(e):a}(l);if(d)return s=setTimeout(g,t),h(l)}return void 0===s&&(s=setTimeout(g,t)),a}return t=toNumber(t)||0,isObject(n)&&(u=!!n.leading,i=(d="maxWait"in n)?nativeMax$5(toNumber(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),v.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=o=s=void 0},v.flush=function(){return void 0===s?a:m(now$1())},v}function defaultTo(e,t){return null==e||e!=e?t:e}var objectProto$k=Object.prototype,hasOwnProperty$h=objectProto$k.hasOwnProperty,defaults=baseRest((function(e,t){e=Object(e);var n=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&isIterateeCall(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],a=keysIn$1(i),s=-1,l=a.length;++s<l;){var c=a[s],u=e[c];(void 0===u||eq(u,objectProto$k[c])&&!hasOwnProperty$h.call(e,c))&&(e[c]=i[c])}return e}));function assignMergeValue(e,t,n){(void 0!==n&&!eq(e[t],n)||void 0===n&&!(t in e))&&baseAssignValue(e,t,n)}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function safeGet(e,t){if("__proto__"!=t)return e[t]}function toPlainObject(e){return copyObject(e,keysIn$1(e))}function baseMergeDeep(e,t,n,r,o,i,a){var s=safeGet(e,n),l=safeGet(t,n),c=a.get(l);if(c)assignMergeValue(e,n,c);else{var u=i?i(s,l,n+"",e,t,a):void 0,d=void 0===u;if(d){var f=isArray(l),h=!f&&isBuffer(l),p=!f&&!h&&isTypedArray(l);u=l,f||h||p?isArray(s)?u=s:isArrayLikeObject(s)?u=copyArray(s):h?(d=!1,u=cloneBuffer(l,!0)):p?(d=!1,u=cloneTypedArray(l,!0)):u=[]:isPlainObject(l)||isArguments(l)?(u=s,isArguments(s)?u=toPlainObject(s):isObject(s)&&!isFunction(s)||(u=initCloneObject(l))):d=!1}d&&(a.set(l,u),o(u,l,r,i,a),a.delete(l)),assignMergeValue(e,n,u)}}function baseMerge(e,t,n,r,o){e!==t&&baseFor(t,(function(i,a){if(isObject(i))o||(o=new Stack),baseMergeDeep(e,t,a,n,baseMerge,r,o);else{var s=r?r(safeGet(e,a),i,a+"",e,t,o):void 0;void 0===s&&(s=i),assignMergeValue(e,a,s)}}),keysIn$1)}function customDefaultsMerge(e,t,n,r,o,i){return isObject(e)&&isObject(t)&&(i.set(t,e),baseMerge(e,t,void 0,customDefaultsMerge,i),i.delete(t)),e}var mergeWith=createAssigner((function(e,t,n,r){baseMerge(e,t,n,r)})),defaultsDeep=baseRest((function(e){return e.push(void 0,customDefaultsMerge),apply(mergeWith,void 0,e)})),FUNC_ERROR_TEXT$6="Expected a function";function baseDelay(e,t,n){if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$6);return setTimeout((function(){e.apply(void 0,n)}),t)}var defer=baseRest((function(e,t){return baseDelay(e,1,t)})),delay=baseRest((function(e,t,n){return baseDelay(e,toNumber(t)||0,n)}));function arrayIncludesWith(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}var LARGE_ARRAY_SIZE$1=200;function baseDifference(e,t,n,r){var o=-1,i=arrayIncludes,a=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=arrayMap(t,baseUnary(n))),r?(i=arrayIncludesWith,a=!1):t.length>=LARGE_ARRAY_SIZE$1&&(i=cacheHas,a=!1,t=new SetCache(t));e:for(;++o<s;){var u=e[o],d=null==n?u:n(u);if(u=r||0!==u?u:0,a&&d==d){for(var f=c;f--;)if(t[f]===d)continue e;l.push(u)}else i(t,d,r)||l.push(u)}return l}var difference=baseRest((function(e,t){return isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0)):[]}));function last(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var differenceBy=baseRest((function(e,t){var n=last(t);return isArrayLikeObject(n)&&(n=void 0),isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0),baseIteratee(n,2)):[]})),differenceWith=baseRest((function(e,t){var n=last(t);return isArrayLikeObject(n)&&(n=void 0),isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0),void 0,n):[]})),divide=createMathOperation((function(e,t){return e/t}),1);function drop(e,t,n){var r=null==e?0:e.length;return r?baseSlice(e,(t=n||void 0===t?1:toInteger(t))<0?0:t,r):[]}function dropRight(e,t,n){var r=null==e?0:e.length;return r?baseSlice(e,0,(t=r-(t=n||void 0===t?1:toInteger(t)))<0?0:t):[]}function baseWhile(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?baseSlice(e,r?0:i,r?i+1:o):baseSlice(e,r?i+1:0,r?o:i)}function dropRightWhile(e,t){return e&&e.length?baseWhile(e,baseIteratee(t,3),!0,!0):[]}function dropWhile(e,t){return e&&e.length?baseWhile(e,baseIteratee(t,3),!0):[]}function castFunction(e){return"function"==typeof e?e:identity$9}function forEach(e,t){return(isArray(e)?arrayEach:baseEach)(e,castFunction(t))}function arrayEachRight(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}var baseForRight=createBaseFor(!0);function baseForOwnRight(e,t){return e&&baseForRight(e,t,keys$1)}var baseEachRight=createBaseEach(baseForOwnRight,!0);function forEachRight(e,t){return(isArray(e)?arrayEachRight:baseEachRight)(e,castFunction(t))}function endsWith(e,t,n){e=toString$1(e),t=baseToString(t);var r=e.length,o=n=void 0===n?r:baseClamp(toInteger(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t}function baseToPairs(e,t){return arrayMap(t,(function(t){return[t,e[t]]}))}function setToPairs(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}var mapTag$6="[object Map]",setTag$6="[object Set]";function createToPairs(e){return function(t){var n=getTag$1(t);return n==mapTag$6?mapToArray(t):n==setTag$6?setToPairs(t):baseToPairs(t,e(t))}}var toPairs=createToPairs(keys$1),toPairsIn=createToPairs(keysIn$1),htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},escapeHtmlChar=basePropertyOf(htmlEscapes),reUnescapedHtml=/[&<>"']/g,reHasUnescapedHtml=RegExp(reUnescapedHtml.source);function escape(e){return(e=toString$1(e))&&reHasUnescapedHtml.test(e)?e.replace(reUnescapedHtml,escapeHtmlChar):e}var reRegExpChar$1=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar$1.source);function escapeRegExp(e){return(e=toString$1(e))&&reHasRegExpChar.test(e)?e.replace(reRegExpChar$1,"\\$&"):e}function arrayEvery(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function baseEvery(e,t){var n=!0;return baseEach(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function every(e,t,n){var r=isArray(e)?arrayEvery:baseEvery;return n&&isIterateeCall(e,t,n)&&(t=void 0),r(e,baseIteratee(t,3))}var MAX_ARRAY_LENGTH$1=4294967295;function toLength(e){return e?baseClamp(toInteger(e),0,MAX_ARRAY_LENGTH$1):0}function baseFill(e,t,n,r){var o=e.length;for((n=toInteger(n))<0&&(n=-n>o?0:o+n),(r=void 0===r||r>o?o:toInteger(r))<0&&(r+=o),r=n>r?0:toLength(r);n<r;)e[n++]=t;return e}function fill(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&isIterateeCall(e,t,n)&&(n=0,r=o),baseFill(e,t,n,r)):[]}function baseFilter(e,t){var n=[];return baseEach(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function filter(e,t){return(isArray(e)?arrayFilter:baseFilter)(e,baseIteratee(t,3))}function createFind(e){return function(t,n,r){var o=Object(t);if(!isArrayLike(t)){var i=baseIteratee(n,3);t=keys$1(t),n=function(e){return i(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[i?t[a]:a]:void 0}}var nativeMax$6=Math.max;function findIndex(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:toInteger(n);return o<0&&(o=nativeMax$6(r+o,0)),baseFindIndex(e,baseIteratee(t,3),o)}var find$1=createFind(findIndex);function baseFindKey(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function findKey(e,t){return baseFindKey(e,baseIteratee(t,3),baseForOwn)}var nativeMax$7=Math.max,nativeMin$4=Math.min;function findLastIndex(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return void 0!==n&&(o=toInteger(n),o=n<0?nativeMax$7(r+o,0):nativeMin$4(o,r-1)),baseFindIndex(e,baseIteratee(t,3),o,!0)}var findLast=createFind(findLastIndex);function findLastKey(e,t){return baseFindKey(e,baseIteratee(t,3),baseForOwnRight)}function head(e){return e&&e.length?e[0]:void 0}function baseMap(e,t){var n=-1,r=isArrayLike(e)?Array(e.length):[];return baseEach(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}function map$3(e,t){return(isArray(e)?arrayMap:baseMap)(e,baseIteratee(t,3))}function flatMap(e,t){return baseFlatten(map$3(e,t),1)}var INFINITY$3=1/0;function flatMapDeep(e,t){return baseFlatten(map$3(e,t),INFINITY$3)}function flatMapDepth(e,t,n){return n=void 0===n?1:toInteger(n),baseFlatten(map$3(e,t),n)}var INFINITY$4=1/0;function flattenDeep(e){return(null==e?0:e.length)?baseFlatten(e,INFINITY$4):[]}function flattenDepth(e,t){return(null==e?0:e.length)?baseFlatten(e,t=void 0===t?1:toInteger(t)):[]}var WRAP_FLIP_FLAG$2=512;function flip$1(e){return createWrap(e,WRAP_FLIP_FLAG$2)}var floor$1=createRound("floor"),FUNC_ERROR_TEXT$7="Expected a function",WRAP_CURRY_FLAG$6=8,WRAP_PARTIAL_FLAG$5=32,WRAP_ARY_FLAG$4=128,WRAP_REARG_FLAG$2=256;function createFlow(e){return flatRest((function(t){var n=t.length,r=n,o=LodashWrapper.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if("function"!=typeof i)throw new TypeError(FUNC_ERROR_TEXT$7);if(o&&!a&&"wrapper"==getFuncName(i))var a=new LodashWrapper([],!0)}for(r=a?r:n;++r<n;){var s=getFuncName(i=t[r]),l="wrapper"==s?getData(i):void 0;a=l&&isLaziable(l[0])&&l[1]==(WRAP_ARY_FLAG$4|WRAP_CURRY_FLAG$6|WRAP_PARTIAL_FLAG$5|WRAP_REARG_FLAG$2)&&!l[4].length&&1==l[9]?a[getFuncName(l[0])].apply(a,l[3]):1==i.length&&isLaziable(i)?a[s]():a.thru(i)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&isArray(r))return a.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}var flow=createFlow(),flowRight=createFlow(!0);function forIn(e,t){return null==e?e:baseFor(e,castFunction(t),keysIn$1)}function forInRight(e,t){return null==e?e:baseForRight(e,castFunction(t),keysIn$1)}function forOwn(e,t){return e&&baseForOwn(e,castFunction(t))}function forOwnRight(e,t){return e&&baseForOwnRight(e,castFunction(t))}function fromPairs(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}function baseFunctions(e,t){return arrayFilter(t,(function(t){return isFunction(e[t])}))}function functions(e){return null==e?[]:baseFunctions(e,keys$1(e))}function functionsIn(e){return null==e?[]:baseFunctions(e,keysIn$1(e))}var objectProto$l=Object.prototype,hasOwnProperty$i=objectProto$l.hasOwnProperty,groupBy=createAggregator((function(e,t,n){hasOwnProperty$i.call(e,n)?e[n].push(t):baseAssignValue(e,n,[t])}));function baseGt(e,t){return e>t}function createRelationalOperation(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=toNumber(t),n=toNumber(n)),e(t,n)}}var gt=createRelationalOperation(baseGt),gte=createRelationalOperation((function(e,t){return e>=t})),objectProto$m=Object.prototype,hasOwnProperty$j=objectProto$m.hasOwnProperty;function baseHas(e,t){return null!=e&&hasOwnProperty$j.call(e,t)}function has(e,t){return null!=e&&hasPath(e,t,baseHas)}var nativeMax$8=Math.max,nativeMin$5=Math.min;function baseInRange(e,t,n){return e>=nativeMin$5(t,n)&&e<nativeMax$8(t,n)}function inRange(e,t,n){return t=toFinite(t),void 0===n?(n=t,t=0):n=toFinite(n),baseInRange(e=toNumber(e),t,n)}var stringTag$4="[object String]";function isString(e){return"string"==typeof e||!isArray(e)&&isObjectLike(e)&&baseGetTag(e)==stringTag$4}function baseValues(e,t){return arrayMap(t,(function(t){return e[t]}))}function values$1(e){return null==e?[]:baseValues(e,keys$1(e))}var nativeMax$9=Math.max;function includes(e,t,n,r){e=isArrayLike(e)?e:values$1(e),n=n&&!r?toInteger(n):0;var o=e.length;return n<0&&(n=nativeMax$9(o+n,0)),isString(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&baseIndexOf(e,t,n)>-1}var nativeMax$a=Math.max;function indexOf(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:toInteger(n);return o<0&&(o=nativeMax$a(r+o,0)),baseIndexOf(e,t,o)}function initial(e){return(null==e?0:e.length)?baseSlice(e,0,-1):[]}var nativeMin$6=Math.min;function baseIntersection(e,t,n){for(var r=n?arrayIncludesWith:arrayIncludes,o=e[0].length,i=e.length,a=i,s=Array(i),l=1/0,c=[];a--;){var u=e[a];a&&t&&(u=arrayMap(u,baseUnary(t))),l=nativeMin$6(u.length,l),s[a]=!n&&(t||o>=120&&u.length>=120)?new SetCache(a&&u):void 0}u=e[0];var d=-1,f=s[0];e:for(;++d<o&&c.length<l;){var h=u[d],p=t?t(h):h;if(h=n||0!==h?h:0,!(f?cacheHas(f,p):r(c,p,n))){for(a=i;--a;){var g=s[a];if(!(g?cacheHas(g,p):r(e[a],p,n)))continue e}f&&f.push(p),c.push(h)}}return c}function castArrayLikeObject(e){return isArrayLikeObject(e)?e:[]}var intersection$1=baseRest((function(e){var t=arrayMap(e,castArrayLikeObject);return t.length&&t[0]===e[0]?baseIntersection(t):[]})),intersectionBy=baseRest((function(e){var t=last(e),n=arrayMap(e,castArrayLikeObject);return t===last(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?baseIntersection(n,baseIteratee(t,2)):[]})),intersectionWith=baseRest((function(e){var t=last(e),n=arrayMap(e,castArrayLikeObject);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?baseIntersection(n,void 0,t):[]}));function baseInverter(e,t,n,r){return baseForOwn(e,(function(e,o,i){t(r,n(e),o,i)})),r}function createInverter(e,t){return function(n,r){return baseInverter(n,e,t(r),{})}}var objectProto$n=Object.prototype,nativeObjectToString$2=objectProto$n.toString,invert=createInverter((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=nativeObjectToString$2.call(t)),e[t]=n}),constant$e(identity$9)),objectProto$o=Object.prototype,hasOwnProperty$k=objectProto$o.hasOwnProperty,nativeObjectToString$3=objectProto$o.toString,invertBy=createInverter((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=nativeObjectToString$3.call(t)),hasOwnProperty$k.call(e,t)?e[t].push(n):e[t]=[n]}),baseIteratee);function parent(e,t){return t.length<2?e:baseGet(e,baseSlice(t,0,-1))}function baseInvoke(e,t,n){var r=null==(e=parent(e,t=castPath(t,e)))?e:e[toKey(last(t))];return null==r?void 0:apply(r,e,n)}var invoke=baseRest(baseInvoke),invokeMap=baseRest((function(e,t,n){var r=-1,o="function"==typeof t,i=isArrayLike(e)?Array(e.length):[];return baseEach(e,(function(e){i[++r]=o?apply(t,e,n):baseInvoke(e,t,n)})),i})),arrayBufferTag$4="[object ArrayBuffer]";function baseIsArrayBuffer(e){return isObjectLike(e)&&baseGetTag(e)==arrayBufferTag$4}var nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):baseIsArrayBuffer,boolTag$4="[object Boolean]";function isBoolean(e){return!0===e||!1===e||isObjectLike(e)&&baseGetTag(e)==boolTag$4}var dateTag$4="[object Date]";function baseIsDate(e){return isObjectLike(e)&&baseGetTag(e)==dateTag$4}var nodeIsDate=nodeUtil&&nodeUtil.isDate,isDate=nodeIsDate?baseUnary(nodeIsDate):baseIsDate;function isElement(e){return isObjectLike(e)&&1===e.nodeType&&!isPlainObject(e)}var mapTag$7="[object Map]",setTag$7="[object Set]",objectProto$p=Object.prototype,hasOwnProperty$l=objectProto$p.hasOwnProperty;function isEmpty(e){if(null==e)return!0;if(isArrayLike(e)&&(isArray(e)||"string"==typeof e||"function"==typeof e.splice||isBuffer(e)||isTypedArray(e)||isArguments(e)))return!e.length;var t=getTag$1(e);if(t==mapTag$7||t==setTag$7)return!e.size;if(isPrototype(e))return!baseKeys(e).length;for(var n in e)if(hasOwnProperty$l.call(e,n))return!1;return!0}function isEqual(e,t){return baseIsEqual(e,t)}function isEqualWith(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?baseIsEqual(e,t,void 0,n):!!r}var nativeIsFinite=root$2.isFinite;function isFinite$1(e){return"number"==typeof e&&nativeIsFinite(e)}function isInteger(e){return"number"==typeof e&&e==toInteger(e)}function isMatch(e,t){return e===t||baseIsMatch(e,t,getMatchData(t))}function isMatchWith(e,t,n){return n="function"==typeof n?n:void 0,baseIsMatch(e,t,getMatchData(t),n)}var numberTag$4="[object Number]";function isNumber(e){return"number"==typeof e||isObjectLike(e)&&baseGetTag(e)==numberTag$4}function isNaN$1(e){return isNumber(e)&&e!=+e}var isMaskable=coreJsData?isFunction:stubFalse,CORE_ERROR_TEXT="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function isNative(e){if(isMaskable(e))throw new Error(CORE_ERROR_TEXT);return baseIsNative(e)}function isNil(e){return null==e}function isNull(e){return null===e}var regexpTag$4="[object RegExp]";function baseIsRegExp(e){return isObjectLike(e)&&baseGetTag(e)==regexpTag$4}var nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp,MAX_SAFE_INTEGER$2=9007199254740991;function isSafeInteger(e){return isInteger(e)&&e>=-MAX_SAFE_INTEGER$2&&e<=MAX_SAFE_INTEGER$2}function isUndefined(e){return void 0===e}var weakMapTag$3="[object WeakMap]";function isWeakMap(e){return isObjectLike(e)&&getTag$1(e)==weakMapTag$3}var weakSetTag="[object WeakSet]";function isWeakSet(e){return isObjectLike(e)&&baseGetTag(e)==weakSetTag}var CLONE_DEEP_FLAG$4=1;function iteratee(e){return baseIteratee("function"==typeof e?e:baseClone(e,CLONE_DEEP_FLAG$4))}var arrayProto$1=Array.prototype,nativeJoin=arrayProto$1.join;function join(e,t){return null==e?"":nativeJoin.call(e,t)}var kebabCase=createCompounder((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),keyBy=createAggregator((function(e,t,n){baseAssignValue(e,n,t)}));function strictLastIndexOf(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}var nativeMax$b=Math.max,nativeMin$7=Math.min;function lastIndexOf(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return void 0!==n&&(o=(o=toInteger(n))<0?nativeMax$b(r+o,0):nativeMin$7(o,r-1)),t==t?strictLastIndexOf(e,t,o):baseFindIndex(e,baseIsNaN,o,!0)}var lowerCase=createCompounder((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),lowerFirst=createCaseFirst("toLowerCase");function baseLt(e,t){return e<t}var lt=createRelationalOperation(baseLt),lte=createRelationalOperation((function(e,t){return e<=t}));function mapKeys(e,t){var n={};return t=baseIteratee(t,3),baseForOwn(e,(function(e,r,o){baseAssignValue(n,t(e,r,o),e)})),n}function mapValues(e,t){var n={};return t=baseIteratee(t,3),baseForOwn(e,(function(e,r,o){baseAssignValue(n,r,t(e,r,o))})),n}var CLONE_DEEP_FLAG$5=1;function matches(e){return baseMatches(baseClone(e,CLONE_DEEP_FLAG$5))}var CLONE_DEEP_FLAG$6=1;function matchesProperty(e,t){return baseMatchesProperty(e,baseClone(t,CLONE_DEEP_FLAG$6))}function baseExtremum(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=t(i);if(null!=a&&(void 0===s?a==a&&!isSymbol(a):n(a,s)))var s=a,l=i}return l}function max$3(e){return e&&e.length?baseExtremum(e,identity$9,baseGt):void 0}function maxBy(e,t){return e&&e.length?baseExtremum(e,baseIteratee(t,2),baseGt):void 0}function baseSum(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}var NAN$2=NaN;function baseMean(e,t){var n=null==e?0:e.length;return n?baseSum(e,t)/n:NAN$2}function mean$1(e){return baseMean(e,identity$9)}function meanBy(e,t){return baseMean(e,baseIteratee(t,2))}var merge$1=createAssigner((function(e,t,n){baseMerge(e,t,n)})),method=baseRest((function(e,t){return function(n){return baseInvoke(n,e,t)}})),methodOf=baseRest((function(e,t){return function(n){return baseInvoke(e,n,t)}}));function min$2(e){return e&&e.length?baseExtremum(e,identity$9,baseLt):void 0}function minBy(e,t){return e&&e.length?baseExtremum(e,baseIteratee(t,2),baseLt):void 0}function mixin(e,t,n){var r=keys$1(t),o=baseFunctions(t,r),i=!(isObject(n)&&"chain"in n&&!n.chain),a=isFunction(e);return arrayEach(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=copyArray(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,arrayPush([this.value()],arguments))})})),e}var multiply=createMathOperation((function(e,t){return e*t}),1),FUNC_ERROR_TEXT$8="Expected a function";function negate(e){if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$8);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function iteratorToArray(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}var mapTag$8="[object Map]",setTag$8="[object Set]",symIterator=Symbol$1?Symbol$1.iterator:void 0;function toArray(e){if(!e)return[];if(isArrayLike(e))return isString(e)?stringToArray(e):copyArray(e);if(symIterator&&e[symIterator])return iteratorToArray(e[symIterator]());var t=getTag$1(e);return(t==mapTag$8?mapToArray:t==setTag$8?setToArray:values$1)(e)}function wrapperNext(){void 0===this.__values__&&(this.__values__=toArray(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}}function baseNth(e,t){var n=e.length;if(n)return isIndex(t+=t<0?n:0,n)?e[t]:void 0}function nth(e,t){return e&&e.length?baseNth(e,toInteger(t)):void 0}function nthArg(e){return e=toInteger(e),baseRest((function(t){return baseNth(t,e)}))}function baseUnset(e,t){return null==(e=parent(e,t=castPath(t,e)))||delete e[toKey(last(t))]}function customOmitClone(e){return isPlainObject(e)?void 0:e}var CLONE_DEEP_FLAG$7=1,CLONE_FLAT_FLAG$1=2,CLONE_SYMBOLS_FLAG$5=4,omit=flatRest((function(e,t){var n={};if(null==e)return n;var r=!1;t=arrayMap(t,(function(t){return t=castPath(t,e),r||(r=t.length>1),t})),copyObject(e,getAllKeysIn(e),n),r&&(n=baseClone(n,CLONE_DEEP_FLAG$7|CLONE_FLAT_FLAG$1|CLONE_SYMBOLS_FLAG$5,customOmitClone));for(var o=t.length;o--;)baseUnset(n,t[o]);return n}));function baseSet(e,t,n,r){if(!isObject(e))return e;for(var o=-1,i=(t=castPath(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var l=toKey(t[o]),c=n;if(o!=a){var u=s[l];void 0===(c=r?r(u,l,s):void 0)&&(c=isObject(u)?u:isIndex(t[o+1])?[]:{})}assignValue(s,l,c),s=s[l]}return e}function basePickBy(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=baseGet(e,a);n(s,a)&&baseSet(i,castPath(a,e),s)}return i}function pickBy(e,t){if(null==e)return{};var n=arrayMap(getAllKeysIn(e),(function(e){return[e]}));return t=baseIteratee(t),basePickBy(e,n,(function(e,n){return t(e,n[0])}))}function omitBy(e,t){return pickBy(e,negate(baseIteratee(t)))}function once(e){return before(2,e)}function baseSortBy(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function compareAscending(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,i=isSymbol(e),a=void 0!==t,s=null===t,l=t==t,c=isSymbol(t);if(!s&&!c&&!i&&e>t||i&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!o)return 1;if(!r&&!i&&!c&&e<t||c&&n&&o&&!r&&!i||s&&n&&o||!a&&o||!l)return-1}return 0}function compareMultiple(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;++r<a;){var l=compareAscending(o[r],i[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}function baseOrderBy(e,t,n){var r=-1;t=arrayMap(t.length?t:[identity$9],baseUnary(baseIteratee));var o=baseMap(e,(function(e,n,o){var i=arrayMap(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return baseSortBy(o,(function(e,t){return compareMultiple(e,t,n)}))}function orderBy(e,t,n,r){return null==e?[]:(isArray(t)||(t=null==t?[]:[t]),isArray(n=r?void 0:n)||(n=null==n?[]:[n]),baseOrderBy(e,t,n))}function createOver(e){return flatRest((function(t){return t=arrayMap(t,baseUnary(baseIteratee)),baseRest((function(n){var r=this;return e(t,(function(e){return apply(e,r,n)}))}))}))}var over=createOver(arrayMap),castRest=baseRest,nativeMin$8=Math.min,overArgs=castRest((function(e,t){var n=(t=1==t.length&&isArray(t[0])?arrayMap(t[0],baseUnary(baseIteratee)):arrayMap(baseFlatten(t,1),baseUnary(baseIteratee))).length;return baseRest((function(r){for(var o=-1,i=nativeMin$8(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return apply(e,this,r)}))})),overEvery=createOver(arrayEvery),overSome=createOver(arraySome),MAX_SAFE_INTEGER$3=9007199254740991,nativeFloor=Math.floor;function baseRepeat(e,t){var n="";if(!e||t<1||t>MAX_SAFE_INTEGER$3)return n;do{t%2&&(n+=e),(t=nativeFloor(t/2))&&(e+=e)}while(t);return n}var asciiSize=baseProperty("length"),rsAstralRange$3="\\ud800-\\udfff",rsComboMarksRange$4="\\u0300-\\u036f",reComboHalfMarksRange$4="\\ufe20-\\ufe2f",rsComboSymbolsRange$4="\\u20d0-\\u20ff",rsComboRange$4=rsComboMarksRange$4+reComboHalfMarksRange$4+rsComboSymbolsRange$4,rsVarRange$3="\\ufe0e\\ufe0f",rsAstral$1="["+rsAstralRange$3+"]",rsCombo$3="["+rsComboRange$4+"]",rsFitz$2="\\ud83c[\\udffb-\\udfff]",rsModifier$2="(?:"+rsCombo$3+"|"+rsFitz$2+")",rsNonAstral$2="[^"+rsAstralRange$3+"]",rsRegional$2="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair$2="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ$3="\\u200d",reOptMod$2=rsModifier$2+"?",rsOptVar$2="["+rsVarRange$3+"]?",rsOptJoin$2="(?:"+rsZWJ$3+"(?:"+[rsNonAstral$2,rsRegional$2,rsSurrPair$2].join("|")+")"+rsOptVar$2+reOptMod$2+")*",rsSeq$2=rsOptVar$2+reOptMod$2+rsOptJoin$2,rsSymbol$1="(?:"+[rsNonAstral$2+rsCombo$3+"?",rsCombo$3,rsRegional$2,rsSurrPair$2,rsAstral$1].join("|")+")",reUnicode$1=RegExp(rsFitz$2+"(?="+rsFitz$2+")|"+rsSymbol$1+rsSeq$2,"g");function unicodeSize(e){for(var t=reUnicode$1.lastIndex=0;reUnicode$1.test(e);)++t;return t}function stringSize(e){return hasUnicode(e)?unicodeSize(e):asciiSize(e)}var nativeCeil$1=Math.ceil;function createPadding(e,t){var n=(t=void 0===t?" ":baseToString(t)).length;if(n<2)return n?baseRepeat(t,e):t;var r=baseRepeat(t,nativeCeil$1(e/stringSize(t)));return hasUnicode(t)?castSlice(stringToArray(r),0,e).join(""):r.slice(0,e)}var nativeCeil$2=Math.ceil,nativeFloor$1=Math.floor;function pad$1(e,t,n){e=toString$1(e);var r=(t=toInteger(t))?stringSize(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return createPadding(nativeFloor$1(o),n)+e+createPadding(nativeCeil$2(o),n)}function padEnd(e,t,n){e=toString$1(e);var r=(t=toInteger(t))?stringSize(e):0;return t&&r<t?e+createPadding(t-r,n):e}function padStart(e,t,n){e=toString$1(e);var r=(t=toInteger(t))?stringSize(e):0;return t&&r<t?createPadding(t-r,n)+e:e}var reTrimStart=/^\s+/,nativeParseInt=root$2.parseInt;function parseInt$1(e,t,n){return n||null==t?t=0:t&&(t=+t),nativeParseInt(toString$1(e).replace(reTrimStart,""),t||0)}var WRAP_PARTIAL_FLAG$6=32,partial=baseRest((function(e,t){var n=replaceHolders(t,getHolder(partial));return createWrap(e,WRAP_PARTIAL_FLAG$6,void 0,t,n)}));partial.placeholder={};var WRAP_PARTIAL_RIGHT_FLAG$3=64,partialRight=baseRest((function(e,t){var n=replaceHolders(t,getHolder(partialRight));return createWrap(e,WRAP_PARTIAL_RIGHT_FLAG$3,void 0,t,n)}));partialRight.placeholder={};var partition$1=createAggregator((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));function basePick(e,t){return basePickBy(e,t,(function(t,n){return hasIn(e,n)}))}var pick=flatRest((function(e,t){return null==e?{}:basePick(e,t)}));function wrapperPlant(e){for(var t,n=this;n instanceof baseLodash;){var r=wrapperClone(n);r.__index__=0,r.__values__=void 0,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t}function propertyOf(e){return function(t){return null==e?void 0:baseGet(e,t)}}function baseIndexOfWith(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}var arrayProto$2=Array.prototype,splice$1=arrayProto$2.splice;function basePullAll(e,t,n,r){var o=r?baseIndexOfWith:baseIndexOf,i=-1,a=t.length,s=e;for(e===t&&(t=copyArray(t)),n&&(s=arrayMap(e,baseUnary(n)));++i<a;)for(var l=0,c=t[i],u=n?n(c):c;(l=o(s,u,l,r))>-1;)s!==e&&splice$1.call(s,l,1),splice$1.call(e,l,1);return e}function pullAll(e,t){return e&&e.length&&t&&t.length?basePullAll(e,t):e}var pull=baseRest(pullAll);function pullAllBy(e,t,n){return e&&e.length&&t&&t.length?basePullAll(e,t,baseIteratee(n,2)):e}function pullAllWith(e,t,n){return e&&e.length&&t&&t.length?basePullAll(e,t,void 0,n):e}var arrayProto$3=Array.prototype,splice$2=arrayProto$3.splice;function basePullAt(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;isIndex(o)?splice$2.call(e,o,1):baseUnset(e,o)}}return e}var pullAt=flatRest((function(e,t){var n=null==e?0:e.length,r=baseAt(e,t);return basePullAt(e,arrayMap(t,(function(e){return isIndex(e,n)?+e:e})).sort(compareAscending)),r})),nativeFloor$2=Math.floor,nativeRandom=Math.random;function baseRandom(e,t){return e+nativeFloor$2(nativeRandom()*(t-e+1))}var freeParseFloat=parseFloat,nativeMin$9=Math.min,nativeRandom$1=Math.random;function random(e,t,n){if(n&&"boolean"!=typeof n&&isIterateeCall(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=toFinite(e),void 0===t?(t=e,e=0):t=toFinite(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=nativeRandom$1();return nativeMin$9(e+o*(t-e+freeParseFloat("1e-"+((o+"").length-1))),t)}return baseRandom(e,t)}var nativeCeil$3=Math.ceil,nativeMax$c=Math.max;function baseRange(e,t,n,r){for(var o=-1,i=nativeMax$c(nativeCeil$3((t-e)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=e,e+=n;return a}function createRange(e){return function(t,n,r){return r&&"number"!=typeof r&&isIterateeCall(t,n,r)&&(n=r=void 0),t=toFinite(t),void 0===n?(n=t,t=0):n=toFinite(n),baseRange(t,n,r=void 0===r?t<n?1:-1:toFinite(r),e)}}var range$1=createRange(),rangeRight=createRange(!0),WRAP_REARG_FLAG$3=256,rearg=flatRest((function(e,t){return createWrap(e,WRAP_REARG_FLAG$3,void 0,void 0,void 0,t)}));function baseReduce(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function reduce(e,t,n){var r=isArray(e)?arrayReduce:baseReduce,o=arguments.length<3;return r(e,baseIteratee(t,4),n,o,baseEach)}function arrayReduceRight(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function reduceRight(e,t,n){var r=isArray(e)?arrayReduceRight:baseReduce,o=arguments.length<3;return r(e,baseIteratee(t,4),n,o,baseEachRight)}function reject(e,t){return(isArray(e)?arrayFilter:baseFilter)(e,negate(baseIteratee(t,3)))}function remove$1(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=baseIteratee(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return basePullAt(e,o),n}function repeat(e,t,n){return t=(n?isIterateeCall(e,t,n):void 0===t)?1:toInteger(t),baseRepeat(toString$1(e),t)}function replace(){var e=arguments,t=toString$1(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var FUNC_ERROR_TEXT$9="Expected a function";function rest(e,t){if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$9);return baseRest(e,t=void 0===t?t:toInteger(t))}function result(e,t,n){var r=-1,o=(t=castPath(t,e)).length;for(o||(o=1,e=void 0);++r<o;){var i=null==e?void 0:e[toKey(t[r])];void 0===i&&(r=o,i=n),e=isFunction(i)?i.call(e):i}return e}var arrayProto$4=Array.prototype,nativeReverse=arrayProto$4.reverse;function reverse$1(e){return null==e?e:nativeReverse.call(e)}var round=createRound("round");function arraySample(e){var t=e.length;return t?e[baseRandom(0,t-1)]:void 0}function baseSample(e){return arraySample(values$1(e))}function sample(e){return(isArray(e)?arraySample:baseSample)(e)}function shuffleSelf(e,t){var n=-1,r=e.length,o=r-1;for(t=void 0===t?r:t;++n<t;){var i=baseRandom(n,o),a=e[i];e[i]=e[n],e[n]=a}return e.length=t,e}function arraySampleSize(e,t){return shuffleSelf(copyArray(e),baseClamp(t,0,e.length))}function baseSampleSize(e,t){var n=values$1(e);return shuffleSelf(n,baseClamp(t,0,n.length))}function sampleSize(e,t,n){return t=(n?isIterateeCall(e,t,n):void 0===t)?1:toInteger(t),(isArray(e)?arraySampleSize:baseSampleSize)(e,t)}function set$3(e,t,n){return null==e?e:baseSet(e,t,n)}function setWith(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:baseSet(e,t,n,r)}function arrayShuffle(e){return shuffleSelf(copyArray(e))}function baseShuffle(e){return shuffleSelf(values$1(e))}function shuffle$2(e){return(isArray(e)?arrayShuffle:baseShuffle)(e)}var mapTag$9="[object Map]",setTag$9="[object Set]";function size(e){if(null==e)return 0;if(isArrayLike(e))return isString(e)?stringSize(e):e.length;var t=getTag$1(e);return t==mapTag$9||t==setTag$9?e.size:baseKeys(e).length}function slice$8(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&isIterateeCall(e,t,n)?(t=0,n=r):(t=null==t?0:toInteger(t),n=void 0===n?r:toInteger(n)),baseSlice(e,t,n)):[]}var snakeCase=createCompounder((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));function baseSome(e,t){var n;return baseEach(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function some(e,t,n){var r=isArray(e)?arraySome:baseSome;return n&&isIterateeCall(e,t,n)&&(t=void 0),r(e,baseIteratee(t,3))}var sortBy=baseRest((function(e,t){if(null==e)return[];var n=t.length;return n>1&&isIterateeCall(e,t[0],t[1])?t=[]:n>2&&isIterateeCall(t[0],t[1],t[2])&&(t=[t[0]]),baseOrderBy(e,baseFlatten(t,1),[])})),MAX_ARRAY_LENGTH$2=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH$2-1,nativeFloor$3=Math.floor,nativeMin$a=Math.min;function baseSortedIndexBy(e,t,n,r){t=n(t);for(var o=0,i=null==e?0:e.length,a=t!=t,s=null===t,l=isSymbol(t),c=void 0===t;o<i;){var u=nativeFloor$3((o+i)/2),d=n(e[u]),f=void 0!==d,h=null===d,p=d==d,g=isSymbol(d);if(a)var m=r||p;else m=c?p&&(r||f):s?p&&f&&(r||!h):l?p&&f&&!h&&(r||!g):!h&&!g&&(r?d<=t:d<t);m?o=u+1:i=u}return nativeMin$a(i,MAX_ARRAY_INDEX)}var MAX_ARRAY_LENGTH$3=4294967295,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH$3>>>1;function baseSortedIndex(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=HALF_MAX_ARRAY_LENGTH){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!isSymbol(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return baseSortedIndexBy(e,t,identity$9,n)}function sortedIndex(e,t){return baseSortedIndex(e,t)}function sortedIndexBy(e,t,n){return baseSortedIndexBy(e,t,baseIteratee(n,2))}function sortedIndexOf(e,t){var n=null==e?0:e.length;if(n){var r=baseSortedIndex(e,t);if(r<n&&eq(e[r],t))return r}return-1}function sortedLastIndex(e,t){return baseSortedIndex(e,t,!0)}function sortedLastIndexBy(e,t,n){return baseSortedIndexBy(e,t,baseIteratee(n,2),!0)}function sortedLastIndexOf(e,t){if(null==e?0:e.length){var n=baseSortedIndex(e,t,!0)-1;if(eq(e[n],t))return n}return-1}function baseSortedUniq(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!eq(s,l)){var l=s;i[o++]=0===a?0:a}}return i}function sortedUniq(e){return e&&e.length?baseSortedUniq(e):[]}function sortedUniqBy(e,t){return e&&e.length?baseSortedUniq(e,baseIteratee(t,2)):[]}var MAX_ARRAY_LENGTH$4=4294967295;function split(e,t,n){return n&&"number"!=typeof n&&isIterateeCall(e,t,n)&&(t=n=void 0),(n=void 0===n?MAX_ARRAY_LENGTH$4:n>>>0)?(e=toString$1(e))&&("string"==typeof t||null!=t&&!isRegExp(t))&&!(t=baseToString(t))&&hasUnicode(e)?castSlice(stringToArray(e),0,n):e.split(t,n):[]}var FUNC_ERROR_TEXT$a="Expected a function",nativeMax$d=Math.max;function spread(e,t){if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$a);return t=null==t?0:nativeMax$d(toInteger(t),0),baseRest((function(n){var r=n[t],o=castSlice(n,0,t);return r&&arrayPush(o,r),apply(e,this,o)}))}var startCase=createCompounder((function(e,t,n){return e+(n?" ":"")+upperFirst(t)}));function startsWith(e,t,n){return e=toString$1(e),n=null==n?0:baseClamp(toInteger(n),0,e.length),t=baseToString(t),e.slice(n,n+t.length)==t}function stubObject(){return{}}function stubString(){return""}function stubTrue(){return!0}var subtract=createMathOperation((function(e,t){return e-t}),0);function sum$3(e){return e&&e.length?baseSum(e,identity$9):0}function sumBy(e,t){return e&&e.length?baseSum(e,baseIteratee(t,2)):0}function tail(e){var t=null==e?0:e.length;return t?baseSlice(e,1,t):[]}function take(e,t,n){return e&&e.length?baseSlice(e,0,(t=n||void 0===t?1:toInteger(t))<0?0:t):[]}function takeRight(e,t,n){var r=null==e?0:e.length;return r?baseSlice(e,(t=r-(t=n||void 0===t?1:toInteger(t)))<0?0:t,r):[]}function takeRightWhile(e,t){return e&&e.length?baseWhile(e,baseIteratee(t,3),!1,!0):[]}function takeWhile(e,t){return e&&e.length?baseWhile(e,baseIteratee(t,3)):[]}function tap(e,t){return t(e),e}var objectProto$q=Object.prototype,hasOwnProperty$m=objectProto$q.hasOwnProperty;function customDefaultsAssignIn(e,t,n,r){return void 0===e||eq(e,objectProto$q[n])&&!hasOwnProperty$m.call(r,n)?t:e}var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function escapeStringChar(e){return"\\"+stringEscapes[e]}var reInterpolate=/<%=([\s\S]+?)%>/g,reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:{escape:escape}}},reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g;function template(e,t,n){var r=templateSettings.imports._.templateSettings||templateSettings;n&&isIterateeCall(e,t,n)&&(t=void 0),e=toString$1(e),t=assignInWith({},t,r,customDefaultsAssignIn);var o,i,a=assignInWith({},t.imports,r.imports,customDefaultsAssignIn),s=keys$1(a),l=baseValues(a,s),c=0,u=t.interpolate||reNoMatch,d="__p += '",f=RegExp((t.escape||reNoMatch).source+"|"+u.source+"|"+(u===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(t.evaluate||reNoMatch).source+"|$","g"),h="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";e.replace(f,(function(t,n,r,a,s,l){return r||(r=a),d+=e.slice(c,l).replace(reUnescapedString,escapeStringChar),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(i=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),d+="';\n";var p=t.variable;p||(d="with (obj) {\n"+d+"\n}\n"),d=(i?d.replace(reEmptyStringLeading,""):d).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=attempt((function(){return Function(s,h+"return "+d).apply(void 0,l)}));if(g.source=d,isError(g))throw g;return g}var FUNC_ERROR_TEXT$b="Expected a function";function throttle(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$b);return isObject(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),debounce(e,t,{leading:r,maxWait:t,trailing:o})}function thru(e,t){return t(e)}var MAX_SAFE_INTEGER$4=9007199254740991,MAX_ARRAY_LENGTH$5=4294967295,nativeMin$b=Math.min;function times(e,t){if((e=toInteger(e))<1||e>MAX_SAFE_INTEGER$4)return[];var n=MAX_ARRAY_LENGTH$5,r=nativeMin$b(e,MAX_ARRAY_LENGTH$5);t=castFunction(t),e-=MAX_ARRAY_LENGTH$5;for(var o=baseTimes(r,t);++n<e;)t(n);return o}function wrapperToIterator(){return this}function baseWrapperValue(e,t){var n=e;return n instanceof LazyWrapper&&(n=n.value()),arrayReduce(t,(function(e,t){return t.func.apply(t.thisArg,arrayPush([e],t.args))}),n)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}function toLower(e){return toString$1(e).toLowerCase()}function toPath(e){return isArray(e)?arrayMap(e,toKey):isSymbol(e)?[e]:copyArray(stringToPath(toString$1(e)))}var MAX_SAFE_INTEGER$5=9007199254740991;function toSafeInteger(e){return e?baseClamp(toInteger(e),-MAX_SAFE_INTEGER$5,MAX_SAFE_INTEGER$5):0===e?e:0}function toUpper(e){return toString$1(e).toUpperCase()}function transform$2(e,t,n){var r=isArray(e),o=r||isBuffer(e)||isTypedArray(e);if(t=baseIteratee(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:isObject(e)&&isFunction(i)?baseCreate(getPrototype(e)):{}}return(o?arrayEach:baseForOwn)(e,(function(e,r,o){return t(n,e,r,o)})),n}function charsEndIndex(e,t){for(var n=e.length;n--&&baseIndexOf(t,e[n],0)>-1;);return n}function charsStartIndex(e,t){for(var n=-1,r=e.length;++n<r&&baseIndexOf(t,e[n],0)>-1;);return n}var reTrim$1=/^\s+|\s+$/g;function trim(e,t,n){if((e=toString$1(e))&&(n||void 0===t))return e.replace(reTrim$1,"");if(!e||!(t=baseToString(t)))return e;var r=stringToArray(e),o=stringToArray(t);return castSlice(r,charsStartIndex(r,o),charsEndIndex(r,o)+1).join("")}var reTrimEnd=/\s+$/;function trimEnd(e,t,n){if((e=toString$1(e))&&(n||void 0===t))return e.replace(reTrimEnd,"");if(!e||!(t=baseToString(t)))return e;var r=stringToArray(e);return castSlice(r,0,charsEndIndex(r,stringToArray(t))+1).join("")}var reTrimStart$1=/^\s+/;function trimStart(e,t,n){if((e=toString$1(e))&&(n||void 0===t))return e.replace(reTrimStart$1,"");if(!e||!(t=baseToString(t)))return e;var r=stringToArray(e);return castSlice(r,charsStartIndex(r,stringToArray(t))).join("")}var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...",reFlags$1=/\w*$/;function truncate(e,t){var n=DEFAULT_TRUNC_LENGTH,r=DEFAULT_TRUNC_OMISSION;if(isObject(t)){var o="separator"in t?t.separator:o;n="length"in t?toInteger(t.length):n,r="omission"in t?baseToString(t.omission):r}var i=(e=toString$1(e)).length;if(hasUnicode(e)){var a=stringToArray(e);i=a.length}if(n>=i)return e;var s=n-stringSize(r);if(s<1)return r;var l=a?castSlice(a,0,s).join(""):e.slice(0,s);if(void 0===o)return l+r;if(a&&(s+=l.length-s),isRegExp(o)){if(e.slice(s).search(o)){var c,u=l;for(o.global||(o=RegExp(o.source,toString$1(reFlags$1.exec(o))+"g")),o.lastIndex=0;c=o.exec(u);)var d=c.index;l=l.slice(0,void 0===d?s:d)}}else if(e.indexOf(baseToString(o),s)!=s){var f=l.lastIndexOf(o);f>-1&&(l=l.slice(0,f))}return l+r}function unary(e){return ary(e,1)}var htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},unescapeHtmlChar=basePropertyOf(htmlUnescapes),reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reHasEscapedHtml=RegExp(reEscapedHtml.source);function unescape(e){return(e=toString$1(e))&&reHasEscapedHtml.test(e)?e.replace(reEscapedHtml,unescapeHtmlChar):e}var INFINITY$5=1/0,createSet=Set$1&&1/setToArray(new Set$1([,-0]))[1]==INFINITY$5?function(e){return new Set$1(e)}:noop$4,LARGE_ARRAY_SIZE$2=200;function baseUniq(e,t,n){var r=-1,o=arrayIncludes,i=e.length,a=!0,s=[],l=s;if(n)a=!1,o=arrayIncludesWith;else if(i>=LARGE_ARRAY_SIZE$2){var c=t?null:createSet(e);if(c)return setToArray(c);a=!1,o=cacheHas,l=new SetCache}else l=t?[]:s;e:for(;++r<i;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,a&&d==d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(u)}else o(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}var union=baseRest((function(e){return baseUniq(baseFlatten(e,1,isArrayLikeObject,!0))})),unionBy=baseRest((function(e){var t=last(e);return isArrayLikeObject(t)&&(t=void 0),baseUniq(baseFlatten(e,1,isArrayLikeObject,!0),baseIteratee(t,2))})),unionWith=baseRest((function(e){var t=last(e);return t="function"==typeof t?t:void 0,baseUniq(baseFlatten(e,1,isArrayLikeObject,!0),void 0,t)}));function uniq(e){return e&&e.length?baseUniq(e):[]}function uniqBy(e,t){return e&&e.length?baseUniq(e,baseIteratee(t,2)):[]}function uniqWith(e,t){return t="function"==typeof t?t:void 0,e&&e.length?baseUniq(e,void 0,t):[]}var idCounter=0;function uniqueId(e){var t=++idCounter;return toString$1(e)+t}function unset(e,t){return null==e||baseUnset(e,t)}var nativeMax$e=Math.max;function unzip(e){if(!e||!e.length)return[];var t=0;return e=arrayFilter(e,(function(e){if(isArrayLikeObject(e))return t=nativeMax$e(e.length,t),!0})),baseTimes(t,(function(t){return arrayMap(e,baseProperty(t))}))}function unzipWith(e,t){if(!e||!e.length)return[];var n=unzip(e);return null==t?n:arrayMap(n,(function(e){return apply(t,void 0,e)}))}function baseUpdate(e,t,n,r){return baseSet(e,t,n(baseGet(e,t)),r)}function update(e,t,n){return null==e?e:baseUpdate(e,t,castFunction(n))}function updateWith(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:baseUpdate(e,t,castFunction(n),r)}var upperCase=createCompounder((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}));function valuesIn(e){return null==e?[]:baseValues(e,keysIn$1(e))}var without$1=baseRest((function(e,t){return isArrayLikeObject(e)?baseDifference(e,t):[]}));function wrap(e,t){return partial(castFunction(t),e)}var wrapperAt=flatRest((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return baseAt(t,e)};return!(t>1||this.__actions__.length)&&r instanceof LazyWrapper&&isIndex(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:thru,args:[o],thisArg:void 0}),new LodashWrapper(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(o)}));function wrapperChain(){return chain(this)}function wrapperReverse(){var e=this.__wrapped__;if(e instanceof LazyWrapper){var t=e;return this.__actions__.length&&(t=new LazyWrapper(this)),(t=t.reverse()).__actions__.push({func:thru,args:[reverse$1],thisArg:void 0}),new LodashWrapper(t,this.__chain__)}return this.thru(reverse$1)}function baseXor(e,t,n){var r=e.length;if(r<2)return r?baseUniq(e[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var a=e[o],s=-1;++s<r;)s!=o&&(i[o]=baseDifference(i[o]||a,e[s],t,n));return baseUniq(baseFlatten(i,1),t,n)}var xor=baseRest((function(e){return baseXor(arrayFilter(e,isArrayLikeObject))})),xorBy=baseRest((function(e){var t=last(e);return isArrayLikeObject(t)&&(t=void 0),baseXor(arrayFilter(e,isArrayLikeObject),baseIteratee(t,2))})),xorWith=baseRest((function(e){var t=last(e);return t="function"==typeof t?t:void 0,baseXor(arrayFilter(e,isArrayLikeObject),void 0,t)})),zip$1=baseRest(unzip);function baseZipObject(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var s=r<i?t[r]:void 0;n(a,e[r],s)}return a}function zipObject(e,t){return baseZipObject(e||[],t||[],assignValue)}function zipObjectDeep(e,t){return baseZipObject(e||[],t||[],baseSet)}var zipWith=baseRest((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,unzipWith(e,n)})),array$4={chunk:chunk,compact:compact,concat:concat,difference:difference,differenceBy:differenceBy,differenceWith:differenceWith,drop:drop,dropRight:dropRight,dropRightWhile:dropRightWhile,dropWhile:dropWhile,fill:fill,findIndex:findIndex,findLastIndex:findLastIndex,first:head,flatten:flatten,flattenDeep:flattenDeep,flattenDepth:flattenDepth,fromPairs:fromPairs,head:head,indexOf:indexOf,initial:initial,intersection:intersection$1,intersectionBy:intersectionBy,intersectionWith:intersectionWith,join:join,last:last,lastIndexOf:lastIndexOf,nth:nth,pull:pull,pullAll:pullAll,pullAllBy:pullAllBy,pullAllWith:pullAllWith,pullAt:pullAt,remove:remove$1,reverse:reverse$1,slice:slice$8,sortedIndex:sortedIndex,sortedIndexBy:sortedIndexBy,sortedIndexOf:sortedIndexOf,sortedLastIndex:sortedLastIndex,sortedLastIndexBy:sortedLastIndexBy,sortedLastIndexOf:sortedLastIndexOf,sortedUniq:sortedUniq,sortedUniqBy:sortedUniqBy,tail:tail,take:take,takeRight:takeRight,takeRightWhile:takeRightWhile,takeWhile:takeWhile,union:union,unionBy:unionBy,unionWith:unionWith,uniq:uniq,uniqBy:uniqBy,uniqWith:uniqWith,unzip:unzip,unzipWith:unzipWith,without:without$1,xor:xor,xorBy:xorBy,xorWith:xorWith,zip:zip$1,zipObject:zipObject,zipObjectDeep:zipObjectDeep,zipWith:zipWith},collection={countBy:countBy,each:forEach,eachRight:forEachRight,every:every,filter:filter,find:find$1,findLast:findLast,flatMap:flatMap,flatMapDeep:flatMapDeep,flatMapDepth:flatMapDepth,forEach:forEach,forEachRight:forEachRight,groupBy:groupBy,includes:includes,invokeMap:invokeMap,keyBy:keyBy,map:map$3,orderBy:orderBy,partition:partition$1,reduce:reduce,reduceRight:reduceRight,reject:reject,sample:sample,sampleSize:sampleSize,shuffle:shuffle$2,size:size,some:some,sortBy:sortBy},date$2={now:now$1},func={after:after,ary:ary,before:before,bind:bind,bindKey:bindKey$1,curry:curry,curryRight:curryRight,debounce:debounce,defer:defer,delay:delay,flip:flip$1,memoize:memoize,negate:negate,once:once,overArgs:overArgs,partial:partial,partialRight:partialRight,rearg:rearg,rest:rest,spread:spread,throttle:throttle,unary:unary,wrap:wrap},lang={castArray:castArray,clone:clone,cloneDeep:cloneDeep,cloneDeepWith:cloneDeepWith,cloneWith:cloneWith,conformsTo:conformsTo,eq:eq,gt:gt,gte:gte,isArguments:isArguments,isArray:isArray,isArrayBuffer:isArrayBuffer,isArrayLike:isArrayLike,isArrayLikeObject:isArrayLikeObject,isBoolean:isBoolean,isBuffer:isBuffer,isDate:isDate,isElement:isElement,isEmpty:isEmpty,isEqual:isEqual,isEqualWith:isEqualWith,isError:isError,isFinite:isFinite$1,isFunction:isFunction,isInteger:isInteger,isLength:isLength,isMap:isMap,isMatch:isMatch,isMatchWith:isMatchWith,isNaN:isNaN$1,isNative:isNative,isNil:isNil,isNull:isNull,isNumber:isNumber,isObject:isObject,isObjectLike:isObjectLike,isPlainObject:isPlainObject,isRegExp:isRegExp,isSafeInteger:isSafeInteger,isSet:isSet,isString:isString,isSymbol:isSymbol,isTypedArray:isTypedArray,isUndefined:isUndefined,isWeakMap:isWeakMap,isWeakSet:isWeakSet,lt:lt,lte:lte,toArray:toArray,toFinite:toFinite,toInteger:toInteger,toLength:toLength,toNumber:toNumber,toPlainObject:toPlainObject,toSafeInteger:toSafeInteger,toString:toString$1},math={add:add$2,ceil:ceil$1,divide:divide,floor:floor$1,max:max$3,maxBy:maxBy,mean:mean$1,meanBy:meanBy,min:min$2,minBy:minBy,multiply:multiply,round:round,subtract:subtract,sum:sum$3,sumBy:sumBy},number$4={clamp:clamp,inRange:inRange,random:random},object$2={assign:assign,assignIn:assignIn,assignInWith:assignInWith,assignWith:assignWith,at:at,create:create$2,defaults:defaults,defaultsDeep:defaultsDeep,entries:toPairs,entriesIn:toPairsIn,extend:assignIn,extendWith:assignInWith,findKey:findKey,findLastKey:findLastKey,forIn:forIn,forInRight:forInRight,forOwn:forOwn,forOwnRight:forOwnRight,functions:functions,functionsIn:functionsIn,get:get$2,has:has,hasIn:hasIn,invert:invert,invertBy:invertBy,invoke:invoke,keys:keys$1,keysIn:keysIn$1,mapKeys:mapKeys,mapValues:mapValues,merge:merge$1,mergeWith:mergeWith,omit:omit,omitBy:omitBy,pick:pick,pickBy:pickBy,result:result,set:set$3,setWith:setWith,toPairs:toPairs,toPairsIn:toPairsIn,transform:transform$2,unset:unset,update:update,updateWith:updateWith,values:values$1,valuesIn:valuesIn},seq={at:wrapperAt,chain:chain,commit:wrapperCommit,lodash:lodash,next:wrapperNext,plant:wrapperPlant,reverse:wrapperReverse,tap:tap,thru:thru,toIterator:wrapperToIterator,toJSON:wrapperValue,value:wrapperValue,valueOf:wrapperValue,wrapperChain:wrapperChain},string={camelCase:camelCase,capitalize:capitalize,deburr:deburr,endsWith:endsWith,escape:escape,escapeRegExp:escapeRegExp,kebabCase:kebabCase,lowerCase:lowerCase,lowerFirst:lowerFirst,pad:pad$1,padEnd:padEnd,padStart:padStart,parseInt:parseInt$1,repeat:repeat,replace:replace,snakeCase:snakeCase,split:split,startCase:startCase,startsWith:startsWith,template:template,templateSettings:templateSettings,toLower:toLower,toUpper:toUpper,trim:trim,trimEnd:trimEnd,trimStart:trimStart,truncate:truncate,unescape:unescape,upperCase:upperCase,upperFirst:upperFirst,words:words},util={attempt:attempt,bindAll:bindAll,cond:cond,conforms:conforms,constant:constant$e,defaultTo:defaultTo,flow:flow,flowRight:flowRight,identity:identity$9,iteratee:iteratee,matches:matches,matchesProperty:matchesProperty,method:method,methodOf:methodOf,mixin:mixin,noop:noop$4,nthArg:nthArg,over:over,overEvery:overEvery,overSome:overSome,property:property,propertyOf:propertyOf,range:range$1,rangeRight:rangeRight,stubArray:stubArray,stubFalse:stubFalse,stubObject:stubObject,stubString:stubString,stubTrue:stubTrue,times:times,toPath:toPath,uniqueId:uniqueId};function lazyClone(){var e=new LazyWrapper(this.__wrapped__);return e.__actions__=copyArray(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=copyArray(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=copyArray(this.__views__),e}function lazyReverse(){if(this.__filtered__){var e=new LazyWrapper(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e}var nativeMax$f=Math.max,nativeMin$c=Math.min;function getView(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=nativeMin$c(t,e+a);break;case"takeRight":e=nativeMax$f(e,t-a)}}return{start:e,end:t}}var LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,nativeMin$d=Math.min;function lazyValue(){var e=this.__wrapped__.value(),t=this.__dir__,n=isArray(e),r=t<0,o=n?e.length:0,i=getView(0,o,this.__views__),a=i.start,s=i.end,l=s-a,c=r?s:a-1,u=this.__iteratees__,d=u.length,f=0,h=nativeMin$d(l,this.__takeCount__);if(!n||!r&&o==l&&h==l)return baseWrapperValue(e,this.__actions__);var p=[];e:for(;l--&&f<h;){for(var g=-1,m=e[c+=t];++g<d;){var v=u[g],y=v.iteratee,b=v.type,w=y(m);if(b==LAZY_MAP_FLAG)m=w;else if(!w){if(b==LAZY_FILTER_FLAG)continue e;break e}}p[f++]=m}return p}
  /**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright JS Foundation and other contributors <https://js.foundation/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   */var VERSION="4.17.11",WRAP_BIND_KEY_FLAG$6=2,LAZY_FILTER_FLAG$1=1,LAZY_WHILE_FLAG=3,MAX_ARRAY_LENGTH$6=4294967295,arrayProto$5=Array.prototype,objectProto$r=Object.prototype,hasOwnProperty$n=objectProto$r.hasOwnProperty,symIterator$1=Symbol$1?Symbol$1.iterator:void 0,nativeMax$g=Math.max,nativeMin$e=Math.min,mixin$1=(func$$1=mixin,function(e,t,n){if(null==n){var r=isObject(t),o=r&&keys$1(t),i=o&&o.length&&baseFunctions(t,o);(i?i.length:r)||(n=t,t=e,e=this)}return func$$1(e,t,n)}),func$$1,source;lodash.after=func.after,lodash.ary=func.ary,lodash.assign=object$2.assign,lodash.assignIn=object$2.assignIn,lodash.assignInWith=object$2.assignInWith,lodash.assignWith=object$2.assignWith,lodash.at=object$2.at,lodash.before=func.before,lodash.bind=func.bind,lodash.bindAll=util.bindAll,lodash.bindKey=func.bindKey,lodash.castArray=lang.castArray,lodash.chain=seq.chain,lodash.chunk=array$4.chunk,lodash.compact=array$4.compact,lodash.concat=array$4.concat,lodash.cond=util.cond,lodash.conforms=util.conforms,lodash.constant=util.constant,lodash.countBy=collection.countBy,lodash.create=object$2.create,lodash.curry=func.curry,lodash.curryRight=func.curryRight,lodash.debounce=func.debounce,lodash.defaults=object$2.defaults,lodash.defaultsDeep=object$2.defaultsDeep,lodash.defer=func.defer,lodash.delay=func.delay,lodash.difference=array$4.difference,lodash.differenceBy=array$4.differenceBy,lodash.differenceWith=array$4.differenceWith,lodash.drop=array$4.drop,lodash.dropRight=array$4.dropRight,lodash.dropRightWhile=array$4.dropRightWhile,lodash.dropWhile=array$4.dropWhile,lodash.fill=array$4.fill,lodash.filter=collection.filter,lodash.flatMap=collection.flatMap,lodash.flatMapDeep=collection.flatMapDeep,lodash.flatMapDepth=collection.flatMapDepth,lodash.flatten=array$4.flatten,lodash.flattenDeep=array$4.flattenDeep,lodash.flattenDepth=array$4.flattenDepth,lodash.flip=func.flip,lodash.flow=util.flow,lodash.flowRight=util.flowRight,lodash.fromPairs=array$4.fromPairs,lodash.functions=object$2.functions,lodash.functionsIn=object$2.functionsIn,lodash.groupBy=collection.groupBy,lodash.initial=array$4.initial,lodash.intersection=array$4.intersection,lodash.intersectionBy=array$4.intersectionBy,lodash.intersectionWith=array$4.intersectionWith,lodash.invert=object$2.invert,lodash.invertBy=object$2.invertBy,lodash.invokeMap=collection.invokeMap,lodash.iteratee=util.iteratee,lodash.keyBy=collection.keyBy,lodash.keys=keys$1,lodash.keysIn=object$2.keysIn,lodash.map=collection.map,lodash.mapKeys=object$2.mapKeys,lodash.mapValues=object$2.mapValues,lodash.matches=util.matches,lodash.matchesProperty=util.matchesProperty,lodash.memoize=func.memoize,lodash.merge=object$2.merge,lodash.mergeWith=object$2.mergeWith,lodash.method=util.method,lodash.methodOf=util.methodOf,lodash.mixin=mixin$1,lodash.negate=negate,lodash.nthArg=util.nthArg,lodash.omit=object$2.omit,lodash.omitBy=object$2.omitBy,lodash.once=func.once,lodash.orderBy=collection.orderBy,lodash.over=util.over,lodash.overArgs=func.overArgs,lodash.overEvery=util.overEvery,lodash.overSome=util.overSome,lodash.partial=func.partial,lodash.partialRight=func.partialRight,lodash.partition=collection.partition,lodash.pick=object$2.pick,lodash.pickBy=object$2.pickBy,lodash.property=util.property,lodash.propertyOf=util.propertyOf,lodash.pull=array$4.pull,lodash.pullAll=array$4.pullAll,lodash.pullAllBy=array$4.pullAllBy,lodash.pullAllWith=array$4.pullAllWith,lodash.pullAt=array$4.pullAt,lodash.range=util.range,lodash.rangeRight=util.rangeRight,lodash.rearg=func.rearg,lodash.reject=collection.reject,lodash.remove=array$4.remove,lodash.rest=func.rest,lodash.reverse=array$4.reverse,lodash.sampleSize=collection.sampleSize,lodash.set=object$2.set,lodash.setWith=object$2.setWith,lodash.shuffle=collection.shuffle,lodash.slice=array$4.slice,lodash.sortBy=collection.sortBy,lodash.sortedUniq=array$4.sortedUniq,lodash.sortedUniqBy=array$4.sortedUniqBy,lodash.split=string.split,lodash.spread=func.spread,lodash.tail=array$4.tail,lodash.take=array$4.take,lodash.takeRight=array$4.takeRight,lodash.takeRightWhile=array$4.takeRightWhile,lodash.takeWhile=array$4.takeWhile,lodash.tap=seq.tap,lodash.throttle=func.throttle,lodash.thru=thru,lodash.toArray=lang.toArray,lodash.toPairs=object$2.toPairs,lodash.toPairsIn=object$2.toPairsIn,lodash.toPath=util.toPath,lodash.toPlainObject=lang.toPlainObject,lodash.transform=object$2.transform,lodash.unary=func.unary,lodash.union=array$4.union,lodash.unionBy=array$4.unionBy,lodash.unionWith=array$4.unionWith,lodash.uniq=array$4.uniq,lodash.uniqBy=array$4.uniqBy,lodash.uniqWith=array$4.uniqWith,lodash.unset=object$2.unset,lodash.unzip=array$4.unzip,lodash.unzipWith=array$4.unzipWith,lodash.update=object$2.update,lodash.updateWith=object$2.updateWith,lodash.values=object$2.values,lodash.valuesIn=object$2.valuesIn,lodash.without=array$4.without,lodash.words=string.words,lodash.wrap=func.wrap,lodash.xor=array$4.xor,lodash.xorBy=array$4.xorBy,lodash.xorWith=array$4.xorWith,lodash.zip=array$4.zip,lodash.zipObject=array$4.zipObject,lodash.zipObjectDeep=array$4.zipObjectDeep,lodash.zipWith=array$4.zipWith,lodash.entries=object$2.toPairs,lodash.entriesIn=object$2.toPairsIn,lodash.extend=object$2.assignIn,lodash.extendWith=object$2.assignInWith,mixin$1(lodash,lodash),lodash.add=math.add,lodash.attempt=util.attempt,lodash.camelCase=string.camelCase,lodash.capitalize=string.capitalize,lodash.ceil=math.ceil,lodash.clamp=number$4.clamp,lodash.clone=lang.clone,lodash.cloneDeep=lang.cloneDeep,lodash.cloneDeepWith=lang.cloneDeepWith,lodash.cloneWith=lang.cloneWith,lodash.conformsTo=lang.conformsTo,lodash.deburr=string.deburr,lodash.defaultTo=util.defaultTo,lodash.divide=math.divide,lodash.endsWith=string.endsWith,lodash.eq=lang.eq,lodash.escape=string.escape,lodash.escapeRegExp=string.escapeRegExp,lodash.every=collection.every,lodash.find=collection.find,lodash.findIndex=array$4.findIndex,lodash.findKey=object$2.findKey,lodash.findLast=collection.findLast,lodash.findLastIndex=array$4.findLastIndex,lodash.findLastKey=object$2.findLastKey,lodash.floor=math.floor,lodash.forEach=collection.forEach,lodash.forEachRight=collection.forEachRight,lodash.forIn=object$2.forIn,lodash.forInRight=object$2.forInRight,lodash.forOwn=object$2.forOwn,lodash.forOwnRight=object$2.forOwnRight,lodash.get=object$2.get,lodash.gt=lang.gt,lodash.gte=lang.gte,lodash.has=object$2.has,lodash.hasIn=object$2.hasIn,lodash.head=array$4.head,lodash.identity=identity$9,lodash.includes=collection.includes,lodash.indexOf=array$4.indexOf,lodash.inRange=number$4.inRange,lodash.invoke=object$2.invoke,lodash.isArguments=lang.isArguments,lodash.isArray=isArray,lodash.isArrayBuffer=lang.isArrayBuffer,lodash.isArrayLike=lang.isArrayLike,lodash.isArrayLikeObject=lang.isArrayLikeObject,lodash.isBoolean=lang.isBoolean,lodash.isBuffer=lang.isBuffer,lodash.isDate=lang.isDate,lodash.isElement=lang.isElement,lodash.isEmpty=lang.isEmpty,lodash.isEqual=lang.isEqual,lodash.isEqualWith=lang.isEqualWith,lodash.isError=lang.isError,lodash.isFinite=lang.isFinite,lodash.isFunction=lang.isFunction,lodash.isInteger=lang.isInteger,lodash.isLength=lang.isLength,lodash.isMap=lang.isMap,lodash.isMatch=lang.isMatch,lodash.isMatchWith=lang.isMatchWith,lodash.isNaN=lang.isNaN,lodash.isNative=lang.isNative,lodash.isNil=lang.isNil,lodash.isNull=lang.isNull,lodash.isNumber=lang.isNumber,lodash.isObject=isObject,lodash.isObjectLike=lang.isObjectLike,lodash.isPlainObject=lang.isPlainObject,lodash.isRegExp=lang.isRegExp,lodash.isSafeInteger=lang.isSafeInteger,lodash.isSet=lang.isSet,lodash.isString=lang.isString,lodash.isSymbol=lang.isSymbol,lodash.isTypedArray=lang.isTypedArray,lodash.isUndefined=lang.isUndefined,lodash.isWeakMap=lang.isWeakMap,lodash.isWeakSet=lang.isWeakSet,lodash.join=array$4.join,lodash.kebabCase=string.kebabCase,lodash.last=last,lodash.lastIndexOf=array$4.lastIndexOf,lodash.lowerCase=string.lowerCase,lodash.lowerFirst=string.lowerFirst,lodash.lt=lang.lt,lodash.lte=lang.lte,lodash.max=math.max,lodash.maxBy=math.maxBy,lodash.mean=math.mean,lodash.meanBy=math.meanBy,lodash.min=math.min,lodash.minBy=math.minBy,lodash.stubArray=util.stubArray,lodash.stubFalse=util.stubFalse,lodash.stubObject=util.stubObject,lodash.stubString=util.stubString,lodash.stubTrue=util.stubTrue,lodash.multiply=math.multiply,lodash.nth=array$4.nth,lodash.noop=util.noop,lodash.now=date$2.now,lodash.pad=string.pad,lodash.padEnd=string.padEnd,lodash.padStart=string.padStart,lodash.parseInt=string.parseInt,lodash.random=number$4.random,lodash.reduce=collection.reduce,lodash.reduceRight=collection.reduceRight,lodash.repeat=string.repeat,lodash.replace=string.replace,lodash.result=object$2.result,lodash.round=math.round,lodash.sample=collection.sample,lodash.size=collection.size,lodash.snakeCase=string.snakeCase,lodash.some=collection.some,lodash.sortedIndex=array$4.sortedIndex,lodash.sortedIndexBy=array$4.sortedIndexBy,lodash.sortedIndexOf=array$4.sortedIndexOf,lodash.sortedLastIndex=array$4.sortedLastIndex,lodash.sortedLastIndexBy=array$4.sortedLastIndexBy,lodash.sortedLastIndexOf=array$4.sortedLastIndexOf,lodash.startCase=string.startCase,lodash.startsWith=string.startsWith,lodash.subtract=math.subtract,lodash.sum=math.sum,lodash.sumBy=math.sumBy,lodash.template=string.template,lodash.times=util.times,lodash.toFinite=lang.toFinite,lodash.toInteger=toInteger,lodash.toLength=lang.toLength,lodash.toLower=string.toLower,lodash.toNumber=lang.toNumber,lodash.toSafeInteger=lang.toSafeInteger,lodash.toString=lang.toString,lodash.toUpper=string.toUpper,lodash.trim=string.trim,lodash.trimEnd=string.trimEnd,lodash.trimStart=string.trimStart,lodash.truncate=string.truncate,lodash.unescape=string.unescape,lodash.uniqueId=util.uniqueId,lodash.upperCase=string.upperCase,lodash.upperFirst=string.upperFirst,lodash.each=collection.forEach,lodash.eachRight=collection.forEachRight,lodash.first=array$4.head,mixin$1(lodash,(source={},baseForOwn(lodash,(function(e,t){hasOwnProperty$n.call(lodash.prototype,t)||(source[t]=e)})),source),{chain:!1}),lodash.VERSION=VERSION,(lodash.templateSettings=string.templateSettings).imports._=lodash,arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){lodash[e].placeholder=lodash})),arrayEach(["drop","take"],(function(e,t){LazyWrapper.prototype[e]=function(n){n=void 0===n?1:nativeMax$g(toInteger(n),0);var r=this.__filtered__&&!t?new LazyWrapper(this):this.clone();return r.__filtered__?r.__takeCount__=nativeMin$e(n,r.__takeCount__):r.__views__.push({size:nativeMin$e(n,MAX_ARRAY_LENGTH$6),type:e+(r.__dir__<0?"Right":"")}),r},LazyWrapper.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),arrayEach(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=n==LAZY_FILTER_FLAG$1||n==LAZY_WHILE_FLAG;LazyWrapper.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:baseIteratee(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),arrayEach(["head","last"],(function(e,t){var n="take"+(t?"Right":"");LazyWrapper.prototype[e]=function(){return this[n](1).value()[0]}})),arrayEach(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");LazyWrapper.prototype[e]=function(){return this.__filtered__?new LazyWrapper(this):this[n](1)}})),LazyWrapper.prototype.compact=function(){return this.filter(identity$9)},LazyWrapper.prototype.find=function(e){return this.filter(e).head()},LazyWrapper.prototype.findLast=function(e){return this.reverse().find(e)},LazyWrapper.prototype.invokeMap=baseRest((function(e,t){return"function"==typeof e?new LazyWrapper(this):this.map((function(n){return baseInvoke(n,e,t)}))})),LazyWrapper.prototype.reject=function(e){return this.filter(negate(baseIteratee(e)))},LazyWrapper.prototype.slice=function(e,t){e=toInteger(e);var n=this;return n.__filtered__&&(e>0||t<0)?new LazyWrapper(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=toInteger(t))<0?n.dropRight(-t):n.take(t-e)),n)},LazyWrapper.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH$6)},baseForOwn(LazyWrapper.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=lodash[r?"take"+("last"==t?"Right":""):t],i=r||/^find/.test(t);o&&(lodash.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof LazyWrapper,l=a[0],c=s||isArray(t),u=function(e){var t=o.apply(lodash,arrayPush([e],a));return r&&d?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(s=c=!1);var d=this.__chain__,f=!!this.__actions__.length,h=i&&!d,p=s&&!f;if(!i&&c){t=p?t:new LazyWrapper(this);var g=e.apply(t,a);return g.__actions__.push({func:thru,args:[u],thisArg:void 0}),new LodashWrapper(g,d)}return h&&p?e.apply(this,a):(g=this.thru(u),h?r?g.value()[0]:g.value():g)})})),arrayEach(["pop","push","shift","sort","splice","unshift"],(function(e){var t=arrayProto$5[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);lodash.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(isArray(o)?o:[],e)}return this[n]((function(n){return t.apply(isArray(n)?n:[],e)}))}})),baseForOwn(LazyWrapper.prototype,(function(e,t){var n=lodash[t];if(n){var r=n.name+"";(realNames[r]||(realNames[r]=[])).push({name:t,func:n})}})),realNames[createHybrid(void 0,WRAP_BIND_KEY_FLAG$6).name]=[{name:"wrapper",func:void 0}],LazyWrapper.prototype.clone=lazyClone,LazyWrapper.prototype.reverse=lazyReverse,LazyWrapper.prototype.value=lazyValue,lodash.prototype.at=seq.at,lodash.prototype.chain=seq.wrapperChain,lodash.prototype.commit=seq.commit,lodash.prototype.next=seq.next,lodash.prototype.plant=seq.plant,lodash.prototype.reverse=seq.reverse,lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=seq.value,lodash.prototype.first=lodash.prototype.head,symIterator$1&&(lodash.prototype[symIterator$1]=seq.toIterator)
  /**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright JS Foundation and other contributors <https://js.foundation/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   */;var as_float=function(e){var t=parseFloat(e);return isNaN(t)?e:t},attachGrid=function(e,t,n){return function(t){var r=t.container,o=t.columns,i=void 0===o?null:o,a=t.options,s=void 0===a?null:a;n.grid=!0;var l=new SlickGrid.Plugins.CheckboxSelectColumn({cssClass:"slick-cell-checkboxsel"});if(null===i){var c=e.vars;(c=difference(c,["id"])).unshift("id"),(i=c.map((function(e,t){return{id:e,name:e,field:e,sortable:!0}}))).unshift(l.getColumnDefinition())}null===s&&(s={enableCellNavigation:!0,enableColumnReorder:!0,multiColumnSort:!1,editable:!0,asyncEditorLoading:!1,autoEdit:!1}),e.dataView=new SlickGrid.Data.DataView,e.dataView.setItems(e.data),e.grid=new SlickGrid.Grid(r,e.dataView,i,s),e.grid.setSelectionModel(new SlickGrid.Plugins.RowSelectionModel({selectActiveRow:!1})),e.grid.registerPlugin(l),e.dataView.onRowCountChanged.subscribe((function(t,n){e.grid.updateRowCount(),e.grid.render()})),e.dataView.onRowsChanged.subscribe((function(t,n){e.grid.invalidateRows(n.rows),e.grid.render()})),e.dataView.syncGridSelection(e.grid);var u=i.map((function(e){return e.name}));u.shift();var d=function(e,t){var n=as_float(e[u]),r=as_float(t[u]);return n==r?0:n>r?1:-1};return e.grid.onSort.subscribe((function(t,n){n.sortAsc?1:-1,u=n.sortCol.field,e.dataView.sort(d,n.sortAsc)})),this}},gridUpdate=function(e,t,n){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.data,r=void 0===n?null:n,o=t.columns,i=void 0===o?null:o;null!==i&&(e.grid.setColumns(i),e.grid.render()),null===r&&0===(r=e.selections()).length&&(r=e.data),e.marked.length&&(r=union(r,e.marked));return e.dataView.beginUpdate(),e.dataView.setItems(r),e.dataView.sort((function(e,t){var n=as_float(e.id),r=as_float(t.id);return n==r?0:n>r?1:-1}),!0),e.dataView.endUpdate(),this}},sync=function(e,t,n){return function(){var r=[];if(t.linked.forEach((function(e){r.push(e.selected())})),0==union.apply(void 0,r).length)t.linked.forEach((function(e){e.brushReset()})),e.brushed=[],n.grid&&t.gridUpdate(e.data);else{var o=intersection$1.apply(void 0,r);t.linked.forEach((function(e){e.brushed(o).render()})),o.length<e.data.length?e.brushed=o:e.brushed=[],n.grid&&t.gridUpdate({data:o})}}},slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},linked=function(e,t,n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[].concat(toConsumableArray(Array(t.charts.length).keys()));return r=r.map(Number),t.linked=[],r.forEach((function(e,n){t.linked[n]=t.charts[e]})),t.linked.forEach((function(r){r.on("brush",sync(e,t,n))})),n.grid&&(e.grid.onMouseEnter.subscribe((function(n,r){var o=e.grid.getCellFromEvent(n).row,i=e.dataView.getItems()||e.data;t.linked.forEach((function(e){e.highlight([i[o]])}))})),e.grid.onMouseLeave.subscribe((function(e,n){t.linked.forEach((function(e){e.unhighlight()}))})),e.grid.onSelectedRowsChanged.subscribe((function(n,r){var o=e.grid.getSelectedRows(),i=e.dataView.getItems()||e.data;t.linked.forEach((function(e){e.unmark()})),o.forEach((function(e){t.linked.forEach((function(t){t.mark([i[e]])}))})),e.marked=t.linked[0].marked(),e.brushed.length&&t.gridUpdate()}))),this}};function squaredEuclidean(e,t){let n=0;for(let r=0;r<e.length;r++)n+=(e[r]-t[r])*(e[r]-t[r]);return n}const defaultOptions={distanceFunction:squaredEuclidean};function nearestVector(e,t,n=defaultOptions){const r=n.distanceFunction||defaultOptions.distanceFunction,o=n.similarityFunction||defaultOptions.similarityFunction;let i=-1;if("function"==typeof o){let n=Number.MIN_VALUE;for(let r=0;r<e.length;r++){const a=o(t,e[r]);a>n&&(n=a,i=r)}}else{if("function"!=typeof r)throw new Error("A similarity or distance function it's required");{let n=Number.MAX_VALUE;for(let o=0;o<e.length;o++){const a=r(t,e[o]);a<n&&(n=a,i=o)}}}return i}function calculateDistanceMatrix(e,t){for(var n=new Array(e.length),r=0;r<e.length;++r)for(var o=r;o<e.length;++o){n[r]||(n[r]=new Array(e.length)),n[o]||(n[o]=new Array(e.length));const i=t(e[r],e[o]);n[r][o]=i,n[o][r]=i}return n}function updateClusterID(e,t,n,r){for(var o=0;o<e.length;o++)n[o]=nearestVector(t,e[o],{distanceFunction:r});return n}function updateCenters(e,t,n,r){const o=t[0].length;for(var i=new Array(r),a=new Array(r),s=0;s<r;s++){i[s]=new Array(o),a[s]=0;for(var l=0;l<o;l++)i[s][l]=0}for(var c=0;c<t.length;c++){a[n[c]]++;for(var u=0;u<o;u++)i[n[c]][u]+=t[c][u]}for(var d=0;d<r;d++)for(var f=0;f<o;f++)a[d]?i[d][f]/=a[d]:i[d][f]=e[d][f];return i}function hasConverged(e,t,n,r){for(var o=0;o<e.length;o++)if(n(e[o],t[o])>r)return!1;return!0}const LOOP=8,FLOAT_MUL=1/16777216,sh1=15,sh2=18,sh3=11;function multiply_uint32(e,t){const n=65535&(e>>>=0);return((e-n)*(t>>>=0)>>>0)+n*t>>>0}class XSadd{constructor(e=Date.now()){this.state=new Uint32Array(4),this.init(e),this.random=this.getFloat.bind(this)}getUint32(){return this.nextState(),this.state[3]+this.state[2]>>>0}getFloat(){return(this.getUint32()>>>8)*FLOAT_MUL}init(e){if(!Number.isInteger(e))throw new TypeError("seed must be an integer");this.state[0]=e,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(let e=1;e<LOOP;e++)this.state[3&e]^=e+multiply_uint32(1812433253,this.state[e-1&3]^this.state[e-1&3]>>>30>>>0)>>>0;this.periodCertification();for(let e=0;e<LOOP;e++)this.nextState()}periodCertification(){0===this.state[0]&&0===this.state[1]&&0===this.state[2]&&0===this.state[3]&&(this.state[0]=88,this.state[1]=83,this.state[2]=65,this.state[3]=68)}nextState(){let e=this.state[0];e^=e<<sh1,e^=e>>>sh2,e^=this.state[3]<<sh3,this.state[0]=this.state[1],this.state[1]=this.state[2],this.state[2]=this.state[3],this.state[3]=e}}const PROB_TOLERANCE=1e-8;function randomChoice(e,t={},n=Math.random){const{size:r=1,replace:o=!1,probabilities:i}=t;let a,s;if(a="number"==typeof e?getArray(e):e.slice(),i){if(!o)throw new Error("choice with probabilities and no replacement is not implemented");if(i.length!==a.length)throw new Error("the length of probabilities option should be equal to the number of choices");s=[i[0]];for(let e=1;e<i.length;e++)s[e]=s[e-1]+i[e];if(Math.abs(1-s[s.length-1])>PROB_TOLERANCE)throw new Error(`probabilities should sum to 1, but instead sums to ${s[s.length-1]}`)}if(!1===o&&r>a.length)throw new Error("size option is too large");const l=[];for(let e=0;e<r;e++){const e=randomIndex(a.length,n,s);l.push(a[e]),o||a.splice(e,1)}return l}function getArray(e){const t=[];for(let n=0;n<e;n++)t.push(n);return t}function randomIndex(e,t,n){const r=t();if(n){let e=0;for(;r>n[e];)e++;return e}return Math.floor(r*e)}class Random{constructor(e=Math.random){if("number"==typeof e){const t=new XSadd(e);this.randomGenerator=t.random}else this.randomGenerator=e}choice(e,t){return randomChoice(e,t,this.randomGenerator)}random(){return this.randomGenerator()}randInt(e,t){return void 0===t&&(t=e,e=0),e+Math.floor(this.randomGenerator()*(t-e))}randomSample(e){const t=[];for(let n=0;n<e;n++)t.push(this.random());return t}}function max$4(e){if(!Array.isArray(e))throw new Error("input must be an array");if(0===e.length)throw new Error("input must not be empty");for(var t=e[0],n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return t}function min$3(e){if(!Array.isArray(e))throw new Error("input must be an array");if(0===e.length)throw new Error("input must not be empty");for(var t=e[0],n=1;n<e.length;n++)e[n]<t&&(t=e[n]);return t}function rescale(e,t={}){if(!Array.isArray(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");let n;if(void 0!==t.output){if(!Array.isArray(t.output))throw new TypeError("output option must be an array if specified");n=t.output}else n=new Array(e.length);const r=min$3(e),o=max$4(e);if(r===o)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");const{min:i=(t.autoMinMax?r:0),max:a=(t.autoMinMax?o:1)}=t;if(i>=a)throw new RangeError("min option must be smaller than max option");const s=(a-i)/(o-r);for(var l=0;l<e.length;l++)n[l]=(e[l]-r)*s+i;return n}class LuDecomposition$$1{constructor(e){var t,n,r,o,i,a,s,l,c,u=(e=WrapperMatrix2D.checkMatrix(e)).clone(),d=u.rows,f=u.columns,h=new Array(d),p=1;for(t=0;t<d;t++)h[t]=t;for(l=new Array(d),n=0;n<f;n++){for(t=0;t<d;t++)l[t]=u.get(t,n);for(t=0;t<d;t++){for(c=Math.min(t,n),i=0,r=0;r<c;r++)i+=u.get(t,r)*l[r];l[t]-=i,u.set(t,n,l[t])}for(o=n,t=n+1;t<d;t++)Math.abs(l[t])>Math.abs(l[o])&&(o=t);if(o!==n){for(r=0;r<f;r++)a=u.get(o,r),u.set(o,r,u.get(n,r)),u.set(n,r,a);s=h[o],h[o]=h[n],h[n]=s,p=-p}if(n<d&&0!==u.get(n,n))for(t=n+1;t<d;t++)u.set(t,n,u.get(t,n)/u.get(n,n))}this.LU=u,this.pivotVector=h,this.pivotSign=p}isSingular(){for(var e=this.LU,t=e.columns,n=0;n<t;n++)if(0===e[n][n])return!0;return!1}solve(e){e=Matrix$1.checkMatrix(e);var t=this.LU;if(t.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var n,r,o,i=e.columns,a=e.subMatrixRow(this.pivotVector,0,i-1),s=t.columns;for(o=0;o<s;o++)for(n=o+1;n<s;n++)for(r=0;r<i;r++)a[n][r]-=a[o][r]*t[n][o];for(o=s-1;o>=0;o--){for(r=0;r<i;r++)a[o][r]/=t[o][o];for(n=0;n<o;n++)for(r=0;r<i;r++)a[n][r]-=a[o][r]*t[n][o]}return a}get determinant(){var e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");for(var t=this.pivotSign,n=e.columns,r=0;r<n;r++)t*=e[r][r];return t}get lowerTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,r=new Matrix$1(t,n),o=0;o<t;o++)for(var i=0;i<n;i++)r[o][i]=o>i?e[o][i]:o===i?1:0;return r}get upperTriangularMatrix(){for(var e=this.LU,t=e.rows,n=e.columns,r=new Matrix$1(t,n),o=0;o<t;o++)for(var i=0;i<n;i++)r[o][i]=o<=i?e[o][i]:0;return r}get pivotPermutationVector(){return this.pivotVector.slice()}}function hypotenuse(e,t){var n=0;return Math.abs(e)>Math.abs(t)?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0!==t?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0}function getFilled2DArray(e,t,n){for(var r=new Array(e),o=0;o<e;o++){r[o]=new Array(t);for(var i=0;i<t;i++)r[o][i]=n}return r}class SingularValueDecomposition$$1{constructor(e,t={}){var n=(e=WrapperMatrix2D.checkMatrix(e)).rows,r=e.columns;const{computeLeftSingularVectors:o=!0,computeRightSingularVectors:i=!0,autoTranspose:a=!1}=t;var s,l=Boolean(o),c=Boolean(i),u=!1;if(n<r)if(a){n=(s=e.transpose()).rows,r=s.columns,u=!0;var d=l;l=c,c=d}else s=e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else s=e.clone();var f=Math.min(n,r),h=Math.min(n+1,r),p=new Array(h),g=getFilled2DArray(n,f,0),m=getFilled2DArray(r,r,0),v=new Array(r),y=new Array(n),b=new Array(h);for(let e=0;e<h;e++)b[e]=e;var w=Math.min(n-1,r),C=Math.max(0,Math.min(r-2,n)),x=Math.max(w,C);for(let e=0;e<x;e++){if(e<w){p[e]=0;for(let t=e;t<n;t++)p[e]=hypotenuse(p[e],s[t][e]);if(0!==p[e]){s[e][e]<0&&(p[e]=-p[e]);for(let t=e;t<n;t++)s[t][e]/=p[e];s[e][e]+=1}p[e]=-p[e]}for(let t=e+1;t<r;t++){if(e<w&&0!==p[e]){let r=0;for(let o=e;o<n;o++)r+=s[o][e]*s[o][t];r=-r/s[e][e];for(let o=e;o<n;o++)s[o][t]+=r*s[o][e]}v[t]=s[e][t]}if(l&&e<w)for(let t=e;t<n;t++)g[t][e]=s[t][e];if(e<C){v[e]=0;for(let t=e+1;t<r;t++)v[e]=hypotenuse(v[e],v[t]);if(0!==v[e]){v[e+1]<0&&(v[e]=0-v[e]);for(let t=e+1;t<r;t++)v[t]/=v[e];v[e+1]+=1}if(v[e]=-v[e],e+1<n&&0!==v[e]){for(let t=e+1;t<n;t++)y[t]=0;for(let t=e+1;t<n;t++)for(let n=e+1;n<r;n++)y[t]+=v[n]*s[t][n];for(let t=e+1;t<r;t++){let r=-v[t]/v[e+1];for(let o=e+1;o<n;o++)s[o][t]+=r*y[o]}}if(c)for(let t=e+1;t<r;t++)m[t][e]=v[t]}}let _=Math.min(r,n+1);if(w<r&&(p[w]=s[w][w]),n<_&&(p[_-1]=0),C+1<_&&(v[C]=s[C][_-1]),v[_-1]=0,l){for(let e=w;e<f;e++){for(let t=0;t<n;t++)g[t][e]=0;g[e][e]=1}for(let e=w-1;e>=0;e--)if(0!==p[e]){for(let t=e+1;t<f;t++){let r=0;for(let o=e;o<n;o++)r+=g[o][e]*g[o][t];r=-r/g[e][e];for(let o=e;o<n;o++)g[o][t]+=r*g[o][e]}for(let t=e;t<n;t++)g[t][e]=-g[t][e];g[e][e]=1+g[e][e];for(let t=0;t<e-1;t++)g[t][e]=0}else{for(let t=0;t<n;t++)g[t][e]=0;g[e][e]=1}}if(c)for(let e=r-1;e>=0;e--){if(e<C&&0!==v[e])for(let t=e+1;t<r;t++){let n=0;for(let o=e+1;o<r;o++)n+=m[o][e]*m[o][t];n=-n/m[e+1][e];for(let o=e+1;o<r;o++)m[o][t]+=n*m[o][e]}for(let t=0;t<r;t++)m[t][e]=0;m[e][e]=1}for(var R=_-1,$=Number.EPSILON;_>0;){let e,t;for(e=_-2;e>=-1&&-1!==e;e--){const t=Number.MIN_VALUE+$*Math.abs(p[e]+Math.abs(p[e+1]));if(Math.abs(v[e])<=t||Number.isNaN(v[e])){v[e]=0;break}}if(e===_-2)t=4;else{let n;for(n=_-1;n>=e&&n!==e;n--){let t=(n!==_?Math.abs(v[n]):0)+(n!==e+1?Math.abs(v[n-1]):0);if(Math.abs(p[n])<=$*t){p[n]=0;break}}n===e?t=3:n===_-1?t=1:(t=2,e=n)}switch(e++,t){case 1:{let t=v[_-2];v[_-2]=0;for(let n=_-2;n>=e;n--){let o=hypotenuse(p[n],t),i=p[n]/o,a=t/o;if(p[n]=o,n!==e&&(t=-a*v[n-1],v[n-1]=i*v[n-1]),c)for(let e=0;e<r;e++)o=i*m[e][n]+a*m[e][_-1],m[e][_-1]=-a*m[e][n]+i*m[e][_-1],m[e][n]=o}break}case 2:{let t=v[e-1];v[e-1]=0;for(let r=e;r<_;r++){let o=hypotenuse(p[r],t),i=p[r]/o,a=t/o;if(p[r]=o,t=-a*v[r],v[r]=i*v[r],l)for(let t=0;t<n;t++)o=i*g[t][r]+a*g[t][e-1],g[t][e-1]=-a*g[t][r]+i*g[t][e-1],g[t][r]=o}break}case 3:{const t=Math.max(Math.abs(p[_-1]),Math.abs(p[_-2]),Math.abs(v[_-2]),Math.abs(p[e]),Math.abs(v[e])),o=p[_-1]/t,i=p[_-2]/t,a=v[_-2]/t,s=p[e]/t,u=v[e]/t,d=((i+o)*(i-o)+a*a)/2,f=o*a*(o*a);let h=0;0===d&&0===f||(h=d<0?0-Math.sqrt(d*d+f):Math.sqrt(d*d+f),h=f/(d+h));let y=(s+o)*(s-o)+h,b=s*u;for(let t=e;t<_-1;t++){let o=hypotenuse(y,b);0===o&&(o=Number.MIN_VALUE);let i=y/o,a=b/o;if(t!==e&&(v[t-1]=o),y=i*p[t]+a*v[t],v[t]=i*v[t]-a*p[t],b=a*p[t+1],p[t+1]=i*p[t+1],c)for(let e=0;e<r;e++)o=i*m[e][t]+a*m[e][t+1],m[e][t+1]=-a*m[e][t]+i*m[e][t+1],m[e][t]=o;if(o=hypotenuse(y,b),0===o&&(o=Number.MIN_VALUE),i=y/o,a=b/o,p[t]=o,y=i*v[t]+a*p[t+1],p[t+1]=-a*v[t]+i*p[t+1],b=a*v[t+1],v[t+1]=i*v[t+1],l&&t<n-1)for(let e=0;e<n;e++)o=i*g[e][t]+a*g[e][t+1],g[e][t+1]=-a*g[e][t]+i*g[e][t+1],g[e][t]=o}v[_-2]=y;break}case 4:if(p[e]<=0&&(p[e]=p[e]<0?-p[e]:0,c))for(let t=0;t<=R;t++)m[t][e]=-m[t][e];for(;e<R&&!(p[e]>=p[e+1]);){let t=p[e];if(p[e]=p[e+1],p[e+1]=t,c&&e<r-1)for(let n=0;n<r;n++)t=m[n][e+1],m[n][e+1]=m[n][e],m[n][e]=t;if(l&&e<n-1)for(let r=0;r<n;r++)t=g[r][e+1],g[r][e+1]=g[r][e],g[r][e]=t;e++}_--}}if(u){var A=m;m=g,g=A}this.m=n,this.n=r,this.s=p,this.U=g,this.V=m}solve(e){var t=e,n=this.threshold,r=this.s.length,o=Matrix$1.zeros(r,r);for(let e=0;e<r;e++)Math.abs(this.s[e])<=n?o[e][e]=0:o[e][e]=1/this.s[e];var i=this.U,a=this.rightSingularVectors,s=a.mmul(o),l=a.rows,c=i.length,u=Matrix$1.zeros(l,c);for(let e=0;e<l;e++)for(let t=0;t<c;t++){let n=0;for(let o=0;o<r;o++)n+=s[e][o]*i[t][o];u[e][t]=n}return u.mmul(t)}solveForDiagonal(e){return this.solve(Matrix$1.diag(e))}inverse(){var e=this.V,t=this.threshold,n=e.length,r=e[0].length,o=new Matrix$1(n,this.s.length);for(let i=0;i<n;i++)for(let n=0;n<r;n++)Math.abs(this.s[n])>t?o[i][n]=e[i][n]/this.s[n]:o[i][n]=0;var i=this.U,a=i.length,s=i[0].length,l=new Matrix$1(n,a);for(let e=0;e<n;e++)for(let t=0;t<a;t++){let n=0;for(let r=0;r<s;r++)n+=o[e][r]*i[t][r];l[e][t]=n}return l}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){for(var e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,t=0,n=this.s,r=0,o=n.length;r<o;r++)n[r]>e&&t++;return t}get diagonal(){return this.s}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return Matrix$1.isMatrix(this.U)||(this.U=new Matrix$1(this.U)),this.U}get rightSingularVectors(){return Matrix$1.isMatrix(this.V)||(this.V=new Matrix$1(this.V)),this.V}get diagonalMatrix(){return Matrix$1.diag(this.s)}}function checkRowIndex(e,t,n){var r=n?e.rows:e.rows-1;if(t<0||t>r)throw new RangeError("Row index out of range")}function checkColumnIndex(e,t,n){var r=n?e.columns:e.columns-1;if(t<0||t>r)throw new RangeError("Column index out of range")}function checkRowVector(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function checkColumnVector(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function checkIndices(e,t,n){return{row:checkRowIndices(e,t),column:checkColumnIndices(e,n)}}function checkRowIndices(e,t){if("object"!=typeof t)throw new TypeError("unexpected type for row indices");if(t.some((t=>t<0||t>=e.rows)))throw new RangeError("row indices are out of range");return Array.isArray(t)||(t=Array.from(t)),t}function checkColumnIndices(e,t){if("object"!=typeof t)throw new TypeError("unexpected type for column indices");var n=t.some((t=>t<0||t>=e.columns));if(n)throw new RangeError("column indices are out of range");return Array.isArray(t)||(t=Array.from(t)),t}function checkRange(e,t,n,r,o){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(checkNumber("startRow",t),checkNumber("endRow",n),checkNumber("startColumn",r),checkNumber("endColumn",o),t>n||r>o||t<0||t>=e.rows||n<0||n>=e.rows||r<0||r>=e.columns||o<0||o>=e.columns)throw new RangeError("Submatrix indices are out of range")}function sumByRow(e){for(var t=Matrix$1.zeros(e.rows,1),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t.set(n,0,t.get(n,0)+e.get(n,r));return t}function sumByColumn(e){for(var t=Matrix$1.zeros(1,e.columns),n=0;n<e.rows;++n)for(var r=0;r<e.columns;++r)t.set(0,r,t.get(0,r)+e.get(n,r));return t}function sumAll(e){for(var t=0,n=0;n<e.rows;n++)for(var r=0;r<e.columns;r++)t+=e.get(n,r);return t}function checkNumber(e,t){if("number"!=typeof t)throw new TypeError(`${e} must be a number`)}class BaseView extends(AbstractMatrix()){constructor(e,t,n){super(),this.matrix=e,this.rows=t,this.columns=n}static get[Symbol.species](){return Matrix$1}}class MatrixTransposeView extends BaseView{constructor(e){super(e,e.columns,e.rows)}set(e,t,n){return this.matrix.set(t,e,n),this}get(e,t){return this.matrix.get(t,e)}}class MatrixRowView extends BaseView{constructor(e,t){super(e,1,e.columns),this.row=t}set(e,t,n){return this.matrix.set(this.row,t,n),this}get(e,t){return this.matrix.get(this.row,t)}}class MatrixSubView extends BaseView{constructor(e,t,n,r,o){checkRange(e,t,n,r,o),super(e,n-t+1,o-r+1),this.startRow=t,this.startColumn=r}set(e,t,n){return this.matrix.set(this.startRow+e,this.startColumn+t,n),this}get(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}}class MatrixSelectionView extends BaseView{constructor(e,t,n){var r=checkIndices(e,t,n);super(e,r.row.length,r.column.length),this.rowIndices=r.row,this.columnIndices=r.column}set(e,t,n){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],n),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}class MatrixRowSelectionView extends BaseView{constructor(e,t){super(e,(t=checkRowIndices(e,t)).length,e.columns),this.rowIndices=t}set(e,t,n){return this.matrix.set(this.rowIndices[e],t,n),this}get(e,t){return this.matrix.get(this.rowIndices[e],t)}}class MatrixColumnSelectionView extends BaseView{constructor(e,t){t=checkColumnIndices(e,t),super(e,e.rows,t.length),this.columnIndices=t}set(e,t,n){return this.matrix.set(e,this.columnIndices[t],n),this}get(e,t){return this.matrix.get(e,this.columnIndices[t])}}class MatrixColumnView extends BaseView{constructor(e,t){super(e,e.rows,1),this.column=t}set(e,t,n){return this.matrix.set(e,this.column,n),this}get(e){return this.matrix.get(e,this.column)}}class MatrixFlipRowView extends BaseView{constructor(e){super(e,e.rows,e.columns)}set(e,t,n){return this.matrix.set(this.rows-e-1,t,n),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}}class MatrixFlipColumnView extends BaseView{constructor(e){super(e,e.rows,e.columns)}set(e,t,n){return this.matrix.set(e,this.columns-t-1,n),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}}function AbstractMatrix(e){void 0===e&&(e=Object);class t extends e{static get[Symbol.species](){return this}static from1DArray(e,t,n){if(e*t!==n.length)throw new RangeError("Data length does not match given dimensions");for(var r=new this(e,t),o=0;o<e;o++)for(var i=0;i<t;i++)r.set(o,i,n[o*t+i]);return r}static rowVector(e){for(var t=new this(1,e.length),n=0;n<e.length;n++)t.set(0,n,e[n]);return t}static columnVector(e){for(var t=new this(e.length,1),n=0;n<e.length;n++)t.set(n,0,e[n]);return t}static empty(e,t){return new this(e,t)}static zeros(e,t){return this.empty(e,t).fill(0)}static ones(e,t){return this.empty(e,t).fill(1)}static rand(e,t,n){void 0===n&&(n=Math.random);for(var r=this.empty(e,t),o=0;o<e;o++)for(var i=0;i<t;i++)r.set(o,i,n());return r}static randInt(e,t,n,r){void 0===n&&(n=1e3),void 0===r&&(r=Math.random);for(var o=this.empty(e,t),i=0;i<e;i++)for(var a=0;a<t;a++){var s=Math.floor(r()*n);o.set(i,a,s)}return o}static eye(e,t,n){void 0===t&&(t=e),void 0===n&&(n=1);for(var r=Math.min(e,t),o=this.zeros(e,t),i=0;i<r;i++)o.set(i,i,n);return o}static diag(e,t,n){var r=e.length;void 0===t&&(t=r),void 0===n&&(n=t);for(var o=Math.min(r,t,n),i=this.zeros(t,n),a=0;a<o;a++)i.set(a,a,e[a]);return i}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,o=new this(n,r),i=0;i<n;i++)for(var a=0;a<r;a++)o.set(i,a,Math.min(e.get(i,a),t.get(i,a)));return o}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var n=e.rows,r=e.columns,o=new this(n,r),i=0;i<n;i++)for(var a=0;a<r;a++)o.set(i,a,Math.max(e.get(i,a),t.get(i,a)));return o}static checkMatrix(e){return t.isMatrix(e)?e:new this(e)}static isMatrix(e){return null!=e&&"Matrix"===e.klass}get size(){return this.rows*this.columns}apply(e){if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=this.rows,n=this.columns,r=0;r<t;r++)for(var o=0;o<n;o++)e.call(this,r,o);return this}to1DArray(){for(var e=new Array(this.size),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e[t*this.columns+n]=this.get(t,n);return e}to2DArray(){for(var e=new Array(this.rows),t=0;t<this.rows;t++){e[t]=new Array(this.columns);for(var n=0;n<this.columns;n++)e[t][n]=this.get(t,n)}return e}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}set(e,t,n){throw new Error("set method is unimplemented")}get(e,t){throw new Error("get method is unimplemented")}repeat(e,t){e=e||1,t=t||1;for(var n=new this.constructor[Symbol.species](this.rows*e,this.columns*t),r=0;r<e;r++)for(var o=0;o<t;o++)n.setSubMatrix(this,this.rows*r,this.columns*o);return n}fill(e){for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,e);return this}neg(){return this.mulS(-1)}getRow(e){checkRowIndex(this,e);for(var t=new Array(this.columns),n=0;n<this.columns;n++)t[n]=this.get(e,n);return t}getRowVector(e){return this.constructor.rowVector(this.getRow(e))}setRow(e,t){checkRowIndex(this,e),t=checkRowVector(this,t);for(var n=0;n<this.columns;n++)this.set(e,n,t[n]);return this}swapRows(e,t){checkRowIndex(this,e),checkRowIndex(this,t);for(var n=0;n<this.columns;n++){var r=this.get(e,n);this.set(e,n,this.get(t,n)),this.set(t,n,r)}return this}getColumn(e){checkColumnIndex(this,e);for(var t=new Array(this.rows),n=0;n<this.rows;n++)t[n]=this.get(n,e);return t}getColumnVector(e){return this.constructor.columnVector(this.getColumn(e))}setColumn(e,t){checkColumnIndex(this,e),t=checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this.set(n,e,t[n]);return this}swapColumns(e,t){checkColumnIndex(this,e),checkColumnIndex(this,t);for(var n=0;n<this.rows;n++){var r=this.get(n,e);this.set(n,e,this.get(n,t)),this.set(n,t,r)}return this}addRowVector(e){e=checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[n]);return this}subRowVector(e){e=checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[n]);return this}mulRowVector(e){e=checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[n]);return this}divRowVector(e){e=checkRowVector(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[n]);return this}addColumnVector(e){e=checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)+e[t]);return this}subColumnVector(e){e=checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)-e[t]);return this}mulColumnVector(e){e=checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e[t]);return this}divColumnVector(e){e=checkColumnVector(this,e);for(var t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)/e[t]);return this}mulRow(e,t){checkRowIndex(this,e);for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this}mulColumn(e,t){checkColumnIndex(this,e);for(var n=0;n<this.rows;n++)this.set(n,e,this.get(n,e)*t);return this}max(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}maxIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)>e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}min(){for(var e=this.get(0,0),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}minIndex(){for(var e=this.get(0,0),t=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)<e&&(e=this.get(n,r),t[0]=n,t[1]=r);return t}maxRow(e){checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}maxRowIndex(e){checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r),n[1]=r);return n}minRow(e){checkRowIndex(this,e);for(var t=this.get(e,0),n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}minRowIndex(e){checkRowIndex(this,e);for(var t=this.get(e,0),n=[e,0],r=1;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r),n[1]=r);return n}maxColumn(e){checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e));return t}maxColumnIndex(e){checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)>t&&(t=this.get(r,e),n[0]=r);return n}minColumn(e){checkColumnIndex(this,e);for(var t=this.get(0,e),n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e));return t}minColumnIndex(e){checkColumnIndex(this,e);for(var t=this.get(0,e),n=[0,e],r=1;r<this.rows;r++)this.get(r,e)<t&&(t=this.get(r,e),n[0]=r);return n}diag(){for(var e=Math.min(this.rows,this.columns),t=new Array(e),n=0;n<e;n++)t[n]=this.get(n,n);return t}sum(e){switch(e){case"row":return sumByRow(this);case"column":return sumByColumn(this);default:return sumAll(this)}}mean(){return this.sum()/this.size}prod(){for(var e=1,t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e*=this.get(t,n);return e}norm(e="frobenius"){var t=0;if("max"===e)return this.max();if("frobenius"===e){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)t+=this.get(n,r)*this.get(n,r);return Math.sqrt(t)}throw new RangeError(`unknown norm type: ${e}`)}cumulativeSum(){for(var e=0,t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e+=this.get(t,n),this.set(t,n,e);return this}dot(e){t.isMatrix(e)&&(e=e.to1DArray());var n=this.to1DArray();if(n.length!==e.length)throw new RangeError("vectors do not have the same size");for(var r=0,o=0;o<n.length;o++)r+=n[o]*e[o];return r}mmul(e){e=this.constructor.checkMatrix(e),this.columns!==e.rows&&console.warn("Number of columns of left matrix are not equal to number of rows of right matrix.");for(var t=this.rows,n=this.columns,r=e.columns,o=new this.constructor[Symbol.species](t,r),i=new Array(n),a=0;a<r;a++){for(var s=0;s<n;s++)i[s]=e.get(s,a);for(var l=0;l<t;l++){var c=0;for(s=0;s<n;s++)c+=this.get(l,s)*i[s];o.set(l,a,c)}}return o}strassen2x2(e){var t=new this.constructor[Symbol.species](2,2);const n=this.get(0,0),r=e.get(0,0),o=this.get(0,1),i=e.get(0,1),a=this.get(1,0),s=e.get(1,0),l=this.get(1,1),c=e.get(1,1),u=(n+l)*(r+c),d=(a+l)*r,f=n*(i-c),h=l*(s-r),p=(n+o)*c,g=u+h-p+(o-l)*(s+c),m=f+p,v=d+h,y=u-d+f+(a-n)*(r+i);return t.set(0,0,g),t.set(0,1,m),t.set(1,0,v),t.set(1,1,y),t}strassen3x3(e){var t=new this.constructor[Symbol.species](3,3);const n=this.get(0,0),r=this.get(0,1),o=this.get(0,2),i=this.get(1,0),a=this.get(1,1),s=this.get(1,2),l=this.get(2,0),c=this.get(2,1),u=this.get(2,2),d=e.get(0,0),f=e.get(0,1),h=e.get(0,2),p=e.get(1,0),g=e.get(1,1),m=e.get(1,2),v=e.get(2,0),y=e.get(2,1),b=e.get(2,2),w=(n-i)*(-f+g),C=(-n+i+a)*(d-f+g),x=(i+a)*(-d+f),_=n*d,R=(-n+l+c)*(d-h+m),$=(-n+l)*(h-m),A=(l+c)*(-d+h),S=(-o+c+u)*(g+v-y),E=(o-u)*(g-y),T=o*v,k=(c+u)*(-v+y),M=(-o+a+s)*(m+v-b),P=(o-s)*(m-b),L=(a+s)*(-v+b),D=_+T+r*p,I=(n+r+o-i-a-c-u)*g+C+x+_+S+T+k,N=_+R+A+(n+r+o-a-s-l-c)*m+T+M+L,F=w+a*(-d+f+p-g-m-v+b)+C+_+T+M+P,O=w+C+x+_+s*y,j=T+M+P+L+i*h,z=_+R+$+c*(-d+h+p-g-m-v+y)+S+E+T,W=S+E+T+k+l*f,H=_+R+$+A+u*b;return t.set(0,0,D),t.set(0,1,I),t.set(0,2,N),t.set(1,0,F),t.set(1,1,O),t.set(1,2,j),t.set(2,0,z),t.set(2,1,W),t.set(2,2,H),t}mmulStrassen(e){var n=this.clone(),r=n.rows,o=n.columns,i=e.rows,a=e.columns;function s(e,n,r){var o=e.rows,i=e.columns;if(o===n&&i===r)return e;var a=t.zeros(n,r);return a=a.setSubMatrix(e,0,0)}o!==i&&console.warn(`Multiplying ${r} x ${o} and ${i} x ${a} matrix: dimensions do not match.`);var l=Math.max(r,i),c=Math.max(o,a);return function e(n,r,o,i){if(o<=512||i<=512)return n.mmul(r);o%2==1&&i%2==1?(n=s(n,o+1,i+1),r=s(r,o+1,i+1)):o%2==1?(n=s(n,o+1,i),r=s(r,o+1,i)):i%2==1&&(n=s(n,o,i+1),r=s(r,o,i+1));var a=parseInt(n.rows/2,10),l=parseInt(n.columns/2,10),c=n.subMatrix(0,a-1,0,l-1),u=r.subMatrix(0,a-1,0,l-1),d=n.subMatrix(0,a-1,l,n.columns-1),f=r.subMatrix(0,a-1,l,r.columns-1),h=n.subMatrix(a,n.rows-1,0,l-1),p=r.subMatrix(a,r.rows-1,0,l-1),g=n.subMatrix(a,n.rows-1,l,n.columns-1),m=r.subMatrix(a,r.rows-1,l,r.columns-1),v=e(t.add(c,g),t.add(u,m),a,l),y=e(t.add(h,g),u,a,l),b=e(c,t.sub(f,m),a,l),w=e(g,t.sub(p,u),a,l),C=e(t.add(c,d),m,a,l),x=e(t.sub(h,c),t.add(u,f),a,l),_=e(t.sub(d,g),t.add(p,m),a,l),R=t.add(v,w);R.sub(C),R.add(_);var $=t.add(b,C),A=t.add(y,w),S=t.sub(v,y);S.add(b),S.add(x);var E=t.zeros(2*R.rows,2*R.columns);return(E=(E=(E=(E=E.setSubMatrix(R,0,0)).setSubMatrix($,R.rows,0)).setSubMatrix(A,0,R.columns)).setSubMatrix(S,R.rows,R.columns)).subMatrix(0,o-1,0,i-1)}(n=s(n,l,c),e=s(e,l,c),l,c)}scaleRows(e,t){if((e=void 0===e?0:e)>=(t=void 0===t?1:t))throw new RangeError("min should be strictly smaller than max");for(var n=this.constructor.empty(this.rows,this.columns),r=0;r<this.rows;r++){var o=rescale(this.getRow(r),{min:e,max:t});n.setRow(r,o)}return n}scaleColumns(e,t){if((e=void 0===e?0:e)>=(t=void 0===t?1:t))throw new RangeError("min should be strictly smaller than max");for(var n=this.constructor.empty(this.rows,this.columns),r=0;r<this.columns;r++){var o=rescale(this.getColumn(r),{min:e,max:t});n.setColumn(r,o)}return n}kroneckerProduct(e){e=this.constructor.checkMatrix(e);for(var t=this.rows,n=this.columns,r=e.rows,o=e.columns,i=new this.constructor[Symbol.species](t*r,n*o),a=0;a<t;a++)for(var s=0;s<n;s++)for(var l=0;l<r;l++)for(var c=0;c<o;c++)i[r*a+l][o*s+c]=this.get(a,s)*e.get(l,c);return i}transpose(){for(var e=new this.constructor[Symbol.species](this.columns,this.rows),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(n,t,this.get(t,n));return e}sortRows(e){void 0===e&&(e=n);for(var t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e){void 0===e&&(e=n);for(var t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,n,r){checkRange(this,e,t,n,r);for(var o=new this.constructor[Symbol.species](t-e+1,r-n+1),i=e;i<=t;i++)for(var a=n;a<=r;a++)o[i-e][a-n]=this.get(i,a);return o}subMatrixRow(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.columns-1),t>n||t<0||t>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var r=new this.constructor[Symbol.species](e.length,n-t+1),o=0;o<e.length;o++)for(var i=t;i<=n;i++){if(e[o]<0||e[o]>=this.rows)throw new RangeError(`Row index out of range: ${e[o]}`);r.set(o,i-t,this.get(e[o],i))}return r}subMatrixColumn(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=this.rows-1),t>n||t<0||t>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var r=new this.constructor[Symbol.species](n-t+1,e.length),o=0;o<e.length;o++)for(var i=t;i<=n;i++){if(e[o]<0||e[o]>=this.columns)throw new RangeError(`Column index out of range: ${e[o]}`);r.set(i-t,o,this.get(i,e[o]))}return r}setSubMatrix(e,t,n){checkRange(this,t,t+(e=this.constructor.checkMatrix(e)).rows-1,n,n+e.columns-1);for(var r=0;r<e.rows;r++)for(var o=0;o<e.columns;o++)this[t+r][n+o]=e.get(r,o);return this}selection(e,t){for(var n=checkIndices(this,e,t),r=new this.constructor[Symbol.species](e.length,t.length),o=0;o<n.row.length;o++)for(var i=n.row[o],a=0;a<n.column.length;a++){var s=n.column[a];r[o][a]=this.get(i,s)}return r}trace(){for(var e=Math.min(this.rows,this.columns),t=0,n=0;n<e;n++)t+=this.get(n,n);return t}transposeView(){return new MatrixTransposeView(this)}rowView(e){return checkRowIndex(this,e),new MatrixRowView(this,e)}columnView(e){return checkColumnIndex(this,e),new MatrixColumnView(this,e)}flipRowView(){return new MatrixFlipRowView(this)}flipColumnView(){return new MatrixFlipColumnView(this)}subMatrixView(e,t,n,r){return new MatrixSubView(this,e,t,n,r)}selectionView(e,t){return new MatrixSelectionView(this,e,t)}rowSelectionView(e){return new MatrixRowSelectionView(this,e)}columnSelectionView(e){return new MatrixColumnSelectionView(this,e)}det(){var e,t,n,r,o,i;if(this.isSquare())return 2===this.columns?(e=this.get(0,0),t=this.get(0,1),n=this.get(1,0),e*this.get(1,1)-t*n):3===this.columns?(r=this.selectionView([1,2],[1,2]),o=this.selectionView([1,2],[0,2]),i=this.selectionView([1,2],[0,1]),e=this.get(0,0),t=this.get(0,1),n=this.get(0,2),e*r.det()-t*o.det()+n*i.det()):new LuDecomposition$$1(this).determinant;throw Error("Determinant can only be calculated for a square matrix.")}pseudoInverse(e){void 0===e&&(e=Number.EPSILON);for(var t=new SingularValueDecomposition$$1(this,{autoTranspose:!0}),n=t.leftSingularVectors,r=t.rightSingularVectors,o=t.diagonal,i=0;i<o.length;i++)Math.abs(o[i])>e?o[i]=1/o[i]:o[i]=0;return o=this.constructor[Symbol.species].diag(o),r.mmul(o.mmul(n.transposeView()))}clone(){for(var e=new this.constructor[Symbol.species](this.rows,this.columns),t=0;t<this.rows;t++)for(var n=0;n<this.columns;n++)e.set(t,n,this.get(t,n));return e}}function n(e,t){return e-t}t.prototype.klass="Matrix",t.random=t.rand,t.diagonal=t.diag,t.prototype.diagonal=t.prototype.diag,t.identity=t.eye,t.prototype.negate=t.prototype.neg,t.prototype.tensorProduct=t.prototype.kroneckerProduct,t.prototype.determinant=t.prototype.det;var r,o="\n(function %name%(matrix, %args%) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%(%args%);\n})\n",i=o,a=eval;for(var s of[["+","add"],["-","sub","subtract"],["*","mul","multiply"],["/","div","divide"],["%","mod","modulus"],["&","and"],["|","or"],["^","xor"],["<<","leftShift"],[">>","signPropagatingRightShift"],[">>>","rightShift","zeroFillRightShift"]]){var l=a($("\n(function %name%(value) {\n    if (typeof value === 'number') return this.%name%S(value);\n    return this.%name%M(value);\n})\n",{name:s[1],op:s[0]})),c=a($("\n(function %name%S(value) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, this.get(i, j) %op% value);\n        }\n    }\n    return this;\n})\n",{name:`${s[1]}S`,op:s[0]})),u=a($("\n(function %name%M(matrix) {\n    matrix = this.constructor.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n        this.columns !== matrix.columns) {\n        throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));\n        }\n    }\n    return this;\n})\n",{name:`${s[1]}M`,op:s[0]})),d=a($("\n(function %name%(matrix, value) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%(value);\n})\n",{name:s[1]}));for(r=1;r<s.length;r++)t.prototype[s[r]]=l,t.prototype[`${s[r]}S`]=c,t.prototype[`${s[r]}M`]=u,t[s[r]]=d}var f=[["~","not"]];for(var h of(["abs","acos","acosh","asin","asinh","atan","atanh","cbrt","ceil","clz32","cos","cosh","exp","expm1","floor","fround","log","log1p","log10","log2","round","sign","sin","sinh","sqrt","tan","tanh","trunc"].forEach((function(e){f.push([`Math.${e}`,e])})),f)){var p=a($("\n(function %name%() {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j)));\n        }\n    }\n    return this;\n})\n",{name:h[1],method:h[0]})),g=a($("\n(function %name%(matrix) {\n    var newMatrix = new this[Symbol.species](matrix);\n    return newMatrix.%name%();\n})\n",{name:h[1]}));for(r=1;r<h.length;r++)t.prototype[h[r]]=p,t[h[r]]=g}for(var m of[["Math.pow",1,"pow"]]){var v="arg0";for(r=1;r<m[1];r++)v+=`, arg${r}`;if(1!==m[1]){var y=a($("\n(function %name%(%args%) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), %args%));\n        }\n    }\n    return this;\n})\n",{name:m[2],method:m[0],args:v})),b=a($(o,{name:m[2],args:v}));for(r=2;r<m.length;r++)t.prototype[m[r]]=y,t[m[r]]=b}else{var w={name:m[2],args:v,method:m[0]},C=a($("\n(function %name%(value) {\n    if (typeof value === 'number') return this.%name%S(value);\n    return this.%name%M(value);\n})\n",w)),x=a($("\n(function %name%S(value) {\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), value));\n        }\n    }\n    return this;\n})\n",w)),_=a($("\n(function %name%M(matrix) {\n    matrix = this.constructor.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n        this.columns !== matrix.columns) {\n        throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (var i = 0; i < this.rows; i++) {\n        for (var j = 0; j < this.columns; j++) {\n            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));\n        }\n    }\n    return this;\n})\n",w)),R=a($(i,w));for(r=2;r<m.length;r++)t.prototype[m[r]]=C,t.prototype[`${m[r]}M`]=_,t.prototype[`${m[r]}S`]=x,t[m[r]]=R}}function $(e,t){for(var n in t)e=e.replace(new RegExp(`%${n}%`,"g"),t[n]);return e}return t}class Matrix$1 extends(AbstractMatrix(Array)){constructor(e,t){var n;if(1===arguments.length&&"number"==typeof e)return new Array(e);if(Matrix$1.isMatrix(e))return e.clone();if(Number.isInteger(e)&&e>0){if(super(e),!(Number.isInteger(t)&&t>0))throw new TypeError("nColumns must be a positive integer");for(n=0;n<e;n++)this[n]=new Array(t)}else{if(!Array.isArray(e))throw new TypeError("First argument must be a positive number or an array");{const r=e;if(e=r.length,"number"!=typeof(t=r[0].length)||0===t)throw new TypeError("Data must be a 2D array with at least one element");for(super(e),n=0;n<e;n++){if(r[n].length!==t)throw new RangeError("Inconsistent array dimensions");this[n]=[].concat(r[n])}}}return this.rows=e,this.columns=t,this}set(e,t,n){return this[e][t]=n,this}get(e,t){return this[e][t]}removeRow(e){if(checkRowIndex(this,e),1===this.rows)throw new RangeError("A matrix cannot have less than one row");return this.splice(e,1),this.rows-=1,this}addRow(e,t){return void 0===t&&(t=e,e=this.rows),checkRowIndex(this,e,!0),t=checkRowVector(this,t,!0),this.splice(e,0,t),this.rows+=1,this}removeColumn(e){if(checkColumnIndex(this,e),1===this.columns)throw new RangeError("A matrix cannot have less than one column");for(var t=0;t<this.rows;t++)this[t].splice(e,1);return this.columns-=1,this}addColumn(e,t){void 0===t&&(t=e,e=this.columns),checkColumnIndex(this,e,!0),t=checkColumnVector(this,t);for(var n=0;n<this.rows;n++)this[n].splice(e,0,t[n]);return this.columns+=1,this}}class WrapperMatrix1D extends(AbstractMatrix()){constructor(e,t={}){const{rows:n=1}=t;if(e.length%n!=0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=n,this.columns=e.length/n,this.data=e}set(e,t,n){var r=this._calculateIndex(e,t);return this.data[r]=n,this}get(e,t){var n=this._calculateIndex(e,t);return this.data[n]}_calculateIndex(e,t){return e*this.columns+t}static get[Symbol.species](){return Matrix$1}}class WrapperMatrix2D extends(AbstractMatrix()){constructor(e){super(),this.data=e,this.rows=e.length,this.columns=e[0].length}set(e,t,n){return this.data[e][t]=n,this}get(e,t){return this.data[e][t]}static get[Symbol.species](){return Matrix$1}}function random$1(e,t,n){return new Random(n).choice(e,{size:t})}function mostDistant(e,t,n,r){const o=new Random(r);var i=new Array(t);if(i[0]=Math.floor(o.random()*e.length),t>1){for(var a={dist:-1,index:-1},s=0;s<e.length;++s)n[i[0]][s]>a.dist&&(a.dist=n[i[0]][s],a.index=s);if(i[1]=a.index,t>2)for(var l=2;l<t;++l){for(var c={dist:-1,index:-1},u=0;u<e.length;++u){for(var d={dist:Number.MAX_VALUE,index:-1},f=0;f<l;++f)n[f][u]<d.dist&&-1===i.indexOf(u)&&(d={dist:n[f][u],index:u});d.dist!==Number.MAX_VALUE&&d.dist>c.dist&&(c=Object.assign({},d))}i[l]=c.index}}return i.map((t=>e[t]))}function kmeanspp(e,t,n={}){const r=(e=new Matrix$1(e)).length,o=new Random(n.seed),i=[],a=n.localTrials||2+Math.floor(Math.log(t)),s=o.randInt(r);i.push(e[s].slice());let l=[e.map((e=>squaredEuclidean(e,i[0])))],c=[cumSum(l[0])];const u=1/c[0][r-1];let d=Matrix$1.mul(l,u);for(let n=1;n<t;n++){const t=o.choice(r,{replace:!0,size:a,probabilities:d[0]}),s=euclidianDistances(e.selection(t,range$2(e[0].length)),e);let u,f,h;for(let e=0;e<a;e++){const n=Matrix$1.min(l,[s[e]]),r=n.sum();(void 0===u||r<f)&&(u=t[e],f=r,h=n)}i[n]=e[u].slice(),l=h,c=[cumSum(l[0])],d=Matrix$1.mul(l,1/c[0][r-1])}return i}function euclidianDistances(e,t){const n=new Matrix$1(e.length,t.length);for(let r=0;r<e.length;r++)for(let o=0;o<t.length;o++)n.set(r,o,squaredEuclidean(e.getRow(r),t.getRow(o)));return n}function range$2(e){let t=[];for(let n=0;n<e;n++)t.push(n);return t}function cumSum(e){let t=[e[0]];for(let n=1;n<e.length;n++)t[n]=t[n-1]+e[n];return t}const distanceSymbol=Symbol("distance");class KMeansResult{constructor(e,t,n,r,o){this.clusters=e,this.centroids=t,this.converged=n,this.iterations=r,this[distanceSymbol]=o}nearest(e){const t=new Array(e.length);return updateClusterID(e,this.centroids.map((function(e){return e.centroid})),t,this[distanceSymbol])}computeInformation(e){for(var t=this.centroids.map((function(e){return{centroid:e,error:0,size:0}})),n=0;n<e.length;n++)t[this.clusters[n]].error+=this[distanceSymbol](e[n],this.centroids[this.clusters[n]]),t[this.clusters[n]].size++;for(var r=0;r<this.centroids.length;r++)t[r].size?t[r].error/=t[r].size:t[r].error=null;return new KMeansResult(this.clusters,t,this.converged,this.iterations,this[distanceSymbol])}}const defaultOptions$1={maxIterations:100,tolerance:1e-6,withIterations:!1,initialization:"kmeans++",distanceFunction:squaredEuclidean};function step$1(e,t,n,r,o,i){var a=updateCenters(e,t,n=updateClusterID(t,e,n,o.distanceFunction),r),s=hasConverged(a,e,o.distanceFunction,o.tolerance);return new KMeansResult(n,a,s,i,o.distanceFunction)}function*kmeansGenerator(e,t,n,r,o){for(var i,a=!1,s=0;!a&&s<o.maxIterations;)i=step$1(e,t,n,r,o,++s),yield i.computeInformation(t),a=i.converged,e=i.centroids}function kmeans(e,t,n){if(n=Object.assign({},defaultOptions$1,n),t<=0||t>e.length||!Number.isInteger(t))throw new Error("K should be a positive integer smaller than the number of points");var r;if(Array.isArray(n.initialization)){if(n.initialization.length!==t)throw new Error("The initial centers should have the same length as K");r=n.initialization}else switch(n.initialization){case"kmeans++":r=kmeanspp(e,t,n);break;case"random":r=random$1(e,t,n.seed);break;case"mostDistant":r=mostDistant(e,t,calculateDistanceMatrix(e,n.distanceFunction),n.seed);break;default:throw new Error(`Unknown initialization method: "${n.initialization}"`)}0===n.maxIterations&&(n.maxIterations=Number.MAX_VALUE);var o=new Array(e.length);if(n.withIterations)return kmeansGenerator(r,e,o,t,n);for(var i,a=!1,s=0;!a&&s<n.maxIterations;)a=(i=step$1(r,e,o,t,n,++s)).converged,r=i.centroids;return i.computeInformation(e)}var array_to_object=function(e){return e.reduce((function(e,t){return Object.keys(t).forEach((function(n){e[n]=(e[n]||[]).concat(Number(t[n]))})),e}),{})},object_to_array=function(e,t){var n=[];return Object.entries(e).forEach((function(e){var r=slicedToArray(e,2),o=r[0];r[1].forEach((function(e,r){n[r]=n[r]||{},isNaN(e)?n[r][o]=t[r][o]:n[r][o]=e.toString()}))})),n},arr={max:function(e){return Math.max.apply(null,e)},min:function(e){return Math.min.apply(null,e)},range:function(e){return arr.max(e)-arr.min(e)},extents:function(e){return[arr.min(e),arr.max(e)]},sum:function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n];return t},mean:function(e){return arr.sum(e)/e.length},variance:function(e){var t=arr.mean(e);return arr.mean(e.map((function(e){return Math.pow(e-t,2)})))},standardDeviation:function(e){return Math.sqrt(arr.variance(e))},zScores:function(e){var t=arr.mean(e),n=arr.standardDeviation(e);return e.map((function(e){return(e-t)/n}))},norms:function(e){var t=arr.extents(e);return e.map((function(e){return(e-t[0])/(t[1]-t[0])}))}},standardize=function(e){var t=array_to_object(e);return Object.keys(t).forEach((function(e){t[e]=arr.zScores(t[e])})),object_to_array(t,e)},format_data=function(e){return csvParse(csvFormat(e))},add_column=function(e,t){if(includes(e.map((function(e){return e.name})),t))return e;var n={id:t,name:t,field:t,sortable:!0};return e.push(n),e},cluster$1=function(e,t,n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.k,i=void 0===o?3:o,a=r.vars,s=void 0===a?e.vars:a,l=r.displayIDs,c=void 0===l?[].concat(toConsumableArray(Array(t.charts.length).keys())):l,u=r.palette,d=void 0===u?schemeCategory10:u,f=r.options,h=void 0===f?{}:f,p=r.std,g=void 0===p||p,m=r.hidden,v=void 0===m||m;if(Array.isArray(d)){var y=ordinal(d);d=function(e){return y(Number(e.cluster))}}var b=[];b=!0===g?standardize(e.data):e.data;var w={};s.forEach((function(e){w[e]=!0}));var C=[];b.forEach((function(e){var t=[];Object.entries(e).forEach((function(e){var n=slicedToArray(e,2),r=n[0],o=n[1];1==w[r]&&t.push(Number(o))})),C.push(t)}));var x=kmeans(C,i,h);if(e.data.forEach((function(e,t){e.cluster=x.clusters[t].toString()})),1==v&&Object.keys(e.partition).forEach((function(t){e.partition[t].push("cluster")})),e.vars.push("cluster"),e.data=format_data(e.data),t.charts.forEach((function(t){t.data(e.data).render().createAxes()})),t.charts.forEach((function(t,n){c.includes(n)&&t.color(d),t.hideAxis(e.partition[n]).render().updateAxes(0)})),n.grid){var _=add_column(e.grid.getColumns(),"cluster");t.gridUpdate({columns:_})}return this}},normalize=function(e){var t=array_to_object(e);return Object.entries(t).forEach((function(e){var n=slicedToArray(e,2),r=n[0],o=n[1];t[r]=arr.norms(o)})),object_to_array(t,e)},weightedSum=function(e,t,n){return function(r){var o=r.weights,i=r.displayIDs,a=void 0===i?[].concat(toConsumableArray(Array(t.charts.length).keys())):i,s=r.norm,l=void 0===s||s;a=a.map(Number);var c=[];c=!0===l?normalize(e.data):e.data;var u=[];c.forEach((function(e,t){var n=0;Object.entries(e).forEach((function(e){var t=slicedToArray(e,2),r=t[0],i=t[1];o[r]&&(n+=i*o[r])})),c[t].score=n,u.push(n)}));var d=arr.extents(u);if(c.forEach((function(t,n){e.data[n]["weighted sum"]=((t.score-d[0])/(d[1]-d[0])).toString()})),Object.keys(e.partition).forEach((function(t){a.includes(Number(t))||e.partition[Number(t)].push("weighted sum")})),e.vars.push("weighted sum"),e.data=format_data(e.data),t.charts.forEach((function(t,n){t.data(e.data).hideAxis(e.partition[n]).render().createAxes()})),n.grid){var f=add_column(e.grid.getColumns(),"weighted sum");t.gridUpdate({columns:f})}return this}},hideAxes=function(e,t,n){return function(n){if(Array.isArray(n))Object.keys(e.partition).forEach((function(t){e.partition[t]=union(e.partition[t],n)}));else{if(!isPlainObject(n))throw"Error: please provide an object or array as argument.";Object.entries(n).forEach((function(t){var r=slicedToArray(t,2),o=r[0];r[1];e.partition[o]&&(e.partition[o]=union(e.partition[o],n[o]))}))}return Object.entries(e.partition).forEach((function(e){var n=slicedToArray(e,2),r=n[0],o=n[1];t.charts[r].hideAxis(o),t.charts[r].render().updateAxes(500)})),this}},showAxes=function(e,t,n){return function(n){if(void 0===n)Object.keys(e.partition).forEach((function(t){e.partition[t]=[]}));else if(Array.isArray(n))Object.keys(e.partition).forEach((function(t){e.partition[t]=difference(e.partition[t],n)}));else{if(!isPlainObject(n))throw"Error: please provide an object or array as argument.";Object.entries(n).forEach((function(t){var r=slicedToArray(t,2),o=r[0];r[1];e.partition[o]&&(e.partition[o]=difference(e.partition[o],n[o]))}))}return Object.entries(e.partition).forEach((function(e){var n=slicedToArray(e,2),r=n[0],o=n[1];t.charts[r].hideAxis(o),t.charts[r].render().updateAxes(500)})),this}},setAxesLayout=function(e,t,n){return function(n){if(!isPlainObject(n))throw"Error: please provide layout as a plain object.";return Object.entries(n).forEach((function(t){var r=slicedToArray(t,2),o=r[0];r[1];e.partition[o]&&(e.partition[o]=difference(e.vars.concat("id"),n[o]))})),Object.entries(e.partition).forEach((function(e){var n=slicedToArray(e,2),r=n[0],o=n[1];t.charts[r].hideAxis(o),t.charts[r].render().updateAxes(0)})),this}},keepData=function(e,t,n){return function(r){var o=[];if("brushed"==r)o=e.brushed;else if("marked"==r)o=e.marked;else{if("both"!=r)throw"Please specify one of {'brushed', 'marked', 'both'}";o=e.selections()}if(!(o.length>0))throw"Error: No data selected.";return t.resetSelections("both"),e.data=o,t.charts.forEach((function(e){e.data(o).render.default(),e.brushReset()})),n.grid&&t.gridUpdate(),this}},removeData=function(e,t,n){return function(r){var o=[];if("brushed"==r)o=e.brushed;else if("marked"==r)o=e.marked;else{if("both"!=r)throw"Please specify one of {'brushed', 'marked', 'both'}";o=e.selections()}if(!((o=difference(e.data,o)).length>0&&o.length<e.data.length))throw"Error: No data selected.";return t.resetSelections("both"),e.data=o,t.charts.forEach((function(e){e.data(o).render.default(),e.brushReset()})),n.grid&&t.gridUpdate(),this}},FileSaver=createCommonjsModule((function(e){
    /*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
    var t=t||function(e){if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in r,i=/constructor/i.test(e.HTMLElement)||e.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},l=function(e){setTimeout((function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()}),4e4)},c=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},u=function(t,u,d){d||(t=c(t));var f,h=this,p="application/octet-stream"===t.type,g=function(){!function(e,t,n){for(var r=(t=[].concat(t)).length;r--;){var o=e["on"+t[r]];if("function"==typeof o)try{o.call(e,n||e)}catch(e){s(e)}}}(h,"writestart progress write writeend".split(" "))};if(h.readyState=h.INIT,o)return f=n().createObjectURL(t),void setTimeout((function(){r.href=f,r.download=u,function(e){var t=new MouseEvent("click");e.dispatchEvent(t)}(r),g(),l(f),h.readyState=h.DONE}));!function(){if((a||p&&i)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=a?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,h.readyState=h.DONE,g()},r.readAsDataURL(t),void(h.readyState=h.INIT)}(f||(f=n().createObjectURL(t)),p)?e.location.href=f:e.open(f,"_blank")||(e.location.href=f);h.readyState=h.DONE,g(),l(f)}()},d=u.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=c(e)),navigator.msSaveOrOpenBlob(e,t)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,function(e,t,n){return new u(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||commonjsGlobal.content);e.exports&&(e.exports.saveAs=t)})),FileSaver_1=FileSaver.saveAs,exportData=function(e,t,n){return function(t){var n=t.selection,r=void 0===n?"both":n,o=t.filename,i=void 0===o?null:o,a=t.exportAll;null===i&&(i="parasol_data.csv");var s=[];if(void 0!==a&&a)s=e.data;else if("brushed"==r)s=e.brushed;else if("marked"==r)s=e.marked;else{if("both"!=r)throw"Please specify one of {'brushed', 'marked', 'both'}";s=e.selections()}if(!(s.length>0))throw"Error: No data selected.";var l=csvFormat(s,e.vars),c=new Blob([l],{type:"text/csv"});return FileSaver_1(c,i),this}},resetSelections=function(e,t,n){return function(e){if("brushed"==e)t.brushReset();else if("marked"==e)t.unmark();else{if("both"!=e)throw"Please specify one of {'brushed', 'marked', 'both'}";t.brushReset(),t.unmark()}}},alpha=function(e,t,n){return function(e){return t.charts.forEach((function(t){return t.alpha(e)})),this}},color$1=function(e,t,n){return function(e){return t.charts.forEach((function(t){return t.color(e)})),this}},alphaOnBrushed=function(e,t,n){return function(e){return t.charts.forEach((function(t){return t.alphaOnBrushed(e)})),this}},brushedColor=function(e,t,n){return function(e){return t.charts.forEach((function(t){return t.brushedColor(e)})),this}},reorderable$1=function(e,t,n){return function(){return t.charts.forEach((function(e){return e.reorderable()})),this}},composite=function(e,t,n){return function(e){return t.charts.forEach((function(t){return t.composite(e)})),this}},shadows$1=function(e,t,n){return function(e){return t.charts.forEach((function(t){return t.shadows(e)})),this}},mark$1=function(e,t,n){return function(e){t.charts.forEach((function(t){return t.mark(e)}))}},highlight$1=function(e,t,n){return function(e){t.charts.forEach((function(t){return t.highlight(e)}))}},dimensions=function(e,t,n){return function(e){return t.charts.forEach((function(t){return t.dimensions(e)})),this}},flipAxes=function(e,t,n){return function(e){return t.charts.forEach((function(t){return t.flipAxes(e)})),this}},scale$1=function(e,t,n){return function(e,n){var r=t.charts[0].dimensions()[e].yscale.domain();if(!(r[0]>=n[0]&&r[1]<=n[1]))throw Error("Domain Error: specified domain must exceed axis extrema.");return t.charts.forEach((function(t){return t.scale(e,n)})),this}},bundleDimension=function(e,t,n){return function(e){return t.charts.forEach((function(t){return t.bundleDimension(e)})),this}},bundlingStrength=function(e,t,n){return function(e){return t.charts.forEach((function(t){return t.bundlingStrength(e)})),this}},smoothness=function(e,t,n){return function(e){return t.charts.forEach((function(t){return t.smoothness(e)})),this}},render$1=function(e,t,n){return function(){return t.charts.forEach((function(t,n){t.hideAxis(e.partition[n]).render().updateAxes(0)})),this}},brushReset$5=function(e,t,n){return function(){t.charts.forEach((function(e){return e.brushReset()})),e.brushed=[],n.grid&&t.gridUpdate()}},unmark$1=function(e,t,n){return function(){t.charts.forEach((function(e){return e.unmark()})),e.marked=[],n.grid&&(e.grid.setSelectedRows([]),t.gridUpdate())}},unhighlight$1=function(e,t,n){return function(){t.charts.forEach((function(e){return e.unhighlight()}))}},DefaultConfig$1={dataView:!1,grid:!1,chartOptions:{},brushed:[],marked:[],selections:function(){return union(this.brushed,this.marked)}},_this$6=void 0,initState$1=function(e,t){var n=Object.assign({},DefaultConfig$1,t);n.data=e,n.vars=Object.keys(e[0]),n.partition={},n.data.forEach((function(e,t){e.id=e.id||t})),n.data=format_data(n.data);var r=["brush","brushend","brushstart"].concat(keys(n));return{config:n,events:dispatch.apply(_this$6,r),eventTypes:r,flags:{linked:!1,grid:!1}}},version$2="1.0.1",Parasol=function(e,t){var n=initState$1(e,t),r=n.config,o=(n.events,n.flags),i=init$2(r);return i.state=r,i.flags=o,i.version=version$2,i.grid=r.grid,i.dataview=r.dataview,i.attachGrid=attachGrid(r,i,o),i.gridUpdate=gridUpdate(r,i,o),i.linked=linked(r,i,o),i.cluster=cluster$1(r,i,o),i.weightedSum=weightedSum(r,i,o),i.hideAxes=hideAxes(r,i,o),i.showAxes=showAxes(r,i,o),i.setAxesLayout=setAxesLayout(r,i,o),i.keepData=keepData(r,i,o),i.removeData=removeData(r,i,o),i.exportData=exportData(r,i,o),i.resetSelections=resetSelections(r,i,o),i.alpha=alpha(r,i,o),i.color=color$1(r,i,o),i.alphaOnBrushed=alphaOnBrushed(r,i,o),i.brushedColor=brushedColor(r,i,o),i.reorderable=reorderable$1(r,i,o),i.composite=composite(r,i,o),i.shadows=shadows$1(r,i,o),i.mark=mark$1(r,i,o),i.highlight=highlight$1(r,i,o),i.dimensions=dimensions(r,i,o),i.scale=scale$1(r,i,o),i.flipAxes=flipAxes(r,i,o),i.bundleDimension=bundleDimension(r,i,o),i.bundlingStrength=bundlingStrength(r,i,o),i.smoothness=smoothness(r,i,o),i.render=render$1(r,i,o),i.brushReset=brushReset$5(r,i,o),i.unmark=unmark$1(r,i,o),i.unhighlight=unhighlight$1(r,i,o),i};return Parasol}));